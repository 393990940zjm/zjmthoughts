(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fa140fc4"],{1808:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("4160"),a("159b");var i=a("b3f5"),n=a("384c"),r=a("c1df"),s=a.n(r),o={processMaintainData:function(e){return e.forEach((function(e){e.mainLastTime=e.mainLastTime?s()(e.mainLastTime).format("YYYY-MM-DD HH:mm:ss"):null,e.maintainTime=e.maintainTime?s()(e.maintainTime).format("YYYY-MM-DD HH:mm:ss"):null,e.startTime=e.startTime?s()(e.startTime).format("YYYY-MM-DD HH:mm:ss"):null,e.endTime=e.endTime?s()(e.endTime).format("YYYY-MM-DD HH:mm:ss"):null})),e},getMaintainHistoryData:function(e){var t=i;return t},confirmMiantain:function(e){var t=n;return t},generateFilters:function(e){var t={};for(var a in e)e[a]&&(t.hasFilter=!0,t[a]=e[a]);return t}}},"384c":function(e){e.exports=JSON.parse('{"code":"0000","rows":{},"message":"保存成功"}')},"3cac":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"confirm-maintaince",attrs:{width:"50%",title:e.title,visible:e.showModalFlag,"close-on-click-modal":!1},on:{"update:visible":function(t){e.showModalFlag=t},closed:e.cancelAction}},[e.requiredData?a("el-form",{ref:"confirmDataForm",attrs:{model:e.requiredData,rules:e.confirmRules}},[a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.EQUIPMENT_DATA.MAINTANCE_CODE,"label-width":e.formLabelWidth,prop:"factory"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"",disabled:!0},model:{value:e.requiredData.maintainCode,callback:function(t){e.$set(e.requiredData,"maintainCode",t)},expression:"requiredData.maintainCode"}})],1)],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.EQUIPMENT_DATA.MAINTANCE_LEVEL,"label-width":e.formLabelWidth,prop:"levelName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"",disabled:!0},model:{value:e.requiredData.levelName,callback:function(t){e.$set(e.requiredData,"levelName",t)},expression:"requiredData.levelName"}})],1)],1)],1),a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.CONSTANTS_DEVICE_CONFIGURATION.DEVICE_NAME,"label-width":e.formLabelWidth,prop:"deviceName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"",disabled:!0},model:{value:e.requiredData.deviceName,callback:function(t){e.$set(e.requiredData,"deviceName",t)},expression:"requiredData.deviceName"}})],1)],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.EQUIPMENT_DATA.LAST_MAINTANCE_TIME,"label-width":e.formLabelWidth,prop:"mainLastTime"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"",disabled:!0},model:{value:e.requiredData.mainLastTime,callback:function(t){e.$set(e.requiredData,"mainLastTime",t)},expression:"requiredData.mainLastTime"}})],1)],1)],1),a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.EQUIPMENT_MONITORING.DEVICE_TYPE,"label-width":e.formLabelWidth,prop:"typeName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"",disabled:!0},model:{value:e.requiredData.typeName,callback:function(t){e.$set(e.requiredData,"typeName",t)},expression:"requiredData.typeName"}})],1)],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.EQUIPMENT_DATA.MAINTANCE_TIME_PLAN,"label-width":e.formLabelWidth,prop:"maintainTime"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"",disabled:!0},model:{value:e.requiredData.maintainTime,callback:function(t){e.$set(e.requiredData,"maintainTime",t)},expression:"requiredData.maintainTime"}})],1)],1)],1),a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.EQUIPMENT_LIVE.DEVICE_NO,"label-width":e.formLabelWidth,prop:"deviceCode"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"",disabled:!0},model:{value:e.requiredData.devicePriCode,callback:function(t){e.$set(e.requiredData,"devicePriCode",t)},expression:"requiredData.devicePriCode"}})],1)],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.EQUIPMENT_DATA.DEVIC_ADRESS,"label-width":e.formLabelWidth,prop:"productionLine"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"",disabled:!0},model:{value:e.requiredData.position,callback:function(t){e.$set(e.requiredData,"position",t)},expression:"requiredData.position"}})],1)],1)],1),a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.EQUIPMENT_DATA.MAINTAINCE_START_TIME,"label-width":e.formLabelWidth,prop:"maintaince_start_ts"}},[a("el-date-picker",{attrs:{type:"datetime",disabled:!0===e.changeFlag,placeholder:e.EQUIPMENT_DATA.PLESE_SELECT_DATE},model:{value:e.requiredData.maintaince_start_ts,callback:function(t){e.$set(e.requiredData,"maintaince_start_ts",t)},expression:"requiredData.maintaince_start_ts"}})],1)],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.EQUIPMENT_DATA.MAINTAINCE_ALLTIME,"label-width":e.formLabelWidth,prop:"levelName"}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"",disabled:!0},model:{value:e.requiredData.mainDuration,callback:function(t){e.$set(e.requiredData,"mainDuration",t)},expression:"requiredData.mainDuration"}})],1)],1)],1),a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.EQUIPMENT_DATA.MAINTAINCE_END_TIME,"label-width":e.formLabelWidth,prop:"maintaince_end_ts"}},[a("el-date-picker",{attrs:{type:"datetime",disabled:!0===e.changeFlag,placeholder:e.EQUIPMENT_DATA.PLESE_SELECT_DATE},model:{value:e.requiredData.maintaince_end_ts,callback:function(t){e.$set(e.requiredData,"maintaince_end_ts",t)},expression:"requiredData.maintaince_end_ts"}})],1)],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:e.EQUIPMENT_DATA.MAINTAINCE_USERS,"label-width":e.formLabelWidth,prop:"users"}},[a("el-select",{attrs:{multiple:"",placeholder:e.MSG.PLEASE_CHOOSE,disabled:!1===e.showUser||!0===e.changeFlag},model:{value:e.requiredData.users,callback:function(t){e.$set(e.requiredData,"users",t)},expression:"requiredData.users"}},e._l(e.$store.state.filters.userData,(function(e){return a("el-option",{key:e.userId,attrs:{label:e.realName,value:e.userId}})})),1)],1)],1),a("el-col",{attrs:{span:11}},[a("el-form-item",{attrs:{label:"保养关联人","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"filter-input",attrs:{placeholder:"",disabled:!0},model:{value:e.requiredData.maintainAssignUserNameList,callback:function(t){e.$set(e.requiredData,"maintainAssignUserNameList",t)},expression:"requiredData.maintainAssignUserNameList"}})],1)],1)],1),e.extendPropertyValueVoList&&e.extendPropertyValueVoList.length>0?a("el-row",{attrs:{gutter:22}},e._l(e.extendPropertyValueVoList,(function(t,i){return a("el-col",{key:i,attrs:{span:11}},[a("el-form-item",{class:{requiredStar:1===t.propertyIsNull},attrs:{label:t.extendName,"label-width":e.formLabelWidth,prop:"extendPropertyValueVoList."+i+".extendValue",rules:e.confirmRules[t.propertyCode]}},[3!==t.propertyType?a("el-input",{attrs:{disabled:!0===e.changeFlag},on:{input:function(t){return e.change(t)}},model:{value:t.extendValue,callback:function(a){e.$set(t,"extendValue",a)},expression:"item.extendValue"}}):a("el-date-picker",{attrs:{type:"datetime",disabled:!0===e.changeFlag,format:e.FORM_CONFIG_DATE[t.propertyLength],"value-format":e.FORM_CONFIG_DATE[t.propertyLength]},on:{input:function(t){return e.change(t)}},model:{value:t.extendValue,callback:function(a){e.$set(t,"extendValue",a)},expression:"item.extendValue"}})],1)],1)})),1):e._e(),a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"工作描述",prop:"maintainRemark","label-width":e.formLabelWidth}},[a("el-input",{staticClass:"filter-input",attrs:{type:"textarea",rows:4,disabled:!0===e.changeFlag,placeholder:""},model:{value:e.requiredData.maintainRemark,callback:function(t){e.$set(e.requiredData,"maintainRemark",t)},expression:"requiredData.maintainRemark"}})],1)],1)],1)],1):e._e(),a("el-row",{staticClass:"maintaninceIMG",attrs:{gutter:22}},[a("el-col",{attrs:{span:20,push:2}},[a("el-upload",{ref:"upload",attrs:{"list-type":"picture-card",disabled:!0===e.changeFlag,headers:e.uploadConfig.headers,action:e.uploadConfig.url,data:e.uploadConfig.data,"before-upload":e.updateFiles,"file-list":e.fileList,"on-success":e.updateSuccess,"on-preview":e.handlePictureCardPreview,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"})]),a("el-dialog",{attrs:{visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})])],1)],1),a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:22}},[a("vxe-table",{ref:"maintainceItemTable",attrs:{border:"","show-header-overflow":"","show-overflow":"","highlight-hover-row":"",stripe:"","max-height":"288","edit-config":{trigger:"click",mode:"cell"},loading:e.tableLoading,"highlight-current-row":"",data:e.maintainceItems.data}},[a("vxe-table-column",{attrs:{type:"seq",width:"60",align:"center",title:e.VARIABLE.SEQ}}),a("vxe-table-column",{attrs:{field:"maintainItemName",align:"center",title:e.EQUIPMENT_DATA.MAINTAINCE_ITEM}}),a("vxe-table-column",{attrs:{field:"completed",align:"center",title:e.EQUIPMENT_DATA.IS_COMPLETE},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[0==i.completed?a("i",{staticClass:"icon-unChecked",staticStyle:{cursor:"pointer"},on:{click:function(e){i.completed=1}}}):e._e(),1==i.completed?a("i",{staticClass:"icon-checked",staticStyle:{cursor:"pointer"},on:{click:function(e){i.completed=2}}}):e._e(),2==i.completed?a("i",{staticClass:"icon-no",staticStyle:{cursor:"pointer"},on:{click:function(e){i.completed=0}}}):e._e()]}}])}),a("vxe-table-column",{attrs:{field:"value",align:"center",title:e.EQUIPMENT_DATA.REAL_TEST_VALUE,"edit-render":{name:"input",attrs:{type:"text"}}}})],1)],1)],1),a("el-row",{staticStyle:{"margin-top":"15px"},attrs:{gutter:22}},[a("el-col",{attrs:{span:22}},[a("vxe-table",{ref:"maintainceItemTable",attrs:{border:"","show-header-overflow":"","show-overflow":"","highlight-hover-row":"",stripe:"","max-height":"288","edit-config":{trigger:"click",mode:"cell"},loading:e.tableLoading,"highlight-current-row":"",data:e.taskProcessRecordVoList}},[a("vxe-table-column",{attrs:{type:"seq",width:"60",align:"center",title:e.VARIABLE.SEQ}}),a("vxe-table-column",{attrs:{field:"processTypeName",align:"center",title:e.EQUIPMENT_DATA.MAINTAINCE_PROCESS}}),a("vxe-table-column",{attrs:{field:"realName",align:"center",title:e.EQUIPMENT_DATA.MAINTAINCE_USERS,formatter:e.formatterRealName}}),a("vxe-table-column",{attrs:{field:"recordTime",align:"center",title:e.EQUIPMENT_DATA.OPER_TIME}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.dataset.isGrabMonad,expression:"dataset.isGrabMonad === 1"}],attrs:{type:"primary"},on:{click:e.GrabMonad}},[e._v(e._s(e.BTN_TEXT.ACCEPT_TASK))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.dataset.isSubmitReview||0===e.dataset.isSubmitReview,expression:"dataset.isSubmitReview === 1 || dataset.isSubmitReview === 0 "}],attrs:{type:"primary"},on:{click:function(t){return e.checkDataCorrect(1)}}},[e._v(e._s(e.confirmLabel))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.dataset.isChargeback,expression:"dataset.isChargeback === 1"}],attrs:{type:"tertiary"},on:{click:e.chargeback}},[e._v(e._s(e.BTN_TEXT.CHARGEBACK))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.dataset.isReview,expression:"dataset.isReview === 1"}],attrs:{type:"success"},on:{click:e.pass}},[e._v(e._s(e.BTN_TEXT.PASS))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.dataset.isReject,expression:"dataset.isReject === 1"}],attrs:{type:"danger"},on:{click:e.reject}},[e._v(e._s(e.BTN_TEXT.REJECT))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.dataset.isRevoke,expression:"dataset.isRevoke === 1"}],attrs:{type:"tertiary"},on:{click:e.revoke}},[e._v(e._s(e.BTN_TEXT.REVOKE))]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:1===e.dataset.isSave,expression:"dataset.isSave === 1"}],attrs:{type:"tertiary"},on:{click:function(t){return e.checkDataCorrect(0)}}},[e._v(e._s(e.BTN_TEXT.SAVE))]),a("el-button",{attrs:{type:"tertiary"},on:{click:e.cancelAction}},[e._v(e._s(e.cancelLabel))])],1)],1)},n=[],r=(a("a15b"),a("d81d"),a("ac1f"),a("5319"),a("582a")),s=a("17cb"),o=a("f564"),l=a("3fa5"),c=a("6464"),u={name:"ConfirmMaintainceModal",props:{title:{type:String,default:""},showUser:{type:Boolean},cancelLabel:{type:String,default:r["c"].CLOSE},confirmLabel:{type:String,default:r["c"].CONFIRM_FINISH},showDialog:{type:Boolean,default:!0},input:{type:String,default:""},requiredData:{type:Object,default:function(){}},dataset:{type:Object,default:function(){return{isGrabMonad:2,isChargeback:2,isSave:2,isSubmitReview:2,isReject:2,isRevoke:2}}},tabs:{type:Array,default:[]},disableUpdate:{type:Boolean,default:!1},handleCancel:Function,handleConfirm:Function,handleClose:Function,chargebackTask:Function,reviewMaintainTask:Function,rejectMaintainTask:Function,revokeMaintainTask:Function,takeTask:Function},data:function(){var e=this,t=function(t,a,i){return e.$options.filters.formatterFormValidate(t,a,i,e.extendPropertyValueVoList)};return{showModalFlag:!1,setValidateForm:t,VARIABLE:r["P"],FORM_CONFIG_DATE:r["D"],PLC_PARAMS:r["J"],BTN_TEXT:r["c"],MSG:r["H"],EQUIPMENT_DATA:r["s"],EQUIPMENT_MONITORING:r["v"],EQUIPMENT_LIVE:r["t"],CONSTANTS_DEVICE_CONFIGURATION:r["i"],ENERGY:r["q"],formLabelWidth:"135px",confirmData:null,confirmRules:{maintaince_start_ts:[{required:!0,message:r["H"].PLEASE_ENTER_CONTENT}],users:[{required:!0,message:r["H"].PLEASE_ENTER_CONTENT}],maintaince_end_ts:[{required:!0,message:r["H"].PLEASE_ENTER_CONTENT}]},extendPropertyValueVoList:[],maintainRemark:"",tableLoading:!1,maintainceItems:{data:[]},taskProcessRecordVoList:[],completeList:[{value:1,label:"完成"},{value:0,label:"未完成"}],showForm:!1,dialogImageUrl:"",changeFlag:!0,fileList:[],delFileList:[],dialogVisible:!1,uploadConfig:{headers:{token:window.localStorage.getItem("token").replace(/"/g,"")},url:r["E"].PUBLICIP+"fileResource/uploadOneFile.action",data:{fileResourceTypeEnum:r["z"].MAINTAIN_IMAGE,relationshipId:""}}}},methods:{change:function(e){this.$forceUpdate()},initData:function(){var e="";void 0!==this.requiredData.factory&&(void 0!==this.requiredData.workshop||void 0!==this.requiredData.productionLine?e+=this.requiredData.factory+"-":e+=this.requiredData.factory),1===this.requiredData.maintainState||4===this.requiredData.maintainState?this.changeFlag=!1:this.changeFlag=!0,void 0!==this.requiredData.workshop&&(void 0!==this.requiredData.productionLine?e+=this.requiredData.workshop+"-":e+=this.requiredData.workshop),void 0!==this.requiredData.productionLine&&(e+=this.requiredData.productionLine),this.taskProcessRecordVoList=this.requiredData.taskProcessRecordVoList,this.requiredData.position=e,this.fileList=[],this.delFileList=[],0!==this.requiredData.users.length&&void 0!==this.requiredData.users||(this.requiredData.users=[],this.requiredData.users.push(window.localStorage.getItem("userId").replace(/"/g,""))),this.toExtendRulesAndShow(this.requiredData),this.getFileList(this.requiredData.maintainImageList),this.getListMaintainTaskRelationshipItemById(),s["a"].getUsers()},getListMaintainTaskRelationshipItemById:function(){var e=this;this.tableLoading=!0,Object(o["s"])({maintainId:this.requiredData.maintainId}).then((function(t){e.tableLoading=!1,t.code===r["M"].OPERATION_SUCCESS?e.maintainceItems.data=t.rows:Object(l["c"])(t.message)})).catch((function(e){Object(c["a"])(e)}))},cancelAction:function(){if(this.$refs.confirmDataForm.resetFields(),this.fileList=[],this.handleCancel){var e=this;setTimeout((function(){e.handleCancel()}))}},confirmAction:function(e){var t=this.requiredData;this.handleConfirm&&(t.startTime=this.$options.filters.formatTime(this.requiredData.maintaince_start_ts),t.endTime=this.$options.filters.formatTime(this.requiredData.maintaince_end_ts),t.maintainUserIdList=this.requiredData.users,t.userIdList=this.requiredData.users.join(","),t.maintainceItems=this.maintainceItems.data,t.flag=e,t.maintainImageFileIds=this.fileList.map((function(e){var t="";return t=e.flag?e.id:e.response.rows.resourceId,t})),t.delFileList=this.delFileList,this.handleConfirm(t),this.clearData())},chargeback:function(){this.chargebackTask(this.requiredData.maintainId)},pass:function(){this.reviewMaintainTask(this.requiredData.maintainId)},reject:function(){this.rejectMaintainTask(this.requiredData.maintainId)},revoke:function(){this.revokeMaintainTask(this.requiredData.maintainId)},GrabMonad:function(){console.log(111),this.takeTask(this.requiredData.maintainId)},checkDataCorrect:function(e){var t=this;this.$refs.confirmDataForm.validate((function(a){a&&t.confirmAction(e)}))},clearData:function(){this.maintainRemark="",this.fileList=[],this.maintainceItems={data:[]}},toExtendRulesAndShow:function(e){var t=e.extendPropertyValueVoList.map((function(t){return t.relationshipTypeId=e.maintainId,t.extendValue=t.extendValue?t.extendValue:null,t}));this.extendPropertyValueVoList=t;var a=JSON.parse(JSON.stringify(this.confirmRules));for(var i in this.extendPropertyValueVoList)3===this.extendPropertyValueVoList[i].propertyType?a[this.extendPropertyValueVoList[i].propertyCode]=[{validator:this.setValidateForm,trigger:["blur","change"]}]:a[this.extendPropertyValueVoList[i].propertyCode]=[{validator:this.setValidateForm,trigger:"blur"}];this.confirmRules=a},handleRemove:function(e,t){e.flag?(this.delFileList.push(e.id),this.fileList=t):(this.delFileList.push(e.response.rows.resourceId),this.fileList=t)},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},updateFiles:function(){},updateSuccess:function(e,t,a){e.code===this.GLOBAL.STATUS_CODE.OPERATION_SUCCESS?this.fileList.push(t):(0===this.fileList.length?this.fileList=[]:this.fileList=JSON.parse(JSON.stringify(this.fileList)),Object(l["c"])("上传异常"))},getFileList:function(e){var t=e.map((function(e){var t={id:e.resourceId,url:r["E"].PUBLICIP+e.fileUrl,relationshipId:e.relationshipId,flag:!0};return t}));this.delFileList=[],this.fileList=t},formatterRealName:function(e){var t=e.cellValue;return"计划"===t?"系统生成":t}},watch:{requiredData:function(e,t){this.initData(),this.showDialog&&(this.showModalFlag=!0)},showDialog:function(e,t){this.showDialog||(this.showModalFlag=!1)}},created:function(){}},d=u,m=d,h=(a("608e"),a("2877")),p=Object(h["a"])(m,i,n,!1,null,"d3e7178a",null);t["a"]=p.exports},"608e":function(e,t,a){"use strict";var i=a("d094"),n=a.n(i);n.a},6464:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("5c96");function n(e,t){i["Notification"].error({title:e,message:t,duration:2e3,position:"bottom-right",showClose:!0})}},"7a15":function(e,t,a){},"85a8":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-left-border"},[a("div",[a("span",{staticClass:"head-title-span"},[e._v(e._s(e.title))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"flag"}],staticClass:"head-search",on:{click:e.onSearch}},[a("i",{staticClass:"icon-search"}),a("span",{staticClass:"search-span"},[e._v("搜索")])]),a("div",[e._t("head-search")],2)]),a("div",[e._t("head-operation")],2)])},n=[],r=(a("b0c0"),{name:"HeaderTitle",props:{titleName:{type:String,default:""},flag:{type:Boolean,default:!1}},data:function(){return{title:""}},methods:{getTitle:function(){""===this.titleName?this.title=this.$route.name:this.title=this.titleName},onSearch:function(){this.$emit("searchButtonClick")}},watch:{titleName:function(e,t){this.getTitle()}},created:function(){this.getTitle()},components:{}}),s=r,o=(a("af73"),a("2877")),l=Object(o["a"])(s,i,n,!1,null,"d1fc4504",null);t["a"]=l.exports},8644:function(e,t,a){"use strict";var i=a("9c40"),n=a.n(i);n.a},"9c40":function(e,t,a){},af73:function(e,t,a){"use strict";var i=a("7a15"),n=a.n(i);n.a},b3f5:function(e){e.exports=JSON.parse('{"code":"0000","rows":{"data":[{"maintainId":"保养任务Id","groupName":"车间名称","deviceName":"设备名称","deviceProCode":"设备编码","mode":"设备型号","typeName":"设备类型","maintainCode":"保养单编号","maintainTime":"保养预计时间","startTime":"保养开始时间","endTime":"保养结束时间","userId":"用户Id","realName":"真实姓名","maintainState":"保养内容"},{"maintainId":"保养任务Id","groupName":"车间名称","deviceName":"设备名称","deviceProCode":"设备编码","mode":"设备型号","typeName":"设备类型","maintainCode":"保养单编号","maintainTime":"保养预计时间","startTime":"保养开始时间","endTime":"保养结束时间","userId":"用户Id","realName":"真实姓名","maintainState":"保养内容"},{"maintainId":"保养任务Id","groupName":"车间名称","deviceName":"设备名称","deviceProCode":"设备编码","mode":"设备型号","typeName":"设备类型","maintainCode":"保养单编号","maintainTime":"保养预计时间","startTime":"保养开始时间","endTime":"保养结束时间","userId":"用户Id","realName":"真实姓名","maintainState":"保养内容"},{"maintainId":"保养任务Id","groupName":"车间名称","deviceName":"设备名称","deviceProCode":"设备编码","mode":"设备型号","typeName":"设备类型","maintainCode":"保养单编号","maintainTime":"保养预计时间","startTime":"保养开始时间","endTime":"保养结束时间","userId":"用户Id","realName":"真实姓名","maintainState":"保养内容"}]}}')},c42f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("sHeader",{attrs:{titleName:e.titleName}},[a("div",{staticClass:"head-operation",attrs:{slot:"header-action"},slot:"header-action"},[a("HeaderAction",{attrs:{name:"1"},on:{onOprationItem:function(t){return e.goHome()}}},[a("el-button",{attrs:{slot:"action"},slot:"action"},[a("i",{staticClass:"el-icon-d-arrow-left"}),e._v(e._s(e.BTN_TEXT.RETURN)+" ")])],1)],1)]),a("el-container",{staticClass:"station_maintain"},[a("el-col",{attrs:{span:24}},[a("el-col",{staticClass:"sm-right",attrs:{span:24}},[a("div",{staticClass:"searchTask"},[a("div",{staticClass:"searchDiv"},[a("el-label",[e._v("车间分组：")]),a("el-cascader",{staticClass:"formItem_full",attrs:{clearable:"",size:"mini",options:e.groupOptions,props:{expandTrigger:"hover"},"show-all-levels":!0},model:{value:e.formInline.groupId,callback:function(t){e.$set(e.formInline,"groupId",t)},expression:"formInline.groupId"}})],1),a("div",{staticClass:"searchDiv"},[a("el-label",[e._v("设备类型：")]),a("el-cascader",{staticClass:"formItem_full",attrs:{clearable:"",size:"mini",options:e.typeOptions,props:{checkStrictly:!0},"show-all-levels":!1},model:{value:e.formInline.typeId,callback:function(t){e.$set(e.formInline,"typeId",t)},expression:"formInline.typeId"}})],1),a("div",{staticClass:"searchDiv"},[a("el-label",[e._v("设备名称：")]),a("el-input",{attrs:{clearable:"",size:"mini"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),a("div",{staticClass:"searchDiv"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.getMaintainData}},[e._v(e._s(e.BTN_TEXT.SEARCH))]),a("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v(e._s(e.BTN_TEXT.RESET))])],1)]),a("div",{attrs:{id:"tabs"}},[a("ul",e._l(e.tabs,(function(t,i){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.showFalg,expression:"tab.showFalg"}],key:i,class:{active:e.activeTab==i},on:{click:function(a){return e.toggle(i,t.state)}}},[e._v(" "+e._s(t.name)+" ")])})),0)]),a("VXETable",{ref:"maintainceTaskTable",attrs:{tableName:"",height:e.$options.filters.getTableHeight(165),tableLoading:e.tableLoading,"pager-config":e.maintainData.page,tableDatas:e.maintainData.data,tableColumns:e.maintainData.columns,highlightCurrentRow:!0,tablePage:e.maintainData.page},on:{onTablePageChange:e.handleMaintainTablePageChange}})],1)],1),a("confirm-maintaince-modal",{attrs:{showDialog:e.ConfirmMaintainceData.show,title:e.ConfirmMaintainceData.title,cancelLabel:e.ConfirmMaintainceData.cancelLabel,handleCancel:e.clickCancel,handleConfirm:e.confirmMaintaince,handleClose:e.clickCancel,showUser:e.showUser,tabs:e.tabs,requiredData:e.ConfirmMaintainceData.data,dataset:e.ConfirmMaintainceData.dataset,chargebackTask:e.chargebackTask,reviewMaintainTask:e.reviewMaintainTask,rejectMaintainTask:e.showReject,revokeMaintainTask:e.revokeMaintainTask}})],1),a("el-dialog",{attrs:{title:e.TITLE.PROMPT,visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[a("p",{directives:[{name:"show",rawName:"v-show",value:5!==e.btnFlag,expression:"btnFlag !== 5"}],staticStyle:{"text-align":"center",width:"100%"}},[e._v(" "+e._s(e.warmInfo)+" ")]),a("el-input",{directives:[{name:"show",rawName:"v-show",value:5===e.btnFlag,expression:"btnFlag === 5"}],attrs:{type:"textarea",rows:5,placeholder:e.MSG.WRITE_DOWN_REJECTION},model:{value:e.rejectCauese,callback:function(t){e.rejectCauese=t},expression:"rejectCauese"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v(e._s(e.BTN_TEXT.CANCEL))]),a("el-button",{attrs:{type:"primary"},on:{click:e.btnClick}},[e._v(e._s(e.BTN_TEXT.SAVE))])],1)],1)],1)},n=[],r=(a("99af"),a("4160"),a("a15b"),a("d81d"),a("fb6a"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("159b"),a("96cf"),a("1da1")),s=a("1808"),o=a("17cb"),l=a("3cac"),c=a("582a"),u=a("f564"),d=a("f82c"),m=a("e072"),h=a("87b4"),p=a("6f32"),f=a("85a8"),g=a("3fa5"),b=a("6464"),T=a("1660"),v=a("ac6c"),I=a("cf46"),E=a("786f"),C={components:{ConfirmMaintainceModal:l["a"],ZTree:p["a"],HeaderTitle:f["a"],sHeader:T["a"],HeaderAction:v["a"],VXETable:I["a"]},data:function(){var e=this,t=this.$createElement;return{titleName:"设备保养",isBack:!0,FORM_CONFIG_DATE:c["D"],WORK_STATION:c["R"],MAINTAINTASK_STATUS:c["G"],EQUIPMENT_DATA:c["s"],BTN_TEXT:c["c"],PAGE_TITLE:c["I"],ENERGY:c["q"],TITLE:c["N"],MSG:c["H"],searchStatusData:{column:"maintainState",operator:1,ptype:"list",type:"in",value:4},filterData:{group:null,diviceType:null,divice:null,repairType:null,user:null,repairtState:null},activeTab:"0",tabs:[{type:"start",name:"待保养",val:"grab",state:"4",showFalg:!0},{type:"doing",name:"保养中",val:"doing",state:"1",showFalg:!0},{type:"check",name:"待审核",val:"review",state:"5",showFalg:!0},{type:"mycheck",name:"我的审核",val:"myReview",state:"5",showFalg:!0},{type:"finsihs",name:"已完成",val:"finsihs",state:"2",showFalg:!0}],tableLoading:!1,maintainData:{data:[],page:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],perfect:!0,layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"]},columns:[{field:"maintainCode",width:"160",title:c["q"].MAINTANCE_CODE,align:"center"},{field:"factory",width:"160",title:c["q"].FACTORY,align:"center"},{field:"workshop",width:"160",title:c["q"].WORKSHOP,align:"center"},{field:"productionLine",width:"160",title:c["q"].PRODUCTION_LINE,align:"center"},{field:"deviceName",width:"160",title:c["q"].DEVICENAME,align:"center"},{field:"devicePriCode",width:"160",title:c["q"].DEVICECODE,align:"center"},{field:"typeName",width:"160",title:c["I"].DEVICE_TYPE,align:"center"},{field:"mainLastTime",width:"160",title:c["s"].LAST_MAINTANCE_TIME,align:"center"},{field:"maintainTime",width:"160",title:c["s"].MAINTANCE_TIME_PLAN,align:"center"},{field:"levelName",width:"160",title:c["s"].MAINTANCE_LEVEL,align:"center"},{field:"maintainState",title:c["s"].STATUS,width:"160",align:"center",slots:{default:function(e){var a=e.row;return[t("span",[c["G"][a.maintainState]])]}}},{title:c["c"].OPERATION,width:"180",fixed:"right",align:"center",slots:{default:function(t){var a=t.row;return e.getTableBtn(a)}}}]},title:"",defaultPageTitle:c["I"].MAINTANCE_TASK,showConfirm:!1,ConfirmMaintainceData:{title:c["s"].CONFIRM_MAINTANCE,show:!1,data:null,dataset:{isChargeback:2,isSave:2,isSubmitReview:2,isReject:2,isRevoke:2}},maintainceHistoryPage:{show:!1,title:c["c"].MAINTANCE_HISTORY,data:[]},nodeData:null,selectedItem:{type:"deviceCode",id:null},warmInfo:"",dialogVisibleCustomColumn:!1,centerDialogVisible:!1,taskData:{},rejectCauese:"",btnFlag:null,typeOptions:[],typeOptionsY:[],groupOptions:[],groupOptionsY:[],formInline:{typeId:0,groupId:0},searchName:""}},methods:{tableHeightFunc:function(){return document.documentElement.clientHeight-180},handleCommand:function(e,t){switch(e){case"takeTask":this.warmInfo=c["s"].RECEIVE_THE_ORDER,this.centerDialogVisible=!0,this.taskData=t,this.btnFlag=1;break;case"chargeback":this.warmInfo=c["s"].CHARGEBACK_THE_ORDER,this.centerDialogVisible=!0,this.taskData=t,this.btnFlag=2;break;case"revoke":this.warmInfo=c["s"].REVOKE_THE_ORDER,this.centerDialogVisible=!0,this.taskData=t,this.btnFlag=3;break;case"pass":this.warmInfo=c["s"].PASS_THE_ORDER,this.centerDialogVisible=!0,this.taskData=t,this.btnFlag=4;break;case"reject":this.warmInfo=c["s"].REJECT_THE_ORDER,this.centerDialogVisible=!0,this.taskData=t,this.rejectCauese="",this.btnFlag=5;break;case"info":this.titleName="任务详情",this.isBack=!1,this.showConfirmMaintaincePage(t);break;default:break}},toggle:function(e,t){if(this.activeTab=e,"2"===t.toString()){var a=[2];a.push(3),this.searchStatusData={column:"maintainState",operator:1,ptype:"list",type:"in",value:a.join(",")}}else{var i=[];"1"===t.toString()&&(i=[1],this.tabs[0].showFalg||i.push(4),this.tabs[2].showFalg||i.push(5)),"5"===t.toString()&&(i=[5]),"4"===t.toString()&&(i=[4]),this.searchStatusData={column:"maintainState",operator:1,ptype:"list",type:"in",value:i.join(",")}}this.maintainData.page.currentPage=1,this.getMaintainData()},clickCancel:function(){this.ConfirmMaintainceData.show=!1},setSelected:function(e){},btnClick:function(){switch(this.btnFlag){case 1:this.takeTask();break;case 2:this.chargebackTask();break;case 3:this.revokeMaintainTask();break;case 4:this.reviewMaintainTask();break;case 5:this.rejectMaintainTask();break}},takeTask:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["L"])({maintainId:e.taskData.maintainId},{});case 3:a=t.sent,a.code===c["M"].OPERATION_SUCCESS?(e.centerDialogVisible=!1,e.getMaintainData(),e.ConfirmMaintainceData.show=!1,Object(g["b"])(a.message)):Object(g["c"])(a.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(b["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},chargebackTask:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i="",i=e||t.taskData.maintainId,a.prev=2,a.next=5,Object(u["cb"])({maintainId:i},{});case 5:n=a.sent,n.code===c["M"].OPERATION_SUCCESS?(t.centerDialogVisible=!1,t.ConfirmMaintainceData.show=!1,t.getMaintainData(),Object(g["b"])(n.message)):Object(g["c"])(n.message),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),Object(b["a"])(t.GLOBAL.TITLE.NOTIFY,a.t0);case 12:return a.prev=12,a.finish(12);case 14:case"end":return a.stop()}}),a,null,[[2,9,12,14]])})))()},reviewMaintainTask:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i="",i=e||t.taskData.maintainId,a.prev=2,a.next=5,Object(u["db"])({maintainId:i},{});case 5:n=a.sent,n.code===c["M"].OPERATION_SUCCESS?(t.centerDialogVisible=!1,t.ConfirmMaintainceData.show=!1,t.getMaintainData(),Object(g["b"])(n.message)):Object(g["c"])(n.message),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),Object(b["a"])(t.GLOBAL.TITLE.NOTIFY,a.t0);case 12:return a.prev=12,a.finish(12);case 14:case"end":return a.stop()}}),a,null,[[2,9,12,14]])})))()},showReject:function(e){this.warmInfo=c["s"].REJECT_THE_ORDER,this.centerDialogVisible=!0,this.taskData.maintainId=e,this.rejectCauese="",this.btnFlag=5},rejectMaintainTask:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="",a=t.taskData.maintainId,e.prev=2,e.next=5,Object(u["S"])({maintainId:a,repairReason:t.rejectCauese},{});case 5:i=e.sent,i.code===c["M"].OPERATION_SUCCESS?(t.centerDialogVisible=!1,t.ConfirmMaintainceData.show=!1,t.getMaintainData(),Object(g["b"])(i.message)):Object(g["c"])(i.message),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),Object(b["a"])(t.GLOBAL.TITLE.NOTIFY,e.t0);case 12:return e.prev=12,e.finish(12);case 14:case"end":return e.stop()}}),e,null,[[2,9,12,14]])})))()},revokeMaintainTask:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i="",i=e||t.taskData.maintainId,a.prev=2,a.next=5,Object(u["eb"])({maintainId:i});case 5:n=a.sent,n.code===c["M"].OPERATION_SUCCESS?(t.centerDialogVisible=!1,t.ConfirmMaintainceData.show=!1,t.getMaintainData(),Object(g["b"])(n.message)):Object(g["c"])(n.message),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),Object(b["a"])(t.GLOBAL.TITLE.NOTIFY,a.t0);case 12:return a.prev=12,a.finish(12);case 14:case"end":return a.stop()}}),a,null,[[2,9,12,14]])})))()},initPage:function(){this.title=this.defaultPageTitle,this.getMaintainData(),this.groupFilterData=o["a"].getGroup(),this.repairTypeFilterData=o["a"].getRepairType(),this.userNameList=o["a"].getUsers()},reset:function(){this.searchName="",this.formInline.groupId=null,this.formInline.typeId=null,this.getMaintainData()},getMaintainData:function(){var e=null;this.tableLoading=!0,this.maintainData&&this.maintainData.page&&(e={current:this.maintainData.page.currentPage,size:this.maintainData.page.pageSize});var t=[];this.searchName&&t.push({column:"deviceName",operator:1,ptype:"string",type:"like",value:this.searchName}),this.formInline.groupId&&this.formInline.groupId.length>0&&t.push({column:"groupId",operator:1,ptype:"list",type:"in",value:this.formInline.groupId[this.formInline.groupId.length-1]}),this.formInline.typeId&&this.formInline.typeId.length>0&&t.push({column:"typeId",operator:1,ptype:"list",type:"in",value:this.formInline.typeId[this.formInline.typeId.length-1]}),t.push(this.searchStatusData),this.getTask(e,t)},getTask:function(e,t){3===this.activeTab&&(e.isMyReview=1);var a=this;Object(u["z"])(e,{conditionJson1:t}).then((function(e){a.tableLoading=!1,e.code===c["M"].OPERATION_SUCCESS?(a.maintainData.data=s["a"].processMaintainData(e.rows),a.maintainData.page.total=e.total):Object(g["c"])(e.message)})).catch((function(e){Object(b["a"])(e)}))},getTaskByWS:function(e){var t=this;Object(h["a"])(e).then((function(e){t.tableLoading=!1,e.code===c["M"].OPERATION_SUCCESS?(t.maintainData.data=s["a"].processMaintainData(e.rows),t.maintainData.page.total=e.total):Object(g["c"])(e.message)})).catch((function(e){Object(b["a"])(e)}))},handleMaintainTablePageChange:function(e,t){this.maintainData.page.currentPage=e,this.maintainData.page.pageSize=t,this.getMaintainData()},showConfirmMaintaincePage:function(e){var t=this,a=this;this.ConfirmMaintainceData.data=null,Object(u["x"])({maintainId:e.maintainId}).then((function(e){if(e.code===c["M"].OPERATION_SUCCESS){var i=s["a"].processMaintainData([e.rows]),n=i[0];n.maintainRemark=n.maintainRemark?n.maintainRemark:"",n.users=n.maintainUserIdList?n.maintainUserIdList:[],n.maintaince_start_ts=n.startTime,n.maintaince_end_ts=n.endTime,a.ConfirmMaintainceData.data=n,t.ConfirmMaintainceData.dataset=e.dataset,a.ConfirmMaintainceData.show=!0}else Object(g["c"])(e.message)})).catch((function(e){Object(b["a"])(e)}))},confirmMaintaince:function(e){var t=this;console.log(e);var a=JSON.parse(JSON.stringify(e)),i=null;i=1===a.flag?u["nb"]:u["rb"],this.clickCancel(),i({maintainId:a.maintainId,maintainRemark:a.maintainRemark,maintainState:a.maintainState,startTime:a.startTime,endTime:a.endTime,maintainImageFileIds:a.maintainImageFileIds}).then((function(e){e.code===c["M"].OPERATION_SUCCESS||e.code===c["M"].OPERATION_UPDATE_SUCCESS?(Object(u["qb"])({maintainId:a.maintainId,userIdList:a.userIdList}).then((function(e){e.code===c["M"].OPERATION_SUCCESS?a.extendPropertyValueVoList?t.saveExtendValue(a.extendPropertyValueVoList):t.getMaintainData():Object(g["c"])(e.message)})).catch((function(e){Object(b["a"])(e)})),a.maintainceItems.length>0&&t.updateMaintainItemsRelation(a.maintainceItems)):Object(g["c"])(e.message)})).catch((function(e){Object(b["a"])(e)}))},updateMaintainItemsRelation:function(e){var t=[];e.forEach((function(e){var a={completed:e.completed,relationshipId:e.relationshipId,value:e.value};t.push(a)})),Object(u["M"])(null,t).then((function(e){e.code===c["M"].OPERATION_SUCCESS?Object(g["b"])(e.message):Object(g["c"])(e.message)})).catch((function(e){Object(b["a"])(e)}))},rowClassName:function(e){return 1===e.row.isOverTime?"red-font":""},ztreeOnClick:function(e,t){this.groupId=t.id,t.id&&(this.selectedItem.type="groupId",this.selectedItem.id=t.id),t.code&&(this.selectedItem.type="deviceCode",this.selectedItem.id=t.code),this.selectedItem.id?(this.getMaintainData(),this.maintainData.page.currentPage=1):Object(g["c"])(c["o"].PLEASE_CHOOSE_DEVICE_OR_WORKSPACE)},goHome:function(){this.$router.replace("/workstation/home")},setTableColumn:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(E["a"])({},{conditionJson1:[{column:"extendType",conditionJson1:[],conditionJson2:[],current:0,operator:1,operatorGroup:0,orderBy:{},ptype:"int",size:0,type:"eq",value:7}]});case 3:if(a=t.sent,a.code===c["M"].OPERATION_SUCCESS){if(e.extendPropertyValueVoList=a.rows,i=[],n=e.maintainData.columns.slice(0,e.maintainData.columns.length-1),r=e.maintainData.columns[e.maintainData.columns.length-1],i=i.concat(n),e.extendPropertyValueVoList.length>0)for(s=e.extendPropertyValueVoList,o=0;o<s.length;o++)i.push({field:s[o].propertyCode,title:s[o].extendName,width:"160",align:"center",formatter:e.$options.filters.formatterExtendValue});i=i.concat(r),e.maintainData.columns=i}else Object(g["c"])(a.message);t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(b["a"])(c["N"].NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},saveExtendValue:function(e){var t=this,a=e.map((function(e){return null===e.extendValue&&(e.extendValue=""),e}));Object(E["b"])({},a).then((function(e){e.code,c["M"].OPERATION_SUCCESS,t.getMaintainData()})).catch((function(e){Object(b["a"])(e)}))},getMaintainStatu:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,t.prev=1,t.next=4,Object(u["E"])({configurationRelationTypeEnum:"MAINTAIN"},{});case 4:i=t.sent,i.code===c["M"].OPERATION_SUCCESS?(n=e.tabs.map((function(t){return i.rows.review||"review"===t.val&&(t.showFalg=!1),i.rows.myReview||"myReview"===t.val&&(t.showFalg=!1),i.rows.grab||(a.searchStatusData={column:"maintainState",operator:1,ptype:"list",type:"in",value:"1,4"},"grab"===t.val&&(t.showFalg=!1,e.showUser=!0,e.activeTab="1")),t})),e.tabs=n):Object(g["c"])(i.message),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(b["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[1,8,11,13]])})))()},getTableBtn:function(e){var t=this,a=this.$createElement,i=[];return 1===e.taskButtonVo.isGrabMonad&&(this.tabs[0].showFalg?i.push(a("el-button",{on:{click:function(){return t.handleCommand("takeTask",e)}},attrs:{type:"text"}},[c["c"].TAKETASK])):i.push(a("el-button",{on:{click:function(){return t.handleCommand("info",e)}},attrs:{type:"text"}},[c["c"].CONFIRM_MAINTANCE]))),1===e.taskButtonVo.isChargeback&&i.push(a("el-button",{on:{click:function(){return t.handleCommand("chargeback",e)}},attrs:{type:"text"}},[c["c"].CHARGEBACK])),1!==e.taskButtonVo.isSubmitReview&&0!==e.taskButtonVo.isSubmitReview||i.push(a("el-button",{on:{click:function(){return t.handleCommand("info",e)}},attrs:{type:"text"}},[c["c"].CONFIRM_MAINTANCE])),1===e.taskButtonVo.isRevoke&&i.push(a("el-button",{on:{click:function(){return t.handleCommand("revoke",e)}},attrs:{type:"text"}},[c["c"].REVOKE])),1===e.taskButtonVo.isReject&&i.push(a("el-button",{on:{click:function(){return t.handleCommand("reject",e)}},attrs:{type:"text"}},[c["c"].REJECT])),1===e.taskButtonVo.isReview&&i.push(a("el-button",{on:{click:function(){return t.handleCommand("pass",e)}},attrs:{type:"text"}},[c["c"].PASS])),4!==e.maintainState&&1!==e.maintainState&&i.push(a("el-button",{on:{click:function(){return t.handleCommand("info",e)}},attrs:{type:"text"}},[c["c"].INFO])),i},getTypeTree:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d["e"])();case 3:a=t.sent,a.code===c["M"].OPERATION_SUCCESS?e.typeOptions=a.rows:Object(g["c"])(a.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(b["a"])(c["N"].NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:return t.prev=12,t.next=15,Object(m["tb"])();case 15:i=t.sent,i.code===c["M"].OPERATION_SUCCESS?(e.typeOptionsY=i.rows,e.getGroupTree()):Object(g["c"])(i.message),t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](12),Object(b["a"])(c["N"].NOTIFY,t.t1);case 22:return t.prev=22,t.finish(22);case 24:case"end":return t.stop()}}),t,null,[[0,7,10,12],[12,19,22,24]])})))()},getGroupTree:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d["c"])();case 3:a=t.sent,a.code===c["M"].OPERATION_SUCCESS?e.groupOptions=a.rows:Object(g["c"])(a.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(b["a"])(c["N"].NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:return t.prev=12,t.next=15,Object(m["R"])();case 15:i=t.sent,i.code===c["M"].OPERATION_SUCCESS?e.groupOptionsY=i.rows:Object(g["c"])(i.message),t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](12),Object(b["a"])(c["N"].NOTIFY,t.t1);case 22:return t.prev=22,t.finish(22);case 24:case"end":return t.stop()}}),t,null,[[0,7,10,12],[12,19,22,24]])})))()}},mounted:function(){var e=this;this.getMaintainStatu(),setTimeout((function(){e.initPage()}),300)},created:function(){this.getTypeTree(),this.setTableColumn()}},D=C,N=D,w=(a("8644"),a("2877")),_=Object(w["a"])(N,i,n,!1,null,"1481411c",null);t["default"]=_.exports},d094:function(e,t,a){}}]);
//# sourceMappingURL=chunk-fa140fc4.a470f314.js.map