(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f253bae4"],{"07ac":function(e,t,n){var i=n("23e7"),a=n("6f53").values;i({target:"Object",stat:!0},{values:function(e){return a(e)}})},"13d5":function(e,t,n){"use strict";var i=n("23e7"),a=n("d58f").left,r=n("a640"),o=n("ae40"),s=r("reduce"),c=o("reduce",{1:0});i({target:"Array",proto:!0,forced:!s||!c},{reduce:function(e){return a(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"276d":function(e,t,n){"use strict";var i=n("bc21"),a=n.n(i);a.a},3835:function(e,t,n){"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return s}));n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("3ca3"),n("ddb0");function a(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,a=!1,r=void 0;try{for(var o,s=e[Symbol.iterator]();!(i=(o=s.next()).done);i=!0)if(n.push(o.value),t&&n.length===t)break}catch(c){a=!0,r=c}finally{try{i||null==s["return"]||s["return"]()}finally{if(a)throw r}}return n}}var r=n("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||a(e,t)||Object(r["a"])(e,t)||o()}},"5da9":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"stateLabel"},[n("div",{staticClass:"itemState"},[n("span",{staticClass:"run",style:{backgroundColor:e.colors[0]}}),n("span",{staticClass:"name"},[e._v("运行")])]),n("div",{staticClass:"itemState"},[n("span",{staticClass:"free",style:{backgroundColor:e.colors[1]}}),n("span",{staticClass:"name"},[e._v("空闲")])]),n("div",{staticClass:"itemState"},[n("span",{staticClass:"offLine",style:{backgroundColor:e.colors[2]}}),n("span",{staticClass:"name"},[e._v("离线")])]),n("div",{staticClass:"itemState"},[n("span",{staticClass:"warn",style:{backgroundColor:e.colors[3]}}),n("span",{staticClass:"name"},[e._v("告警")])])])},a=[],r={name:"StateLabel",props:{colors:{type:Array,default:function(){return["#09dba0","#e2cd16","#a0a0a0","#f1464e"]}}}},o=r,s=(n("276d"),n("2877")),c=Object(s["a"])(o,i,a,!1,null,"413176d5",null);t["a"]=c.exports},6464:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n("5c96");function a(e,t){i["Notification"].error({title:e,message:t,duration:2e3,position:"bottom-right",showClose:!0})}},"6f53":function(e,t,n){var i=n("83ab"),a=n("df75"),r=n("fc6a"),o=n("d1e7").f,s=function(e){return function(t){var n,s=r(t),c=a(s),l=c.length,u=0,d=[];while(l>u)n=c[u++],i&&!o.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}};e.exports={entries:s(!0),values:s(!1)}},7598:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"s",(function(){return f})),n.d(t,"y",(function(){return h})),n.d(t,"x",(function(){return v})),n.d(t,"w",(function(){return p})),n.d(t,"H",(function(){return g})),n.d(t,"I",(function(){return w})),n.d(t,"j",(function(){return m})),n.d(t,"m",(function(){return y})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return T})),n.d(t,"o",(function(){return k})),n.d(t,"J",(function(){return C})),n.d(t,"t",(function(){return D})),n.d(t,"E",(function(){return S})),n.d(t,"A",(function(){return x})),n.d(t,"F",(function(){return O})),n.d(t,"z",(function(){return L})),n.d(t,"p",(function(){return E})),n.d(t,"n",(function(){return j})),n.d(t,"v",(function(){return R})),n.d(t,"u",(function(){return A})),n.d(t,"a",(function(){return I})),n.d(t,"C",(function(){return _})),n.d(t,"r",(function(){return M})),n.d(t,"q",(function(){return N})),n.d(t,"G",(function(){return F})),n.d(t,"D",(function(){return z})),n.d(t,"B",(function(){return U}));var i=n("b775"),a=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceRealState.action?",e,t)},r=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceStateReportStatistics.action?",e,t)},o=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceManager/getCheckCount.action?",e,t)},s=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceManager/getRepairTaskCount.action?",e,t)},c=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceManager/getMaintainTaskCount.action?",e,t)},l=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceReport/getDeviceDayUtilization.action?",e,t)},u=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceEarlyWarning/getDeviceWarnRecord.action?",e,t)},d=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getPageByDevice.action?",e,t)},f=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceMonitorReport.action?",e,t)},h=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getGasHoursUseReportBoard.action?",e,t)},v=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getEnergyTodayUse.action?",e,t)},p=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getEnergyTodayAndWeek.action?",e,t)},g=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getTodayAndYesterdayElectricityRecord.action?",e,t)},w=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getTopTenElectricityDevices.action?",e,t)},m=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getElectricityEnergyReport.action?",e,t)},y=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getWaterEnergyReport.action?",e,t)},b=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getGasEnergyReport.action?",e,t)},T=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getRecentDayEnergyRecord.action?",e,t)},k=function(e,t){return Object(i["k"])("realUserWork/getAndonKanbanOfRiSheng.action?",e,t)},C=function(e,t,n){return Object(i["k"])("existFunctionUpdate/listDeviceExceptionCount.action",e,t,n)},D=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceReport/getDeviceStateReportStatistics.action?",e,t,n)},S=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceManager/getRepairTask.action?",e,t,n)},x=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceManager/getMaintainTask.action?",e,t,n)},O=function(e,t,n){return Object(i["d"])("open-api/getTime.action?",e,t,n)},L=function(e,t,n){return Object(i["k"])("open-api/getGroupTree.action?",e,t,n)},E=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceManager/getConfigurationByEnum.action?",e,t,n)},j=function(e,t,n){return Object(i["k"])("open-api/TvBoard/device/getAllGroupAndDevice.action?",e,t,n)},R=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeFluctuationRate.action?",e,t,n)},A=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeCapacityAndEnergyEfficiency.action?",e,t,n)},I=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getOneDayDetailStateClockInfo.action?",e,t)},_=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceReport/getOneDayDetailStateClock.action?",e,t)},M=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceInfo.action?",e,t)},N=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceHoursEffTrend.action?",e,t)},F=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getTimeDayTypeProduction.action?",e,t)},z=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceReport/getQueryDeviceStateTimeUtilization.action?",e,t)},U=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getManyDeviceTimeFluctuationRate.action?",e,t)}},"81d5":function(e,t,n){"use strict";var i=n("7b0b"),a=n("23cb"),r=n("50c4");e.exports=function(e){var t=i(this),n=r(t.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,l=void 0===c?n:a(c,n);while(l>s)t[s++]=e;return t}},"87f3":function(e,t,n){"use strict";var i=n("b6d1"),a=n.n(i);a.a},b6d1:function(e,t,n){},bc21:function(e,t,n){},c2d5:function(e,t,n){"use strict";var i=n("e199"),a=n.n(i);a.a},cb29:function(e,t,n){var i=n("23e7"),a=n("81d5"),r=n("44d2");i({target:"Array",proto:!0},{fill:a}),r("fill")},d58f:function(e,t,n){var i=n("1c0b"),a=n("7b0b"),r=n("44ad"),o=n("50c4"),s=function(e){return function(t,n,s,c){i(n);var l=a(t),u=r(l),d=o(l.length),f=e?d-1:0,h=e?-1:1;if(s<2)while(1){if(f in u){c=u[f],f+=h;break}if(f+=h,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=h)f in u&&(c=n(c,u[f],f,l));return c}};e.exports={left:s(!1),right:s(!0)}},dc59:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kanban"},[n("div",{staticClass:"titleHead"},[n("p",{attrs:{id:"pHead"},on:{click:function(t){e.isShowWorkGroup=!e.isShowWorkGroup}}},[e._v(e._s(e.title))]),n("p",{attrs:{id:"time"}},[e._v(e._s(e.time))]),e.isShowWorkGroup?n("el-cascader",{ref:"workGroup",staticClass:"kanban_title",attrs:{options:e.groupOptions,props:{expandTrigger:"hover",checkStrictly:!0},"show-all-levels":!0},on:{change:e.changeWorkGroup},model:{value:e.workGroupId,callback:function(t){e.workGroupId=t},expression:"workGroupId"}}):e._e(),n("div",{class:e.showLogo()}),n("div",{class:e.showLogo2()})],1),n("div",{staticClass:"kanbanContent"},[n("div",{staticClass:"leftContent"},[n("div",{staticClass:"left1"},[n("div",{staticClass:"left1title"},[e._v("运行状态")]),n("div",{staticClass:"left1content"},[n("div",{staticClass:"left1_1"},[n("div",{ref:"echarts2",staticClass:"left1_1content",attrs:{id:"echarts2"}}),n("div",{staticClass:"left1_1title"},[e._v("运行状态分布")])]),n("div",{staticClass:"left1_2"},[n("div",{ref:"echarts3",staticClass:"left1_2content",attrs:{id:"echarts3"}}),n("div",{staticClass:"left1_2title"},[e._v(" 设备利用率 "),n("span",{attrs:{id:"UtilizNum"}},[e._v(e._s(e.UtilizNum)+"%")])])])]),n("div",{staticClass:"line"})]),n("div",{staticClass:"left2"},[n("div",{staticClass:"left2title"},[e._v("设备效率")]),n("div",{ref:"echarts1",staticClass:"left2content",attrs:{id:"echarts1"}}),n("div",{staticClass:"line"})]),n("div",{staticClass:"left3"},[n("div",{staticClass:"left3title"},[e._v("用电统计")]),n("div",{staticClass:"left3content"},[n("line-chart",{attrs:{width:"100%",height:"100%",lineColor:"#09DBA0",chartData:e.todayElectriData}})],1),n("div",{staticClass:"line"})])]),n("div",{staticClass:"rightContent"},[n("div",{staticClass:"right1"},[n("div",{staticClass:"right1title",on:{click:function(t){e.isDeviceDataType=!e.isDeviceDataType}}},[e._v("设备分布")]),e.isDeviceDataType?n("el-select",{staticClass:"deviceDataTypeSelect",attrs:{placeholder:"请选择"},on:{change:e.changeDeviceDataType},model:{value:e.deviceDataType,callback:function(t){e.deviceDataType=t},expression:"deviceDataType"}},[n("el-option",{attrs:{label:"稼动率",value:"稼动率"}}),n("el-option",{attrs:{label:e.yiledKey,value:"产量"}})],1):e._e(),n("div",{staticStyle:{height:"calc(100% - 40px)"}},[e.isShowDeviceList?n("product-task",{ref:"taskListRef",attrs:{list:e.productTaskData,deviceDataType:e.deviceDataType}}):e._e()],1)],1),n("div",{staticClass:"right2"},[n("div",{staticClass:"right2title"},[e._v("用电排行")]),n("div",{ref:"electriRanking",staticClass:"right2content",attrs:{id:"electriRanking"}})]),e.kanbanConfig.showEnergy?e._e():n("div",{staticClass:"right3"},[n("div",{staticClass:"right3title"},[e._v("设备稼动率")]),n("div",{ref:"echarts4",staticClass:"right2content",attrs:{id:"echarts4"}}),n("div",{staticClass:"line"})]),e.kanbanConfig.showEnergy?n("div",{staticClass:"right4"},[n("div",{staticClass:"right4title"},[e._v(" 电表统计 "),n("div",{staticClass:"cardContent"},[n("div",{staticClass:"card"},[n("p",[e._v("今日总用量："+e._s(e.todayElecticeNum)+" KW·H")])])])]),n("div",{ref:"right4content",staticClass:"right4content"},e._l(e.electricList,(function(t,i){return n("div",{key:i,staticClass:"eleTask"},[n("p",[e._v(e._s(t.deviceName)+" : "),n("span",[e._v(e._s(t.dayEnergyConsumption)+" KW·H")])])])})),0),n("div",{staticClass:"line"})]):e._e()])])])},a=[],r=(n("99af"),n("cb29"),n("4de4"),n("4160"),n("a15b"),n("d81d"),n("13d5"),n("fb6a"),n("b0c0"),n("a9e3"),n("b680"),n("d3b7"),n("07ac"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("159b"),n("2909")),o=n("5530"),s=n("3835"),c=(n("96cf"),n("1da1")),l=n("1157"),u=n.n(l),d=n("99f6"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"chart",staticClass:"lineChart",style:{width:e.width,height:e.height}})},h=[],v=n("cf45"),p={"#09DBA0":["rgba(9, 219, 160, 0.8)","rgba(9, 219, 160, 0.5)","rgba(9, 219, 160, 0.1)"],"#F7CF5E":["rgba(247, 207, 94, 0.8)","rgba(247, 207 ,94, 0.5)","rgba(247, 207, 94, 0.1)"],"#FF9745":["rgba(255, 151, 69, 0.8)","rgba(255, 151, 69, 0.5)","rgba(255, 151, 69, 0.1)"],"#AA9FFF":["rgba(170, 159, 255, 0.8)","rgba(170, 159, 255, 0.5)","rgba(170, 159, 255, 0.1)"],"#72BCFF":["rgba(114, 188, 255, 0.8)","rgba(114, 188, 255, 0.5)","rgba(114, 188, 255, 0.1)"]},g={name:"LineChart",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},lineColor:{type:String,default:"#09DBA0"},chartData:{type:Object,default:function(){return{}}}},data:function(){return{data:[],loading:!1,chart:null}},watch:{chartData:{handler:function(){this.drawChart()},deep:!0}},methods:{drawChart:function(){var e={grid:{left:"5%",right:"12%",bottom:"7%",top:"14%",containLabel:!0},color:this.lineColor,tooltip:{show:!0,trigger:"axis"},xAxis:{name:"",type:"category",boundaryGap:!1,data:this.chartData.xAxisData,axisLabel:{fontSize:Object(v["b"])(16)},axisTick:{show:!1},axisLine:{show:!0,lineStyle:{color:"#2077A3"}},nameTextStyle:{fontSize:Object(v["b"])(16)}},yAxis:{name:"KW.h",type:"value",axisLine:{show:!0,lineStyle:{color:"#2077A3"}},axisTick:{show:!1},splitLine:{show:!1},axisLabel:{fontSize:Object(v["b"])(16)},nameTextStyle:{fontSize:Object(v["b"])(16)}},textStyle:{color:"#CACACA"},series:[{name:"用电",type:"line",zlevel:2,lineStyle:{width:2,color:this.lineColor},showSymbol:!0,areaStyle:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:p[this.lineColor][0]},{offset:.25,color:p[this.lineColor][1]},{offset:1,color:p[this.lineColor][2]}])},label:{show:!0,position:"top",formatter:function(e){return e.dataIndex%2===0?"":e.value}},emphasis:{focus:"series"},data:this.chartData.data}]};this.chart.setOption(e)},init:function(){}},mounted:function(){var e=this;this.chart=this.$echarts.init(this.$refs.chart),setTimeout((function(){e.drawChart()}),500)}},w=g,m=n("2877"),y=Object(m["a"])(w,f,h,!1,null,"e92a267e",null),b=y.exports,T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"taskList",staticClass:"productTask wh100"},[n("state-label",{staticClass:"state_label"}),n("vue-seamless-scroll",{staticClass:"seamless-warp",attrs:{data:e.list,"class-option":e.optionHover}},[n("ul",{ref:"lineWra",staticClass:"lineWra"},e._l(e.list,(function(t){return n("li",{key:t[0][0].deviceId,staticClass:"itemLine"},[n("p",{staticClass:"lineName"},[e._v(e._s(t[0][0].lineName))]),e._l(t,(function(t){return n("div",{key:t[0].deviceId,staticClass:"lineCon"},[n("div",{staticClass:"bgLine"}),e._l(t,(function(t){return n("div",{key:t.deviceId,staticClass:"itemDevice"},["{}"!==JSON.stringify(t)?[n("div",{class:["wh100","innerState","flex","state"+t.deviceRealState]},["稼动率"===e.deviceDataType?n("span",{staticClass:"todayValue"},[e._v(e._s(t.timeActivation?t.timeActivation+"%":"-"))]):n("span",{staticClass:"todayValue"},[e._v(e._s(1===t.isProductionDevice?t.currentValue:""))]),n("div",{staticClass:"deviceName"},[e._v(e._s(t.deviceName))])])]:e._e()],2)}))],2)}))],2)})),0)])],1)},k=[],C=n("a939"),D=n.n(C),S=n("5da9"),x={name:"ProductTask",components:{StateLabel:S["a"],vueSeamlessScroll:D.a},data:function(){return{limitMoveNum:4,isShow:!1}},props:{list:{type:Array,require:!0},deviceDataType:{type:String,default:"产量"}},computed:{optionHover:function(){return{step:.4,limitMoveNum:this.limitMoveNum,hoverStop:!0,direction:1,openWatch:!0,singleHeight:0,singleWidth:0,waitTime:1e3}}},watch:{list:{handler:function(e){var t=this;this.$nextTick((function(){console.log(t.$refs.lineWra.clientHeight>t.$refs.taskList.clientHeight),t.$refs.lineWra.clientHeight>t.$refs.taskList.clientHeight?t.limitMoveNum=1:t.limitMoveNum=99999}))},deep:!0}},methods:{totalNum:function(){var e=0;return this.list.forEach((function(t){e+=t.length})),e}},mounted:function(){}},O=x,L=(n("87f3"),Object(m["a"])(O,T,k,!1,null,"7220472d",null)),E=L.exports,j=n("7598"),R=n("582a"),A=n("f82c"),I=(n("6464"),{name:"kanban",components:{LineChart:b,ProductTask:E},data:function(){return{title:"",groupId:0,showRun:!1,isShowWorkGroup:!1,isDeviceDataType:!1,deviceDataType:"稼动率",yiledKey:"产量",isShowDeviceList:!1,timer:{},timer4:{},time:"",dataTime:0,warnHtml:"",devStateHtml:"",UtilizNum:0,devList:[],devLbIndex:0,groupOptions:[],workGroupId:[],productTaskData:[],rowDeviceNum:10,current:1,size:6,current_w:1,size_w:4,kanbanConfig:{title:"车间设备看板",key:"",time:15e3},electricList:[],todayElecticeNum:0,todayElectriData:{xAxisData:[],data:[]},stateStartTime:null,stateEndTime:null,shiftConfig:!1}},mounted:function(){var e=this;if(document.documentElement.style.fontSize=Object(v["b"])()+"px",window.innerWidth<=1024?this.rowDeviceNum=6:window.innerWidth<=1280&&(this.rowDeviceNum=8),window.onresize=function(){window.innerWidth<=1024?e.rowDeviceNum=6:window.innerWidth<=1280&&(e.rowDeviceNum=8),document.documentElement.style.fontSize=Object(v["b"])()+"px"},this.kanbanConfig.showEnergy){var t=this.$refs.right4content,n=t;this.finga4(n)}this.$nextTick((function(){e.showLineAndDev(),e.init()})),this.kanbanConfig?setTimeout((function(){setInterval((function(){e.init()}),e.kanbanConfig.time)}),0):setTimeout((function(){setInterval((function(){e.init()}),15e3)}),0)},created:function(){var e=this,t=this;this.stateStartTime=this.getTodayFirstDay(),this.stateEndTime=this.getTodayLastDay(),d["m"][this.getUrlKeyMain("cid",window.location.href)]&&(t.kanbanConfig=d["m"][this.getUrlKeyMain("cid",window.location.href)]),null!==this.getUrlKeyMain("tvNo",window.location.href)?(this.title=t.kanbanConfig.group[this.getUrlKeyMain("tvNo",window.location.href)].title,this.groupId=t.kanbanConfig.group[this.getUrlKeyMain("tvNo",window.location.href)].id,this.showRun=t.kanbanConfig.group[this.getUrlKeyMain("tvNo",window.location.href)].showRun):this.title=t.kanbanConfig.title,this.getUrlKeyMain("groupId",window.location.href)&&(this.groupId=this.getUrlKeyMain("groupId",window.location.href)),this.getUrlKeyMain("dataType",window.location.href)&&(this.deviceDataType=this.getUrlKeyMain("dataType",window.location.href)),this.getWorkshopData(),this.getYieldConfig(),this.getDataTime(),setInterval((function(){e.showLineAndDev()}),35e3)},methods:{init:function(){this.showEchartsData(),this.showEcharts2Data(),this.showEcharts3Data(),this.showEcharts4Data(),this.getTodayElectricity(),this.getElectriRanking(),this.kanbanConfig.showEnergy&&this.showElectric()},getDataTime:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(j["F"])({},{});case 3:n=t.sent,e.dataTime=n.rows,e.toGetTime(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},getTodayFirstDay:function(){var e=new Date(this.dataTime),t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return n=n<10?"0"+n:n,i=i<10?"0"+i:i,[t,n,i].join("-")+" 00:00:00"},getTodayLastDay:function(){var e=new Date(this.dataTime),t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate();return n=n<10?"0"+n:n,i=i<10?"0"+i:i,[t,n,i].join("-")+" 23:59:59"},getSearchToday:function(e){var t=new Date(this.dataTime-864e5*e),n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();return i=i<10?"0"+i:i,a=a<10?"0"+a:a,[n,i,a].join("-")},getWorkshopData:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(j["z"])({},{secretKey:e.kanbanConfig.key});case 3:n=t.sent,e.groupOptions=Object(A["a"])(n.rows||[]),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},changeWorkGroup:function(e){this.groupId=e[e.length-1],this.current=1,this.isShowDeviceList=!1,this.title=this.$refs.workGroup.getCheckedNodes()[0].label,this.devList=[],this.init(),this.showLineAndDev(),this.isShowWorkGroup=!1},changeDeviceDataType:function(){this.isShowDeviceList=!1,this.isDeviceDataType=!1,this.showLineAndDev()},getCurrentShiftTimeRangeWithDate:function(e){var t=new Date,n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),r=t.getHours(),o=t.getMinutes(),c=60*r+o;for(var l in e){var u=e[l].split("-").map((function(e){var t=e.split(":").map(Number),n=Object(s["a"])(t,2),i=n[0],a=n[1];return 60*i+a})),d=Object(s["a"])(u,2),f=d[0],h=d[1];if(h<f){if(c>=f&&c<=1440){console.log(e[l]);var p=new Date(n,i-1,a,Math.floor(f/60),f%60,0),g=new Date(n,i-1,a,Math.floor(h/60),h%60,0);return g.setDate(a+1),console.log(Object(v["f"])(p),Object(v["f"])(g)),[Object(v["f"])(p),Object(v["f"])(g)]}}else if(f<=c&&c<=h){var w=new Date(n,i-1,a,Math.floor(f/60),f%60,0),m=new Date(n,i-1,a,Math.floor(h/60),h%60,0);return[Object(v["f"])(w),Object(v["f"])(m)]}}return[this.getTodayFirstDay(),this.getTodayLastDay()]},getShiftTime:function(){var e=this;return new Promise((function(t,n){var i={};e.getUrlKeyMain("cid",window.location.href)&&(i.secretKey=e.kanbanConfig.key),Object(j["p"])({configurationTypeEnum:"SHIFT_TIME"},i).then((function(n){if("0000"===n.code){var i=n.rows.processConfiguration;if(i){e.shiftConfig=!0;var a=JSON.parse(i),r=e.getCurrentShiftTimeRangeWithDate(a),o=Object(s["a"])(r,2),c=o[0],l=o[1];e.stateStartTime=c,e.stateEndTime=l}else e.shiftConfig=!1,e.stateStartTime=e.getTodayFirstDay(),e.stateEndTime=e.getTodayLastDay();console.log(e.stateStartTime,e.stateEndTime),t(n)}})).catch((function(e){console.log(e),n(e)}))}))},getYieldConfig:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),t.next=5,Object(j["p"])({configurationTypeEnum:"PRODUCTION_CONFIGURATION"},n);case 5:i=t.sent,"0000"===i.code&&(e.yiledKey=(null===(a=i.rows)||void 0===a?void 0:a.processConfiguration)||"产量"),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[0,9,11,13]])})))()},finga:function(e){var t=this;this.timer=setInterval((function(){e.scrollTop+=1,e.clientHeight+e.scrollTop===e.scrollHeight&&(clearInterval(t.timer),e.scrollTop=0,t.finga(e))}),50)},finga4:function(e){var t=this;this.timer4=setInterval((function(){e.scrollTop+=1,e.clientHeight+e.scrollTop===e.scrollHeight&&(clearInterval(t.timer4),setTimeout((function(){e.scrollTop=0}),2e3),setTimeout((function(){t.finga4(e)}),4e3))}),50)},showElectric:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={current:1,size:99999999},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),t.next=5,Object(j["x"])({energyEnum:"ELECTRICITY"},n);case 5:i=t.sent,i.code===R["M"].OPERATION_SUCCESS&&(e.electricList=i.rows),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:return t.prev=11,t.finish(11);case 13:return t.prev=13,n={},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),t.next=18,Object(j["w"])({},n);case 18:a=t.sent,a.code===R["M"].OPERATION_SUCCESS&&(e.todayElecticeNum=a.rows.electricityStatistics.dayEnergyConsumption),t.next=24;break;case 22:t.prev=22,t.t1=t["catch"](13);case 24:return t.prev=24,t.finish(24);case 26:case"end":return t.stop()}}),t,null,[[0,9,11,13],[13,22,24,26]])})))()},showEchartsData:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.devList.length&&e.devLbIndex!==e.devList.length-1){t.next=16;break}return t.prev=1,n={},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),e.groupId&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.next=7,Object(j["g"])({current:1,size:99999,startTime:e.getTodayFirstDay(),endTime:e.getTodayLastDay()},n);case 7:i=t.sent,i.code===R["M"].OPERATION_SUCCESS?(e.devList=i.rows,e.devLbIndex=0,e.getDeviceTimeRecentDayUtilization()):(e.devLbIndex=0,e.devList=[]),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.log(t.t0);case 14:t.next=18;break;case 16:e.devLbIndex++,e.getDeviceTimeRecentDayUtilization();case 18:case"end":return t.stop()}}),t,null,[[1,11]])})))()},getDeviceTimeRecentDayUtilization:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r,o,s,c,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={conditionJson1:[{column:"deviceCode",operator:1,ptype:"string",type:"eq",value:e.devList[e.devLbIndex].deviceCode}]},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),t.next=5,Object(j["i"])({startTime:e.getSearchToday(7)+" 00:00:00",endTime:e.getSearchToday(0)+" 23:59:59"},n);case 5:if(i=t.sent,i.code===R["M"].OPERATION_SUCCESS){for(a=[],r=[],o=[],s=[],c=0,l=0;l<i.rows.length;l++)a.push(Number((100*i.rows[l].value).toFixed(2))),o.push(e.formatDateThree(i.rows[l].time)),s.push(Number((100*i.rows[l].value).toFixed(2))),c+=i.rows[l].value;for(u=(c/s.length*100).toFixed(2),d=0;d<s.length;d++)r.push(Number(u));e.showEcharts(a,r,o,Math.floor(Math.min.apply(null,s)-1),e.devList[e.devLbIndex].deviceName)}else e.showEcharts([],[],"",0,"");t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getTodayElectricity:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[]},e.groupId&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),t.next=5,Object(j["H"])({},n);case 5:i=t.sent,i.code===R["M"].OPERATION_SUCCESS&&(r=(null===(a=i.rows)||void 0===a?void 0:a.today)||[],e.todayElectriData.xAxisData=r.map((function(e){return e.time.substring(11,16)})),e.todayElectriData.data=r.map((function(e){return e.value})));case 7:case"end":return t.stop()}}),t)})))()},getElectriRanking:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[]},e.groupId&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),t.next=5,Object(j["I"])({},n);case 5:i=t.sent,i.code===R["M"].OPERATION_SUCCESS&&(a=i.rows.map((function(e){return e.deviceName})),r=i.rows.map((function(e){return e.timeActivation})),e.showElectriRankingEcharts(a,r));case 7:case"end":return t.stop()}}),t)})))()},showEcharts2Data:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),e.groupId&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.prev=3,t.next=6,Object(j["f"])({},n);case 6:i=t.sent,i.code===R["M"].OPERATION_SUCCESS?e.showEcharts2([{name:"运行",value:i.rows.runCount},{name:"空闲",value:i.rows.idleCount},{name:"离线",value:i.rows.offLineCount},{name:"告警",value:i.rows.warnCount}]):e.showEcharts2([{name:"运行",value:0},{name:"空闲",value:0},{name:"离线",value:0},{name:"告警",value:0}]),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[3,10,12,14]])})))()},showEcharts3Data:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[]},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),e.groupId&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.prev=3,t.next=6,Object(j["i"])({startTime:e.getTodayFirstDay(),endTime:e.getTodayLastDay()},n);case 6:i=t.sent,i.code===R["M"].OPERATION_SUCCESS&&(a=parseInt(100*i.rows[0].value),e.showEcharts3(a),e.UtilizNum=a),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[3,10,12,14]])})))()},showEcharts4Data:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r,o,s,c,l,u,d;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),e.groupId&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.prev=3,t.next=6,e.getShiftTime();case 6:return i={current:e.current,size:e.size,startTime:e.stateStartTime,endTime:e.stateEndTime},e.shiftConfig&&(i.shiftStart=e.stateStartTime.substr(11,5),i.shiftEnd=e.stateEndTime.substr(11,5)),t.next=10,Object(j["g"])(i,n);case 10:if(a=t.sent,a.code===R["M"].OPERATION_SUCCESS){for(e.current*e.size>=a.total?e.current=1:e.current++,r=[],o=[],s=0;s<a.rows.length;s++)c=a.rows[s].deviceLiveReportVo.runTimeSum,l=a.rows[s].deviceLiveReportVo.idleTimeSum,u=a.rows[s].deviceLiveReportVo.warnTimeSum,d=c?parseFloat((c/(c+l+u)*100).toFixed(2)):0,r.push(d),o.push(a.rows[s].deviceName);e.showEcharts4(r,o)}else e.showEcharts4([],[]);t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](3),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[3,14]])})))()},showLineAndDev:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r,s,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[],current:1,size:99999999},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),e.groupId&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),n.conditionJson1.push({column:"isProductionDevice",operator:1,ptype:"int",type:"eq",value:1}),t.prev=4,t.next=7,e.getShiftTime();case 7:return i={startTime:e.stateStartTime,endTime:e.stateEndTime},e.shiftConfig&&(i.shiftStart=e.stateStartTime.substr(11,5),i.shiftEnd=e.stateEndTime.substr(11,5)),a="稼动率"===e.deviceDataType?j["s"]:j["h"],t.next=12,a(i,n);case 12:r=t.sent,r.code===R["M"].OPERATION_SUCCESS&&(e.isShowDeviceList=!0,s=r.rows||[],s.length>0?(c=s.reduce((function(t,n){var i=e.getLineName(n);return t[i]?t[i].push(Object(o["a"])(Object(o["a"])({},n),{},{lineName:i})):t[i]=[Object(o["a"])(Object(o["a"])({},n),{},{lineName:i})],t}),{}),l=[],u=Object.values(c),u.forEach((function(t){l.push(e.dataDeal(t))})),e.productTaskData=l,console.log(e.productTaskData)):e.productTaskData=[]),t.next=18;break;case 16:t.prev=16,t.t0=t["catch"](4);case 18:return t.prev=18,t.finish(18);case 20:case"end":return t.stop()}}),t,null,[[4,16,18,20]])})))()},htmlDevState:function(e){this.devStateHtml="";var t=9,n=75,i=!0;window.innerWidth<=1024?(t=6,n=24,i=!1):window.innerWidth<=1280&&(t=8,n=32,i=!1);for(var a=.3*this.$refs.right1content.offsetHeight-n,r=e,o="",s=0;s<r.length;s++){var c=Math.ceil(r[s].devListData.length/t),l=0,u=0;if(0!==s){var d=Math.ceil(r[s-1].devListData.length/t);o+=d>=2?i?'<div class="lineCON" style="margin-top:'+1.1*d*a+'px;" >':'<div class="lineCON" style="margin-top:'+(d-1)*a+'px;" >':'<div class="lineCON" >'}else o+='<div class="lineCON" >';o+='      <p class="lineName" >'+r[s].lineName+"</p>";for(var f=0;f<c;f++){r[s].devList<=t?u+=r[s].devListData.length:(l+1)*t>r[s].devListData.length?u+=r[s].devListData.length%t:u+=t,l++,o+='      <div class="lineDev" >',o+='        <div class="blackDev" >';for(var h=0;h<t;h++)o+='       <div class="blackTask" ></div>';o+='           <div class="blackLine" ></div>',o+="           </div>",o+='           <div class="blackState" >';for(var v=f*t;v<u;v++)o+='           <div class="devTask state'+r[s].devListData[v].deviceRealState+'" >',1===r[s].devListData[v].isProductionCount?"稼动率"===this.deviceDataType?o+='          <span class="devTask_span2"  >'+(r[s].devListData[v].timeActivation?r[s].devListData[v].timeActivation+"%":"-")+"</span>":r[s].devListData[v].currentShiftName?o+='          <span class="devTask_span2"  >'+r[s].devListData[v].currentValue+"</span>":o+='          <span class="devTask_span2"  >'+r[s].devListData[v].todayValue+"</span>":o+='          <span class="devTask_span2"  ></span>',o+="          <p>"+r[s].devListData[v].deviceName+"</p>",o+="           </div>";o+="          </div>",o+="      </div>"}o+="</div>"}this.devStateHtml=o},scrollDev:function(){var e,t=this,n=this;this.timer=setInterval((function(){t.$nextTick((function(){t.$refs.right1content.scrollTop===e?(clearInterval(t.timer),setTimeout((function(){t.showLineAndDev()}),2500)):(e=n.$refs.right1content.scrollTop,t.$refs.right1content.scrollTo(0,e+1))}))}),50)},showEcharts:function(e,t,n,i,a){var r=["#36CE9E","#0090FF","#FFC005","#FF515A","#8B5CFF","#00CA69"],o=function(e,t){var n="",i=/^#[\da-f]{6}$/i;return i.test(e)&&(n="rgba(".concat(parseInt("0x"+e.slice(1,3)),",").concat(parseInt("0x"+e.slice(3,5)),",").concat(parseInt("0x"+e.slice(5,7)),",").concat(t,")")),n},s={a:50,b:35,c:18,d:[15,0,0,40]};window.innerWidth<=1024?s={a:30,b:25,c:8,d:[5,0,0,10]}:window.innerWidth<=1280&&(s={a:30,b:20,c:12,d:[5,0,0,20]});var c=this.$echarts.init(this.$refs.echarts1),l={color:r,title:{text:a,padding:s.d,left:"left",textStyle:{color:"#fff",fontSize:s.c}},legend:{itemHeight:5,right:10,top:0,icon:"roundRect",textStyle:{verticalAlign:"middle",color:"#ffffff"}},grid:{top:s.a,bottom:s.b},xAxis:[{type:"category",boundaryGap:!1,axisLabel:{formatter:"{value}",fontSize:s.c,textStyle:{color:"#fff"}},data:n}],yAxis:[{min:i,type:"value",axisLabel:{fontSize:s.c,textStyle:{color:"#fff"}},nameTextStyle:{color:"#fff",fontSize:12,lineHeight:40},splitLine:{lineStyle:{color:"rgba(150, 164, 244, 0.2)"}},axisLine:{show:!1},axisTick:{show:!1}}],series:[{name:"平均效率",type:"line",zlevel:3,showSymbol:!1,lineStyle:{normal:{color:r[0],shadowBlur:3}},data:t},{name:"设备效率",type:"line",zlevel:3,showSymbol:!1,lineStyle:{normal:{color:r[1],shadowBlur:3,shadowColor:o(r[1],.5),shadowOffsetY:8}},areaStyle:{normal:{color:this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:o(r[1],.3)},{offset:1,color:o(r[1],.1)}],!1),shadowColor:o(r[1],.1),shadowBlur:10}},data:e}]};c.setOption(l,!0),window.addEventListener("resize",(function(){c.resize()}))},showEcharts2:function(e){var t={a:15,b:[5,0,5,0],c:"1%",d:["35%","50%"],e:15,f:15};window.innerWidth<=1024?t={a:10,b:[0,0,0,0],c:"0%",d:["30%","50%"],e:10,f:10}:window.innerWidth<=1280&&(t={a:12,b:[2,0,2,0],c:"0%",d:["30%","50%"],e:12,f:12});var n=this.$echarts.init(this.$refs.echarts2),i=["#09DBA0","#E2CD16","#A0A0A0","#F1464E"],a=["运行","空闲","离线","告警"],r={color:i,grid:{top:"15%",left:0,right:t.c,bottom:5,containLabel:!0},legend:{orient:"vertical",top:"center",right:0,itemWidth:t.e,itemHeight:t.f,textStyle:{color:"#ffffff",align:"left",verticalAlign:"middle",rich:{name:{color:"rgba(255,255,255,1)",fontSize:t.a,padding:t.b},value:{color:"rgba(255,255,255,0.5)",fontSize:t.a},rate:{color:"rgba(255,255,255,0.9)",fontSize:t.a}}},data:a,formatter:function(t){if(e.length){var n=e.filter((function(e){return e.name===t}))[0];return"{name|".concat(t,":}{rate| ").concat(n.value,"台}")}}},series:[{name:"需求类型占比",color:["rgba(75, 243, 249, 0.2)"],type:"pie",center:t.d,radius:["45%","75%"],label:{normal:{show:!1},emphasis:{show:!0,textStyle:{fontSize:"12"}}},labelLine:{show:!1,length:0,length2:0},data:[{name:"全部",value:100}]},{name:"需求类型占比",type:"pie",center:t.d,radius:["45%","68%"],label:{normal:{show:!1},emphasis:{show:!0,textStyle:{fontSize:"12"}}},labelLine:{show:!1,length:0,length2:0},data:e}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))},showEcharts3:function(e){var t={a:"80%",b:"65%",c:"70%",d:"31%",e:12};window.innerWidth<=1024?t={a:"80%",b:"65%",c:"70%",d:"30%",e:2}:window.innerWidth<=1280&&(t={a:"80%",b:"65%",c:"70%",d:"30%",e:10});var n=this.$echarts.init(this.$refs.echarts3),i=e,a=100,r={legend:{show:!1},series:[{name:"最外部进度条",type:"gauge",radius:t.a,splitNumber:10,axisLine:{lineStyle:{color:[[.2,"#02d5ff"],[.4,"#009eff"],[.6,"#0072ff"],[.8,"#a82dff"],[1,"#e92dff"]],width:10}},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{show:!1},title:{show:!1},data:[{name:"title",value:i}],pointer:{show:!1},animationDuration:4e3},{name:"刻度尺",type:"gauge",radius:t.b,splitNumber:10,min:0,max:a,axisLine:{lineStyle:{color:[[1,{type:"radial",x:.5,y:.6,r:.6,colorStops:[{offset:.85,color:"#031F46"},{offset:.93,color:"#086989"},{offset:1,color:"#12D7EF"}]}]],width:500}},splitLine:{show:!0,length:14,lineStyle:{width:3,color:"#12E5FE"}},axisTick:{show:!0,splitNumber:18,lineStyle:{color:"#12E5FE",width:1},length:5},axisLabel:{distance:2,color:"#CEF3FE",fontSize:t.e},detail:{show:!1},animationDuration:4e3},{name:"外部指针",type:"gauge",radius:t.c,axisLine:{lineStyle:{color:[[i/a-.001,"rgba(0,0,0,0)"],[i/a+.003,"#C34743"],[1,"rgba(0,0,0,0)"]],width:80}},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{show:!1},title:{show:!1},data:[{name:"title",value:i}],pointer:{show:!1},animationDuration:4e3},{name:"内层带指针",type:"gauge",radius:t.d,splitNumber:10,min:0,max:100,axisLine:{lineStyle:{color:[[1,{type:"radial",x:.5,y:.59,r:.6,colorStops:[{offset:.72,color:"#032046"},{offset:.94,color:"#086989"},{offset:.98,color:"#0FAFCB"},{offset:1,color:"#0EA4C1"}]}]],width:1e3}},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},pointer:{show:!0,length:"95%",width:5},itemStyle:{color:"#12E5FF"},data:[{value:i}],detail:{show:!1}}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))},showEcharts4:function(e,t){var n=this,i={a:30,b:10,c:14,d:12,e:"15%"};window.innerWidth<=1024?i={a:10,b:8,c:11,d:8,e:"20%"}:window.innerWidth<=1280&&(i={a:10,b:10,c:11,d:11,e:"17%"});var a=this.$echarts.init(this.$refs.echarts4),r={title:{text:"",left:19,top:15,textStyle:{color:"#fff"}},grid:{top:i.e,left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:{type:"category",axisLabel:{interval:0,color:"#fff",fontSize:i.d,formatter:function(e,t){return n.nameFormat(e,5,1)}},axisLine:{lineStyle:{color:"#0442AE"},width:5},axisTick:{show:!1},data:[]},yAxis:{name:"",type:"value",axisLabel:{show:!0,color:"#fff",formatter:function(e,t){return e+"%"}},axisLine:{lineStyle:{color:"#0442AE"},width:5},axisTick:{show:!1},splitLine:{show:!1}},series:[{name:"稼动率",type:"bar",barWidth:"20%",label:{show:!0,position:"top",formatter:function(e){return e.value+"%"}},itemStyle:{normal:{color:"#09DBA0"}},data:e}]};r.xAxis.data=t,a.setOption(r,!0),window.addEventListener("resize",(function(){a.resize()}))},showElectriRankingEcharts:function(e,t){var n=this.$echarts.init(this.$refs.electriRanking),i={grid:{left:"5%",right:"5%",bottom:"0",top:"2%",containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"none"},formatter:function(e){return e[0].name+" : "+e[0].value}},xAxis:{show:!1,type:"value"},yAxis:[{type:"category",inverse:!0,axisLabel:{show:!0,textStyle:{color:"#fff"}},splitLine:{show:!1},axisTick:{show:!1},axisLine:{show:!1},data:e},{type:"category",inverse:!0,axisTick:"none",axisLine:"none",show:!0,axisLabel:{textStyle:{color:"#ffffff",fontSize:"12"},formatter:function(e,t){return e+" KW.h"}},data:t}],series:[{name:"值",type:"bar",zlevel:1,itemStyle:{normal:{barBorderRadius:30,color:new this.$echarts.graphic.LinearGradient(0,0,1,0,[{offset:0,color:"rgb(57,89,255,1)"},{offset:1,color:"rgb(46,200,207,1)"}])}},data:t}]};n.setOption(i,!0),window.addEventListener("resize",(function(){n.resize()}))},nameFormat:function(e,t,n){var i=e,a=t,r=t,o=1;if(i.length>2*t+1){var s=i.split("|");s.length>1&&(s[0].length<t&&(a=s[0].length,r=2*t-s[0].length),s[1].length<t&&(a=2*t-s[1].length,r=s[1].length),s[0]=s[0].substring(0,a),s[1]=s[1].substring(0,r),null!=s&&(i=s.join("|")))}else{s=i.split("|");s.length>1&&(s[0].length<t&&s[1].length<t&&(o=0),null!=s&&(i=s.join("|")))}return 1===n&&(1===o?i=i.substring(0,i.length/2)+"\n"+i.substring(i.length/2):0===o&&(i=i.split("|").join("\n"))),i},tick:function(){var e=new Date,t=e.getYear();t<1900&&(t+=1900);var n=e.getMonth()+1;n<10&&(n="0"+n);var i=e.getDate();i<10&&(i="0"+i);var a=e.getHours();a<10&&(a="0"+a);var r=e.getMinutes();r<10&&(r="0"+r);var o=e.getSeconds();o<10&&(o="0"+o),this.time=t+" 年 "+n+" 月 "+i+" 日 "+a+" : "+r+" : "+o},getDataTime2:function(){this.dataTime=new Date(u.a.ajax({type:"HEAD",async:!1}).getResponseHeader("Date")).getTime(),this.toGetTime()},toGetTime:function(){var e=this;setInterval((function(){var t=new Date(e.dataTime),n=t.getFullYear(),i=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0"+t.getDate():t.getDate(),r=t.getHours()<10?"0"+t.getHours():t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),s=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();e.time=n+" 年 "+i+" 月 "+a+" 日   "+r+":"+o+":"+s,e.dataTime+=1e3}),1e3)},showLogo:function(){return"logo_"+this.kanbanConfig.logo},showLogo2:function(){return"161"===this.getUrlKeyMain("cid",window.location.href)?"logo_lt2":""},showLogo3:function(){return"161"===this.getUrlKeyMain("cid",window.location.href)?"logo_ry2":""},getUrlKeyMain:function(e,t){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null},formatDateThree:function(e){var t="",n="";t=new Date(e);var i=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0"+t.getDate():t.getDate();return n=i+"-"+a,n},group:function(e,t){var n=0,i=[];while(n<e.length){var a=e.slice(n,n+=t);if(a.length===t)i.push(a);else{var o=t-a.length;i.push([].concat(Object(r["a"])(a),Object(r["a"])(new Array(o).fill({}))))}}return i},dataDeal:function(e){var t=[];if(e.length<=this.rowDeviceNum){var n=this.rowDeviceNum-e.length;t=[[].concat(Object(r["a"])(e),Object(r["a"])(new Array(n).fill({})))]}else t=this.group(e,this.rowDeviceNum);return t},getLineName:function(e){var t="";return t=e.productionLine?e.productionLine:e.workshop?e.workshop:e.factory?e.factory:"其他",t}}}),_=I,M=(n("c2d5"),Object(m["a"])(_,i,a,!1,null,"62650498",null));t["default"]=M.exports},e199:function(e,t,n){},f82c:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return v})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return g})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return m}));n("7db0"),n("a15b"),n("d81d"),n("b0c0"),n("d3b7");var i=n("b85c"),a=n("53ca"),r=n("b775");function o(){return new Promise((function(e,t){r["i"].post("deviceGroup/getAllGroupAndDevice.action").then((function(t){for(var n=0;n<t.data.rows.length;n++)t.data.rows[n].code&&(t.data.rows[n].id=t.data.rows[n].code);t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function s(){return new Promise((function(e,t){r["i"].post("deviceWorkshopType/getTree.action").then((function(t){t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function c(){return new Promise((function(e,t){r["i"].post("deviceGroup/getListGroupAndProductionLine.action").then((function(t){t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function l(){return new Promise((function(e,t){r["i"].post("deviceGroup/getTree.action?").then((function(t){t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function u(){return new Promise((function(e,t){r["i"].post("materialsType/getTree.action?").then((function(t){t.data.rows?t.data.rows=d(t.data.rows):t.data.rows=[],e(t.data)})).catch((function(e){t(e.data)}))}))}function d(e){var t=e;for(var n in t)t[n].value=t[n].id,t[n].label=t[n].name;for(var i=[],a={},r=0,o=t.length;r<o;r++)a[t[r].id]=t[r];for(r=0,o=t.length;r<o;r++){var s=a[t[r].pId];s?(s.children||(s.children=[]),s.children.push(t[r])):i.push(t[r])}return i}function f(e){var t=Array.isArray(e)?[]:{};if(e&&"object"===Object(a["a"])(e))for(var n in e)e.hasOwnProperty(n)&&(e[n]&&"object"===Object(a["a"])(e[n])?t[n]=this.deepClone(e[n]):t[n]=e[n]);return t}function h(e,t){var n=[];if(Array.isArray(e)&&Array.isArray(t)){if(e.length>0){var a,r=Object(i["a"])(e);try{var o=function(){var e=a.value,i=t.find((function(t){return t.field===e.field}));if(i){var r=Object.assign({},i,{minWidth:e.width,visible:e.visible,required:e.required});n.push(r)}};for(r.s();!(a=r.n()).done;)o()}catch(d){r.e(d)}finally{r.f()}t[1].type&&"checkbox"===t[1].type&&n.unshift(t[1]),t[0].type&&"radio"===t[0].type&&n.unshift(t[0]),t[0].type&&"checkbox"===t[0].type&&n.unshift(t[0]),console.log("7788",e,t,n);for(var s=0;s<t.length;s++)if(t[s].eType){for(var c=0,l=0;l<e.length;l++)t[s].field===e[l].field&&(c+=1);0===c&&n.push(t[s])}var u=t.length;return t[u-1].title&&"操作"===t[u-1].title&&n.push(t[u-1]),console.log("9999",n),n}return t}return[]}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i={conditionJson1:e,operatorGroup:t,conditionJson2:n};return i}function p(e,t){return t.map((function(t,n){return e.map((function(e){return null==t[e]||""===t[e]?"-":t[e]}))}))}function g(e){var t=new Date(e),n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();return i=i<10?"0"+i:i,a=a<10?"0"+a:a,[n,i,a].join("-")}function w(e){var t=new Date(e),n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();return i=i<10?"0"+i:i,a=a<10?"0"+a:a,[n,i,a].join("-")+" 00:00:00"}function m(e){var t=new Date(e),n=t.getFullYear(),i=t.getMonth()+1,a=t.getDate();return i=i<10?"0"+i:i,a=a<10?"0"+a:a,[n,i,a].join("-")+" 23:59:59"}}}]);
//# sourceMappingURL=chunk-f253bae4.dd10f829.js.map