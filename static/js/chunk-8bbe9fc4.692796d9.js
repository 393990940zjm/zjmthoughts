(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8bbe9fc4"],{"10e6":function(e,t,n){},"11a1":function(e,t,n){},"1bb8":function(e,t,n){"use strict";var i=n("f356"),a=n.n(i);a.a},"2bd3":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("div",{staticClass:"main"},[n("header-search",{attrs:{"show-primary-search":!0,cssType:"1"},on:{refreshTableData:e.refreshTableData}}),n("el-main",[n("Div",[n("div",{attrs:{id:"tabs"}},[n("div",{staticStyle:{display:"flex"}},[n("ul",e._l(e.tabs,(function(t,i){return n("li",{key:i,class:{active:e.active==i},on:{click:function(n){return e.toggle(i,t.views)}}},[e._v(e._s(t.name))])})),0),0===e.active2?n("ul",{staticClass:"numTask"},[n("li",{staticClass:"redTask"},[e._v(e._s(e.warnCount)+" 报警设备（台）")]),n("li",{staticClass:"blueTask"},[e._v(e._s(e.normalCount)+" 正常设备（台）")])]):e._e()]),n("ul",{staticClass:"tabs2"},e._l(e.tabs2,(function(t,i){return n("li",{key:i,class:{active:e.active2==i},on:{click:function(n){return e.toggle2(i,t.views)}}},[e._v(e._s(t.name))])})),0)]),n(e.currentView,{ref:e.currentView,tag:"component",attrs:{type:e.type,conditionArr1:e.conditionArr1,conditionArr2:e.conditionArr2,groupOperator:e.groupOperator,savedSearchCondition:e.savedSearchCondition},on:{alertEchart:e.alertEchart}})],1)],1)],1)])},a=[],o=n("2909"),r=(n("96cf"),n("1da1")),s=n("85a8"),c=n("5861"),l=n("582a"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"0 10px"}},[n("VXETable",{ref:"xGrid",attrs:{id:"table",height:e.$options.filters.getTableHeight(240),tableName:"",tableLoading:e.tableLoadings,tableDatas:e.tableDatas,tableColumns:e.myTableColumns,tablePage:e.tablePages,"edit-config":e.editConfig},on:{onTablePageChange:e.onTablePageChanges}}),n("dialog-setting-column",{attrs:{"show-setting-dialog":e.isSettingCustomDialogShow,"default-columns":e.tableColumns,"page-columns":e.myTableColumns},on:{"update:showSettingDialog":function(t){e.isSettingCustomDialogShow=t},"update:show-setting-dialog":function(t){e.isSettingCustomDialogShow=t},saveMyColumnSetting:e.handleSaveColumnSetting}})],1)},d=[],g=(n("a434"),n("a9e3"),n("ac1f"),n("5319"),n("cf46")),m=n("3fa5"),h=n("6464"),p=n("afb1"),b=n("be7c"),f=n("cf45"),v=n("f82c"),C=n("b82e"),T={components:{VXETable:g["a"],DialogSettingColumn:b["a"]},props:{type:Number,savedSearchCondition:{type:Array,default:function(){return[]}}},data:function(){var e=this,t=this.$createElement;return{EQUIPMENT_MONITORING:l["v"],BTN_TEXT:l["c"],timer:null,deviceName:"",lineOptions:[],groupOptions:[],dateTime:"",groupId:"",lineId:"",editConfig:{trigger:"click",mode:"row",showStatus:!1},showTable:!0,tableLoadings:!1,outData:[],tableDatas:[],tableColumns:[{field:"workshop",title:"产线名称",visible:!0,align:"center"},{field:"deviceName",title:l["v"].DEVICE_NAME,visible:!0,align:"center"},{field:"warnName",title:"报警内容",visible:!0,align:"center"},{field:"warningStartTime",title:"开始时间",visible:!0,align:"center"},{field:"",title:l["c"].OPERATION,visible:!0,width:"50",align:"center",fixed:"right",slots:{header:function(n){n.column;return[t("span",[t("i",{on:{click:function(){return e.showCustomColumn()}},class:"el-icon-s-tools set-btn"})])]}}}],tablePages:{total:0,currentPage:1,pageSize:50,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},savedCustomColumns:[],isSettingCustomDialogShow:!1}},computed:{myTableColumns:function(){return Array.isArray(this.savedCustomColumns)&&this.savedCustomColumns.length>0?this.savedCustomColumns:this.tableColumns}},watch:{groupId:function(e){this.getLine(),this.lineId=""}},created:function(){this.getCustomColumn(81.1),this.openGet()},beforeDestroy:function(){this.closeGet()},methods:{openGet:function(){var e=this;this.findList(),this.timer=setInterval((function(){e.findList()}),5e3)},closeGet:function(){clearInterval(this.timer),this.timer=null},findList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[],operatorGroup:1,conditionJson2:[]},e.savedSearchCondition.length>0&&(n=v["l"].apply(void 0,Object(o["a"])(e.savedSearchCondition))),n.size=e.tablePages.pageSize,n.current=e.tablePages.currentPage,t.prev=4,e.tableLoadings=!0,t.next=8,Object(p["a"])({},n);case 8:i=t.sent,i.code===l["M"].OPERATION_SUCCESS?(e.tableDatas=i.rows,e.tablePages.total=i.total,e.tableLoadings=!1):Object(m["c"])(i.message),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),Object(h["a"])(l["N"].NOTIFY,t.t0);case 15:return t.prev=15,t.finish(15);case 17:case"end":return t.stop()}}),t,null,[[4,12,15,17]])})))()},onTablePageChanges:function(e,t){this.tablePages.currentPage=e,this.tablePages.pageSize=t,this.findList()},search:function(){this.onTablePageChanges(1,10)},reset:function(){this.groupId="",this.lineId="",this.deviceName="",this.dateTime="",this.onTablePageChanges(1,10)},exportTable:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoadings=!0,n={conditionJson1:[],operatorGroup:1,conditionJson2:[]},e.savedSearchCondition.length>0&&(n=v["l"].apply(void 0,Object(o["a"])(e.savedSearchCondition))),n.size=99999999,n.current=1,t.prev=5,e.tableLoadings=!0,t.next=9,Object(p["a"])({},n);case 9:i=t.sent,i.code===l["M"].OPERATION_SUCCESS?(a="",a="故障报警统计.xls",e.tableLoadings=!1,e.$options.filters.setExportFunc(i,a),e.tableLoadings=!1):Object(m["c"])(i.message),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),Object(h["a"])(l["N"].NOTIFY,t.t0);case 16:return t.prev=16,t.finish(16);case 18:case"end":return t.stop()}}),t,null,[[5,13,16,18]])})))()},showCustomColumn:function(){this.isSettingCustomDialogShow=!this.isSettingCustomDialogShow},handleSaveColumnSetting:function(e){var t=arguments,n=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,o,r,s,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.length>1&&void 0!==t[1]?t[1]:n.cssType,a=n.$loading({body:!0,lock:!0,text:"自定列配置提交中..."}),i.prev=2,o=Object(f["c"])("id"),r=window.localStorage.getItem("account").replace(/"/g,""),s={account:r,cssType:11,menuId:o},i.next=8,Object(C["b"])(s,e);case 8:c=i.sent,"0000"===c.code?(a.close(),Object(m["b"])(c.message),n.refreshTableColumns()):(a.close(),Object(m["a"])(c.message||"操作失败！")),i.next=17;break;case 12:i.prev=12,i.t0=i["catch"](2),console.log(i.t0),a.close(),Object(m["a"])(i.t0+"666");case 17:return i.prev=17,n.isSettingCustomDialogShow=!1,i.finish(17);case 20:case"end":return i.stop()}}),i,null,[[2,12,17,20]])})))()},getCustomColumn:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,r,s,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,i=Object(f["c"])("id"),a=window.localStorage.getItem("account").replace(/"/g,""),r={account:a,cssType:e,menuId:i},n.next=6,Object(C["a"])(r);case 6:s=n.sent,Array.isArray(s)&&s.length>0&&(l=Object(v["k"])(s,t.tableColumns),t.savedCustomColumns.length>0&&t.savedCustomColumns.splice(0),(c=t.savedCustomColumns).push.apply(c,Object(o["a"])(l))),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),Object(m["a"])(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},refreshTableColumns:function(){this.getCustomColumn(11),this.refreshTableData()},refreshTableData:function(){this.findList()}}},w=T,O=w,S=(n("9b6a"),n("2877")),x=Object(S["a"])(O,u,d,!1,null,"d4ad7d04",null),y=x.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"0 10px"}},[n("VXETable",{ref:"xGrid",attrs:{id:"table",height:e.$options.filters.getTableHeight(240),tableName:"",tableLoading:e.tableLoadings,tableDatas:e.tableDatas,tableColumns:e.myTableColumns,tablePage:e.tablePages,"edit-config":e.editConfig},on:{onTablePageChange:e.onTablePageChanges}}),n("dialog-setting-column",{attrs:{"show-setting-dialog":e.isSettingCustomDialogShow,"default-columns":e.tableColumns,"page-columns":e.myTableColumns},on:{"update:showSettingDialog":function(t){e.isSettingCustomDialogShow=t},"update:show-setting-dialog":function(t){e.isSettingCustomDialogShow=t},saveMyColumnSetting:e.handleSaveColumnSetting}})],1)},P=[],D=n("3f2a"),k={components:{VXETable:g["a"],DialogSettingColumn:b["a"]},props:{type:Number,savedSearchCondition:{type:Array,default:function(){return[]}}},data:function(){var e=this,t=this.$createElement;return{EQUIPMENT_MONITORING:l["v"],BTN_TEXT:l["c"],deviceName:"",lineOptions:[],groupOptions:[],dateTime:"",groupId:"",lineId:"",editConfig:{trigger:"click",mode:"row",showStatus:!1},showTable:!0,tableLoadings:!1,outData:[],tableDatas:[],tableColumns:[{field:"workshop",title:"设备位置",visible:!0,width:"160",align:"center"},{field:"deviceName",title:"设备名称",visible:!0,align:"center"},{field:"warnName",title:"报警内容",visible:!0,width:"160",align:"center"},{field:"warningStartTime",title:"开始时间",visible:!0,width:"160",align:"center"},{field:"warningEndTime",title:"结束时间",visible:!0,width:"160",align:"center"},{field:"",title:l["c"].OPERATION,visible:!0,width:"50",align:"center",fixed:"right",slots:{header:function(n){n.column;return[t("span",[t("i",{on:{click:function(){return e.showCustomColumn()}},class:"el-icon-s-tools set-btn"})])]}}}],tablePages:{total:0,currentPage:1,pageSize:20,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},savedCustomColumns:[],isSettingCustomDialogShow:!1}},computed:{myTableColumns:function(){return Array.isArray(this.savedCustomColumns)&&this.savedCustomColumns.length>0?this.savedCustomColumns:this.tableColumns}},watch:{groupId:function(e){this.getLine(),this.lineId=""}},created:function(){this.getCustomColumn(812),this.findList()},methods:{findList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[],operatorGroup:1,conditionJson2:[]},e.savedSearchCondition.length>0&&(n=v["l"].apply(void 0,Object(o["a"])(e.savedSearchCondition))),n.size=e.tablePages.pageSize,n.current=e.tablePages.currentPage,t.prev=4,e.tableLoadings=!0,t.next=8,Object(p["d"])({},n);case 8:i=t.sent,i.code===l["M"].OPERATION_SUCCESS?(e.tableDatas=i.rows,e.tablePages.total=i.total,e.tableLoadings=!1):Object(m["c"])(i.message),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),Object(h["a"])(l["N"].NOTIFY,t.t0);case 15:return t.prev=15,t.finish(15);case 17:case"end":return t.stop()}}),t,null,[[4,12,15,17]])})))()},onTablePageChanges:function(e,t){this.tablePages.currentPage=e,this.tablePages.pageSize=t,this.findList()},search:function(){this.onTablePageChanges(1,10)},reset:function(){this.groupId="",this.lineId="",this.deviceName="",this.dateTime="",this.onTablePageChanges(1,10)},exportTable:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a,o,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoadings=!0,n="",n=""!==e.lineId?e.lineId:e.groupId,i="",a="",void 0!==e.dateTime[0]&&(i=e.dateTime[0]+" 00:00:00",a=e.dateTime[1]+" 23:59:59"),t.prev=6,o={size:e.tablePages.pageSize,current:e.tablePages.currentPage,groupId:n,deviceName:e.deviceName,startTime:i,endTime:a},t.next=10,Object(D["z"])(o);case 10:r=t.sent,void 0!==r.data.code?(Object(m["c"])(r.message),e.tableLoadings=!1):(s="",s="告警统计.xls",e.tableLoadings=!1,e.$options.filters.setExportFunc(r,s)),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](6),Object(h["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 17:return t.prev=17,t.finish(17);case 19:case"end":return t.stop()}}),t,null,[[6,14,17,19]])})))()},showCustomColumn:function(){this.isSettingCustomDialogShow=!this.isSettingCustomDialogShow},handleSaveColumnSetting:function(e){var t=arguments,n=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,o,r,s,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.length>1&&void 0!==t[1]?t[1]:n.cssType,a=n.$loading({body:!0,lock:!0,text:"自定列配置提交中..."}),i.prev=2,o=Object(f["c"])("id"),r=window.localStorage.getItem("account").replace(/"/g,""),s={account:r,cssType:812,menuId:o},i.next=8,Object(C["b"])(s,e);case 8:c=i.sent,"0000"===c.code?(a.close(),Object(m["b"])(c.message),n.refreshTableColumns()):(a.close(),Object(m["a"])(c.message||"操作失败！")),i.next=17;break;case 12:i.prev=12,i.t0=i["catch"](2),console.log(i.t0),a.close(),Object(m["a"])(i.t0);case 17:return i.prev=17,n.isSettingCustomDialogShow=!1,i.finish(17);case 20:case"end":return i.stop()}}),i,null,[[2,12,17,20]])})))()},getCustomColumn:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,r,s,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,i=Object(f["c"])("id"),a=window.localStorage.getItem("account").replace(/"/g,""),r={account:a,cssType:e,menuId:i},n.next=6,Object(C["a"])(r);case 6:s=n.sent,Array.isArray(s)&&s.length>0&&(l=Object(v["k"])(s,t.tableColumns),t.savedCustomColumns.length>0&&t.savedCustomColumns.splice(0),(c=t.savedCustomColumns).push.apply(c,Object(o["a"])(l))),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),Object(m["a"])(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},refreshTableColumns:function(){this.getCustomColumn(812),this.refreshTableData()},refreshTableData:function(){this.findList()}}},I=k,E=I,N=(n("534a"),Object(S["a"])(E,j,P,!1,null,"4a746463",null)),L=N.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"0 10px"}},[n("VXETable",{ref:"xGrid",attrs:{id:"table",height:e.$options.filters.getTableHeight(240),tableName:"",tableLoading:e.tableLoadings,tableDatas:e.tableDatas,tableColumns:e.myTableColumns,tablePage:e.tablePages,"edit-config":e.editConfig},on:{onTablePageChange:e.onTablePageChanges}}),n("dialog-setting-column",{attrs:{"show-setting-dialog":e.isSettingCustomDialogShow,"default-columns":e.tableColumns,"page-columns":e.myTableColumns},on:{"update:showSettingDialog":function(t){e.isSettingCustomDialogShow=t},"update:show-setting-dialog":function(t){e.isSettingCustomDialogShow=t},saveMyColumnSetting:e.handleSaveColumnSetting}})],1)},R=[],W={components:{VXETable:g["a"],DialogSettingColumn:b["a"]},props:{type:Number,savedSearchCondition:{type:Array,default:function(){return[]}}},data:function(){var e=this,t=this.$createElement;return{EQUIPMENT_MONITORING:l["v"],BTN_TEXT:l["c"],timer:null,deviceName:"",lineOptions:[],groupOptions:[],dateTime:"",groupId:"",lineId:"",editConfig:{trigger:"click",mode:"row",showStatus:!1},showTable:!0,tableLoadings:!1,outData:[],tableDatas:[],tableColumns:[{field:"workshop",title:"产线名称",visible:!0,width:"160",align:"center"},{field:"deviceName",title:l["v"].DEVICE_NAME,visible:!0,width:"160",align:"center"},{field:"warnName",title:"异常参数",visible:!0,minWidth:"160",align:"center"},{field:"warnValue",title:"异常值大小",visible:!0,minWidth:"160",align:"center"},{field:"upLine",title:"最大值",visible:!0,minWidth:"160",align:"center"},{field:"downLine",title:"最小值",visible:!0,minWidth:"160",align:"center"},{field:"warningStartTime",title:"开始时间",visible:!0,minWidth:"160",align:"center"},{field:"warningEndTime",title:"结束时间",visible:!0,minWidth:"160",align:"center"},{field:"paraWarningCount",title:"当前状态",visible:!0,width:"160",align:"center",formatter:function(){return"报警中"}},{field:"",title:l["c"].OPERATION,visible:!0,width:"50",align:"center",fixed:"right",slots:{header:function(n){n.column;return[t("span",[t("i",{on:{click:function(){return e.showCustomColumn()}},class:"el-icon-s-tools set-btn"})])]}}}],tablePages:{total:0,currentPage:1,pageSize:50,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},savedCustomColumns:[],isSettingCustomDialogShow:!1}},computed:{myTableColumns:function(){return Array.isArray(this.savedCustomColumns)&&this.savedCustomColumns.length>0?this.savedCustomColumns:this.tableColumns}},watch:{groupId:function(e){this.lineId=""}},created:function(){this.getCustomColumn(813),this.openGet()},beforeDestroy:function(){this.closeGet()},methods:{openGet:function(){var e=this;this.findList(),this.timer=setInterval((function(){e.findList()}),5e3)},closeGet:function(){clearInterval(this.timer),this.timer=null},findList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[],operatorGroup:1,conditionJson2:[]},e.savedSearchCondition.length>0&&(n=v["l"].apply(void 0,Object(o["a"])(e.savedSearchCondition))),n.size=e.tablePages.pageSize,n.current=e.tablePages.currentPage,t.prev=4,e.tableLoadings=!0,t.next=8,Object(p["b"])({},n);case 8:i=t.sent,i.code===l["M"].OPERATION_SUCCESS?(e.tableDatas=i.rows,e.tablePages.total=i.total,e.tableLoadings=!1):Object(m["c"])(i.message),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),Object(h["a"])(l["N"].NOTIFY,t.t0);case 15:return t.prev=15,t.finish(15);case 17:case"end":return t.stop()}}),t,null,[[4,12,15,17]])})))()},onTablePageChanges:function(e,t){this.tablePages.currentPage=e,this.tablePages.pageSize=t,this.findList()},search:function(){this.onTablePageChanges(1,10)},reset:function(){this.groupId="",this.lineId="",this.deviceName="",this.dateTime="",this.onTablePageChanges(1,10)},exportTable:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a,o,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoadings=!0,n="",n=""!==e.lineId?e.lineId:e.groupId,i="",a="",void 0!==e.dateTime[0]&&(i=e.dateTime[0]+" 00:00:00",a=e.dateTime[1]+" 23:59:59"),t.prev=6,o={size:e.tablePages.pageSize,current:e.tablePages.currentPage,groupId:n,deviceName:e.deviceName,startTime:i,endTime:a},t.next=10,Object(D["z"])(o);case 10:r=t.sent,void 0!==r.data.code?(Object(m["c"])(r.message),e.tableLoadings=!1):(s="",s="告警统计.xls",e.tableLoadings=!1,e.$options.filters.setExportFunc(r,s)),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](6),Object(h["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 17:return t.prev=17,t.finish(17);case 19:case"end":return t.stop()}}),t,null,[[6,14,17,19]])})))()},showCustomColumn:function(){this.isSettingCustomDialogShow=!this.isSettingCustomDialogShow},handleSaveColumnSetting:function(e){var t=arguments,n=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,o,r,s,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.length>1&&void 0!==t[1]?t[1]:n.cssType,a=n.$loading({body:!0,lock:!0,text:"自定列配置提交中..."}),i.prev=2,o=Object(f["c"])("id"),r=window.localStorage.getItem("account").replace(/"/g,""),s={account:r,cssType:11,menuId:o},i.next=8,Object(C["b"])(s,e);case 8:c=i.sent,"0000"===c.code?(a.close(),Object(m["b"])(c.message),n.refreshTableColumns()):(a.close(),Object(m["a"])(c.message||"操作失败！")),i.next=17;break;case 12:i.prev=12,i.t0=i["catch"](2),console.log(i.t0),a.close(),Object(m["a"])(i.t0+"666");case 17:return i.prev=17,n.isSettingCustomDialogShow=!1,i.finish(17);case 20:case"end":return i.stop()}}),i,null,[[2,12,17,20]])})))()},getCustomColumn:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,r,s,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,i=Object(f["c"])("id"),a=window.localStorage.getItem("account").replace(/"/g,""),r={account:a,cssType:e,menuId:i},n.next=6,Object(C["a"])(r);case 6:s=n.sent,Array.isArray(s)&&s.length>0&&(l=Object(v["k"])(s,t.tableColumns),t.savedCustomColumns.length>0&&t.savedCustomColumns.splice(0),(c=t.savedCustomColumns).push.apply(c,Object(o["a"])(l))),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),Object(m["a"])(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},refreshTableColumns:function(){this.getCustomColumn(11),this.refreshTableData()},refreshTableData:function(){this.findList()}}},A=W,z=A,$=(n("2da8"),Object(S["a"])(z,_,R,!1,null,"a7558088",null)),M=$.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"0 10px"}},[n("VXETable",{ref:"xGrid",attrs:{id:"table",height:e.$options.filters.getTableHeight(240),tableName:"",tableLoading:e.tableLoadings,tableDatas:e.tableDatas,tableColumns:e.myTableColumns,tablePage:e.tablePages,"edit-config":e.editConfig},on:{onTablePageChange:e.onTablePageChanges}}),n("dialog-setting-column",{attrs:{"show-setting-dialog":e.isSettingCustomDialogShow,"default-columns":e.tableColumns,"page-columns":e.myTableColumns},on:{"update:showSettingDialog":function(t){e.isSettingCustomDialogShow=t},"update:show-setting-dialog":function(t){e.isSettingCustomDialogShow=t},saveMyColumnSetting:e.handleSaveColumnSetting}})],1)},J=[],V={components:{VXETable:g["a"],DialogSettingColumn:b["a"]},props:{type:Number,savedSearchCondition:{type:Array,default:function(){return[]}}},data:function(){var e=this,t=this.$createElement;return{EQUIPMENT_MONITORING:l["v"],BTN_TEXT:l["c"],deviceName:"",lineOptions:[],groupOptions:[],dateTime:"",groupId:"",lineId:"",editConfig:{trigger:"click",mode:"row",showStatus:!1},showTable:!0,tableLoadings:!1,outData:[],tableDatas:[],tableColumns:[{field:"workshop",title:"设备位置",visible:!0,minWidth:"160",align:"center"},{field:"deviceName",title:"设备名称",minWidth:"160",visible:!0,align:"center"},{field:"warnName",title:"异常参数",visible:!0,minWidth:"160",align:"center"},{field:"warnValue",title:"异常值大小",visible:!0,minWidth:"160",align:"center"},{field:"upLine",title:"最大值",visible:!0,minWidth:"160",align:"center"},{field:"downLine",title:"最小值",visible:!0,minWidth:"160",align:"center"},{field:"warningStartTime",title:"开始时间",visible:!0,minWidth:"160",align:"center"},{field:"warningEndTime",title:"结束时间",visible:!0,minWidth:"160",align:"center"},{field:"",title:l["c"].OPERATION,visible:!0,minWidth:"50",align:"center",fixed:"right",slots:{header:function(n){n.column;return[t("span",[t("i",{on:{click:function(){return e.showCustomColumn()}},class:"el-icon-s-tools set-btn"})])]}}}],tablePages:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},savedCustomColumns:[],isSettingCustomDialogShow:!1}},computed:{myTableColumns:function(){return Array.isArray(this.savedCustomColumns)&&this.savedCustomColumns.length>0?this.savedCustomColumns:this.tableColumns}},watch:{groupId:function(e){this.getLine(),this.lineId=""}},created:function(){this.getCustomColumn(814),this.findList()},methods:{findList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[],operatorGroup:1,conditionJson2:[]},e.savedSearchCondition.length>0&&(n=v["l"].apply(void 0,Object(o["a"])(e.savedSearchCondition))),n.size=e.tablePages.pageSize,n.current=e.tablePages.currentPage,t.prev=4,e.tableLoadings=!0,t.next=8,Object(p["f"])({},n);case 8:i=t.sent,i.code===l["M"].OPERATION_SUCCESS?(e.tableDatas=i.rows,e.tablePages.total=i.total,e.tableLoadings=!1):Object(m["c"])(i.message),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](4),Object(h["a"])(l["N"].NOTIFY,t.t0);case 15:return t.prev=15,t.finish(15);case 17:case"end":return t.stop()}}),t,null,[[4,12,15,17]])})))()},onTablePageChanges:function(e,t){this.tablePages.currentPage=e,this.tablePages.pageSize=t,this.findList()},search:function(){this.onTablePageChanges(1,10)},reset:function(){this.groupId="",this.lineId="",this.deviceName="",this.dateTime="",this.onTablePageChanges(1,10)},exportTable:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a,o,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoadings=!0,n="",n=""!==e.lineId?e.lineId:e.groupId,i="",a="",void 0!==e.dateTime[0]&&(i=e.dateTime[0]+" 00:00:00",a=e.dateTime[1]+" 23:59:59"),t.prev=6,o={size:e.tablePages.pageSize,current:e.tablePages.currentPage,groupId:n,deviceName:e.deviceName,startTime:i,endTime:a},t.next=10,Object(D["z"])(o);case 10:r=t.sent,void 0!==r.data.code?(Object(m["c"])(r.message),e.tableLoadings=!1):(s="",s="告警统计.xls",e.tableLoadings=!1,e.$options.filters.setExportFunc(r,s)),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](6),Object(h["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 17:return t.prev=17,t.finish(17);case 19:case"end":return t.stop()}}),t,null,[[6,14,17,19]])})))()},showCustomColumn:function(){this.isSettingCustomDialogShow=!this.isSettingCustomDialogShow},handleSaveColumnSetting:function(e){var t=arguments,n=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,o,r,s,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.length>1&&void 0!==t[1]?t[1]:n.cssType,a=n.$loading({body:!0,lock:!0,text:"自定列配置提交中..."}),i.prev=2,o=Object(f["c"])("id"),r=window.localStorage.getItem("account").replace(/"/g,""),s={account:r,cssType:814,menuId:o},i.next=8,Object(C["b"])(s,e);case 8:c=i.sent,"0000"===c.code?(a.close(),Object(m["b"])(c.message),n.refreshTableColumns()):(a.close(),Object(m["a"])(c.message||"操作失败！")),i.next=17;break;case 12:i.prev=12,i.t0=i["catch"](2),console.log(i.t0),a.close(),Object(m["a"])(i.t0+"666");case 17:return i.prev=17,n.isSettingCustomDialogShow=!1,i.finish(17);case 20:case"end":return i.stop()}}),i,null,[[2,12,17,20]])})))()},getCustomColumn:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,r,s,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,i=Object(f["c"])("id"),a=window.localStorage.getItem("account").replace(/"/g,""),r={account:a,cssType:e,menuId:i},n.next=6,Object(C["a"])(r);case 6:s=n.sent,Array.isArray(s)&&s.length>0&&(l=Object(v["k"])(s,t.tableColumns),t.savedCustomColumns.length>0&&t.savedCustomColumns.splice(0),(c=t.savedCustomColumns).push.apply(c,Object(o["a"])(l))),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),Object(m["a"])(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},refreshTableColumns:function(){this.getCustomColumn(814),this.refreshTableData()},refreshTableData:function(){this.findList()}}},U=V,F=U,H=(n("47f0"),Object(S["a"])(F,G,J,!1,null,"52b639ec",null)),q=H.exports,X=n("eec9"),B={name:"EquipmentMonitoring",data:function(){return{BTN_TEXT:l["c"],active:0,active2:0,activeN:0,type:2,warnCount:0,normalCount:0,currentView:"repairWarnToday",tabs:[{name:"故障报警",views:"repairWarnToday"},{name:"参数报警",views:"paramWarnToday"}],tabs2:[{name:"实时"},{name:"历史"}],savedSearchCondition:[]}},created:function(){this.getWarnCount()},methods:{buttonClickEvent:function(e){console.log(e),this["".concat(e)]()},toggle:function(e,t){this.active=e,this.currentView=t,this.active2=0,this.getWarnCount()},toggle2:function(e,t){this.getWarnCount(),this.active2=e,0===e?0===this.active?this.currentView="repairWarnToday":this.currentView="paramWarnToday":1===e&&(0===this.active?this.currentView="repairWarnHistory":this.currentView="paramWarnHistory")},getWarnCount:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="",0===e.active?n="WARNING":1===e.active&&(n="PARAMETER"),t.prev=2,t.next=5,Object(p["h"])({deviceWarningRecordEnum:n});case 5:i=t.sent,i.code===l["M"].OPERATION_SUCCESS&&(e.warnCount=i.rows.warnCount,e.normalCount=i.rows.normal),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](2);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[2,9,11,13]])})))()},exportTable:function(){0===this.active?this.$refs.utilizationRateTable.exportTable():1===this.active?this.$refs.alarmStatistics.exportTable():2===this.active&&this.$refs.efficiencyStatistics.exportTable()},refreshTableData:function(e){e&&(this.savedSearchCondition=Object(o["a"])(e)),this.findList()},findList:function(){var e=this;this.$nextTick((function(){0===e.active?0===e.active2?e.$refs.repairWarnToday.findList():e.$refs.repairWarnHistory.findList():0===e.active2?e.$refs.paramWarnToday.findList():e.$refs.paramWarnHistory.findList()}))}},components:{SearchBox:X["a"],HeaderTitle:s["a"],HeadOperationItem:c["a"],repairWarnToday:y,repairWarnHistory:L,paramWarnToday:M,paramWarnHistory:q}},Y=B,Q=Y,K=(n("9627"),Object(S["a"])(Q,i,a,!1,null,"63f0d2b5",null));t["default"]=K.exports},"2da8":function(e,t,n){"use strict";var i=n("11a1"),a=n.n(i);a.a},3589:function(e,t,n){},"3f2a":function(e,t,n){"use strict";n.d(t,"q",(function(){return a})),n.d(t,"u",(function(){return o})),n.d(t,"t",(function(){return r})),n.d(t,"A",(function(){return s})),n.d(t,"y",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return g})),n.d(t,"b",(function(){return m})),n.d(t,"w",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"r",(function(){return b})),n.d(t,"v",(function(){return f})),n.d(t,"z",(function(){return v})),n.d(t,"c",(function(){return C})),n.d(t,"x",(function(){return T})),n.d(t,"i",(function(){return w})),n.d(t,"o",(function(){return O})),n.d(t,"j",(function(){return S})),n.d(t,"n",(function(){return x})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return j})),n.d(t,"m",(function(){return P})),n.d(t,"p",(function(){return D})),n.d(t,"s",(function(){return k})),n.d(t,"a",(function(){return I}));var i=n("b775"),a=function(e,t){return Object(i["a"])("export/exportUserTemplate.action?",e,t)},o=function(e,t){return Object(i["a"])("export/exportParameterWarningUnProcess.action?",e,t)},r=function(e,t){return Object(i["a"])("export/exportParameterWarningProcess.action?",e,t)},s=function(e,t){return Object(i["a"])("export/exportWarningUnprocessed.action?",e,t)},c=function(e,t){return Object(i["a"])("export/exportWarningProcessed.action?",e,t)},l=function(e,t){return Object(i["a"])("export/exportEnergyMonitor.action?",e,t)},u=function(e,t){return Object(i["a"])("export/exportEnergyMonitorHistory.action?",e,t)},d=function(e,t){return Object(i["a"])("export/exportCheckItemTemplate.action?",e,t)},g=function(e,t){return Object(i["a"])("export/exportDeviceTemplate.action?",e,t)},m=function(e,t){return Object(i["a"])("deviceAdmin/exportDeviceCollectTypeTemplate.action?",e,t)},h=function(e,t){return Object(i["a"])("export/exportStatisticsOfCropMovementRate.action?",e,t)},p=function(e,t){return Object(i["a"])("export/exportDevicesEfficiencyStatistics.action?",e,t)},b=function(e){return Object(i["c"])("template/MaintainDataTemplates.xlsx",e)},f=function(e,t){return Object(i["a"])("export/exportRepairTaskTemplate.action?",e,t)},v=function(e,t){return Object(i["a"])("export/exportWarningStatistics.action?",e,t)},C=function(e,t){return Object(i["a"])("export/exportDeviceOEE.action?",e,t)},T=function(e,t){return Object(i["a"])("export/exportWarningConfigTemplate.action?",e,t)},w=function(e,t){return Object(i["a"])("export/exportMaterialsTemplate.action?",e,t)},O=function(e,t){return Object(i["a"])("export/exportProductionTaskTemplate.action?",e,t)},S=function(e,t){return Object(i["a"])("export/exportProductionTask.action?",e,t)},x=function(e,t){return Object(i["a"])("export/exportProductionTaskStart.action?",e,t)},y=function(e,t){return Object(i["a"])("export/exportProductionTaskEnd.action?",e,t)},j=function(e,t){return Object(i["a"])("export/exportProductionTaskInspection.action?",e,t)},P=function(e,t){return Object(i["a"])("export/exportProductionTaskReportByCondition.action?",e,t)},D=function(e,t){return Object(i["a"])("export/exportToolTemplate.action?",e,t)},k=function(e,t){return Object(i["a"])("maintainPlan/exportMaintainPlanTemplate.action?",e,t)},I=function(e,t){return Object(i["a"])("export/exportDevice.action?",e,t)}},"47f0":function(e,t,n){"use strict";var i=n("3589"),a=n.n(i);a.a},"534a":function(e,t,n){"use strict";var i=n("cbd4"),a=n.n(i);a.a},9627:function(e,t,n){"use strict";var i=n("10e6"),a=n.n(i);a.a},"9b6a":function(e,t,n){"use strict";var i=n("f43b"),a=n.n(i);a.a},afb1:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"i",(function(){return g}));var i=n("b775"),a=function(e,t){return Object(i["k"])("deviceException/getDeviceWarnStatisticsAnalyze.action?",e,t)},o=function(e,t){return Object(i["k"])("deviceException/getParameterWarnStatisticsAnalyze.action?",e,t)},r=function(e,t){return Object(i["k"])("deviceException/getRealWarnDeviceCount.action?",e,t)},s=function(e,t){return Object(i["k"])("deviceException/getAllRealDeviceWarn.action?",e,t)},c=function(e,t){return Object(i["k"])("deviceException/getDeviceHistoryWarn.action?",e,t)},l=function(e,t){return Object(i["k"])("deviceException/getParameterHistoryWarn.action?",e,t)},u=function(e,t){return Object(i["k"])("deviceException/getAllRealParameterWarn.action?",e,t)},d=function(e,t){return Object(i["k"])("deviceException/getDeviceExceptionComparedAnalyze.action?",e,t)},g=function(e,t){return Object(i["k"])("deviceException/getDeviceExceptionComparedAnalyzeNew.action?",e,t)}},b82e:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var i=n("b775"),a=function(e,t){return Object(i["m"])("/configure/pageUserCustom/savePageUserCustomInfo.action?",e,t)},o=function(e,t){return Object(i["m"])("/configure/pageUserCustom/getPageUserCustomDetails.action?",e,t)}},be7c:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{staticClass:"customize-column-dialog",attrs:{"show-close":!1,visible:e.isDialogShow,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isDialogShow=t}}},[n("span",{attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"customize-column-dialog__title"},[e._v(e._s(e.dialogTitle))]),n("span",{staticClass:"customize-column-dialog__prompt"},[e._v("勾选需要显示的列，拖动列名进行排序")])]),n("div",{staticStyle:{height:"400px",overflow:"auto"}},[n("vue-draggable",{attrs:{animation:"380",ghostClass:"ghost",handle:".move-row",scroll:""},model:{value:e.tempTableColumns,callback:function(t){e.tempTableColumns=t},expression:"tempTableColumns"}},e._l(e.tempTableColumns,(function(t,i){return n("li",{key:i,staticClass:"column-row"},[n("el-checkbox",{staticClass:"column-row__checkbox",attrs:{disabled:t.required},model:{value:t.visible,callback:function(n){e.$set(t,"visible",n)},expression:"column.visible"}}),n("span",{staticClass:"column-row__tilte",class:t.required?"":"move-row"},[e._v(e._s(t.title))]),n("el-input",{staticClass:"column-low__input",attrs:{size:"mini"},model:{value:t.width,callback:function(n){e.$set(t,"width",n)},expression:"column.width"}}),n("span",{staticClass:"column-row__unit"},[e._v("px")])],1)})),0)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{staticClass:"custom-button",attrs:{plain:""},on:{click:e.handleResetEvent}},[e._v(" 恢复默认 ")]),n("el-button",{staticClass:"custom-button",attrs:{plain:""},on:{click:e.handleCloseEvent}},[e._v(" 关闭 ")]),n("el-button",{staticClass:"custom-button",attrs:{type:"primary"},on:{click:e.handleSaveEvent}},[e._v(" 保存 ")])],1)])},a=[],o=(n("a434"),n("b85c")),r=n("310e"),s=n.n(r),c={name:"dialogCustomizeColumnsDialogSettingColumn",components:{VueDraggable:s.a},props:{pageColumns:{type:Array,default:function(){return[]},required:!0},showSettingDialog:{type:Boolean,default:function(){return!1}},defaultColumns:{type:Array,default:function(){return[]},required:!0}},watch:{pageColumns:{handler:function(e){var t,n;this.tempTableColumns.splice(0);var i,a=[],r=Object(o["a"])(e);try{for(r.s();!(i=r.n()).done;){var s=i.value;s.field&&s.title&&a.push({field:s.field,title:s.title,width:s.minWidth||"100",visible:s.visible,required:s.required})}}catch(c){r.e(c)}finally{r.f()}(t=this.tempTableColumns).push.apply(t,a),(n=this.initTableColumns).push.apply(n,a)},immediate:!0,deep:!0},defaultColumns:{handler:function(e){var t;this.defaultTableColumns.splice(0);var n,i=[],a=Object(o["a"])(e);try{for(a.s();!(n=a.n()).done;){var r=n.value;r.field&&i.push({field:r.field,title:r.title,width:r.minWidth||"100",visible:r.visible,required:r.required})}}catch(s){a.e(s)}finally{a.f()}(t=this.defaultTableColumns).push.apply(t,i)},immediate:!0,deep:!0},showSettingDialog:{handler:function(e){this.isDialogShow=e},immediate:!0}},data:function(){return{dialogTitle:"自定义列",isDialogShow:!1,tempTableColumns:[],initTableColumns:[],defaultTableColumns:[]}},methods:{handleSaveEvent:function(){this.$emit("saveMyColumnSetting",this.tempTableColumns)},handleCloseEvent:function(){for(var e=this.tempTableColumns.length,t=!0,n=0;n<e;n++){var i=this.tempTableColumns[n],a=this.initTableColumns[n];if(i.field!==a.field){t=!1;break}if(i.width!==a.width){t=!1;break}if(i.visible!==a.visible){t=!1;break}}if(!t){var r,s,c=[],l=Object(o["a"])(this.pageColumns);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.field&&c.push({field:u.field,title:u.title,width:u.minWidth||"100",visible:u.visible,required:u.required})}}catch(d){l.e(d)}finally{l.f()}this.tempTableColumns.splice(0),(r=this.tempTableColumns).push.apply(r,c)}this.$emit("update:showSettingDialog",!1)},handleResetEvent:function(){var e,t,n=[],i=Object(o["a"])(this.defaultColumns);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field&&n.push({field:a.field,title:a.title,width:a.minWidth||"100",visible:a.visible,required:a.required})}}catch(r){i.e(r)}finally{i.f()}this.tempTableColumns.splice(0),(e=this.tempTableColumns).push.apply(e,n)}}},l=c,u=(n("1bb8"),n("2877")),d=Object(u["a"])(l,i,a,!1,null,"2d822b9c",null);t["a"]=d.exports},cbd4:function(e,t,n){},f356:function(e,t,n){},f43b:function(e,t,n){}}]);
//# sourceMappingURL=chunk-8bbe9fc4.692796d9.js.map