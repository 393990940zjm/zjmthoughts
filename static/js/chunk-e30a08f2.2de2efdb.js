(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e30a08f2"],{"44ff":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"kanban_page"},[n("div",{staticClass:"title"},[t._v("设备管理")]),n("div",{staticClass:"statistics_wra"},[n("div",{staticClass:"itemModule"},[t._m(0),n("div",{staticClass:"topBox"},[n("div",{staticClass:"itemChunk"},[n("span",{staticClass:"value"},[t._v(t._s(t.repairCard.no))]),n("span",{staticClass:"name"},[t._v("未开始")])])]),n("div",{staticClass:"bottonBox"},[n("div",{staticClass:"itemChunk"},[n("span",{staticClass:"value"},[t._v(t._s(t.repairCard.do))]),n("span",{staticClass:"name"},[t._v("维修中")])]),n("div",{staticClass:"itemChunk"},[n("span",{staticClass:"value"},[t._v(t._s(t.repairCard.off))]),n("span",{staticClass:"name"},[t._v("已完成")])])])]),n("div",{staticClass:"itemModule"},[t._m(1),n("div",{staticClass:"topBox"},[n("div",{staticClass:"itemChunk"},[n("span",{staticClass:"value"},[t._v(t._s(t.maintainCard.no))]),n("span",{staticClass:"name"},[t._v("未开始")])])]),n("div",{staticClass:"bottonBox"},[n("div",{staticClass:"itemChunk"},[n("span",{staticClass:"value"},[t._v(t._s(t.maintainCard.do))]),n("span",{staticClass:"name"},[t._v("保养中")])]),n("div",{staticClass:"itemChunk"},[n("span",{staticClass:"value"},[t._v(t._s(t.maintainCard.off))]),n("span",{staticClass:"name"},[t._v("已完成")])])])]),n("div",{staticClass:"itemModule"},[t._m(2),n("div",{staticClass:"topBox"},[n("div",{staticClass:"itemChunk"},[n("span",{staticClass:"value"},[t._v(t._s(t.checkCard.no))]),n("span",{staticClass:"name"},[t._v("未开始")])])]),n("div",{staticClass:"flex-box bottonBox"},[n("div",{staticClass:"itemChunk"},[n("span",{staticClass:"value"},[t._v(t._s(t.checkCard.do))]),n("span",{staticClass:"name"},[t._v("点检中")])]),n("div",{staticClass:"itemChunk"},[n("span",{staticClass:"value"},[t._v(t._s(t.checkCard.off))]),n("span",{staticClass:"name"},[t._v("已完成")])])])])]),n("div",{staticClass:"list_wra"},[n("div",{staticClass:"repair"},[n("div",{staticClass:"kanban_module_title"},[t._v("维修任务列表")]),n("div",{staticClass:"table_wra"},[n("table",{attrs:{id:"repairTable"}},[t._m(3),t._l(t.repairList,(function(e,i){return n("tr",{key:i},[n("td",[t._v(t._s(e.deviceName))]),n("td",[t._v(t._s(e.repairTypeNames))]),n("td",[t._v(t._s(e.maintainUserName))]),n("td",[t._v(t._s(e.occurTime))]),n("td",[n("span",{staticClass:"state",class:[1===e.repairState?"no":"doing"]}),t._v(t._s(t.repairStateFunc(e.repairState))+" ")])])}))],2)])]),n("div",{staticClass:"maintain"},[n("div",{staticClass:"kanban_module_title"},[t._v("保养任务列表")]),n("div",{staticClass:"table_wra"},[n("table",{attrs:{id:"maintainTable"}},[t._m(4),t._l(t.maintainList,(function(e,i){return n("tr",{key:i},[n("td",[t._v(t._s(e.deviceName))]),n("td",[t._v(t._s(e.cycleName))]),n("td",[t._v(t._s(t.timeFunc(e.maintainTime)))]),n("td",[n("span",{staticClass:"state",class:[1===e.repairState?"doing":"no"]}),t._v(" "+t._s(t.maintainStateFunc(e.maintainState))+" ")])])}))],2)])])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title flex"},[i("img",{attrs:{src:n("ab20")}}),i("span",[t._v("维修任务状态统计")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("img",{attrs:{src:n("ab20")}}),i("span",[t._v("保养任务状态统计")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("img",{attrs:{src:n("ab20")}}),i("span",[t._v("点检任务状态统计")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("设备名称")]),n("th",[t._v("故障类型")]),n("th",[t._v("报修人员")]),n("th",[t._v("报修时间")]),n("th",[t._v("维修状态")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("th",[t._v("设备名称")]),n("th",[t._v("保养周期")]),n("th",[t._v("预计保养时间")]),n("th",[t._v("保养状态")])])}],r=(n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("96cf"),n("1da1")),c=n("cf45"),o=n("582a"),s=n("99f6"),u=n("7598"),d={name:"deviceManage",data:function(){return{kanbanConfig:{},repairCard:{no:0,do:0,off:0},maintainCard:{no:0,do:0,off:0},checkCard:{no:0,do:0,off:0},current_r:1,size_r:5,current_m:1,size_m:5,repairList:[],maintainList:[],timer:null}},created:function(){var t,e=this;document.documentElement.style.fontSize=Object(c["b"])()+"px",window.onresize=function(){document.documentElement.style.fontSize=Object(c["b"])()+"px"},s["m"][this.getUrlKeyMain("cid",window.location.href)]&&(this.kanbanConfig=s["m"][this.getUrlKeyMain("cid",window.location.href)]),this.getStatisticsData(),this.showRepairList(),this.showMaintainList(),this.timer=setInterval((function(){e.getStatisticsData(),e.showRepairList(),e.showMaintainList()}),(null===(t=this.kanbanConfig)||void 0===t?void 0:t.time)||15e3)},destroyed:function(){this.timer&&clearInterval(this.timer)},methods:{timeFunc:function(t){return t.substring(0,11)},getStatisticsData:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u["c"])({},{secretKey:t.kanbanConfig.key});case 3:n=e.sent,n.code===o["M"].OPERATION_SUCCESS&&(void 0===n.rows.waitCount?(t.checkCard.no=0,t.checkCard.do=0,t.checkCard.off=0):(t.checkCard.no=n.rows.waitCount,t.checkCard.do=n.rows.ingCount,t.checkCard.off=n.rows.finishCount)),e.next=9;break;case 7:e.prev=7,e.t0=e["catch"](0);case 9:return e.prev=9,e.next=12,Object(u["e"])({},{secretKey:t.kanbanConfig.key});case 12:i=e.sent,i.code===o["M"].OPERATION_SUCCESS&&(t.repairCard.no=i.rows.waitCount,t.repairCard.do=i.rows.ingCount,t.repairCard.off=i.rows.finishCount),e.next=18;break;case 16:e.prev=16,e.t1=e["catch"](9);case 18:return e.prev=18,e.next=21,Object(u["d"])({},{secretKey:t.kanbanConfig.key});case 21:a=e.sent,a.code===o["M"].OPERATION_SUCCESS&&(t.maintainCard={no:a.rows.waitCount,do:a.rows.ingCount,off:a.rows.finishCount}),e.next=27;break;case 25:e.prev=25,e.t2=e["catch"](18);case 27:case"end":return e.stop()}}),e,null,[[0,7],[9,16],[18,25]])})))()},showRepairList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={conditionJson1:[{column:"repairState",operator:1,ptype:"int",type:"in",value:"1,2"}],current:t.current_r,size:t.size_r,secretKey:t.kanbanConfig.key},e.prev=1,e.next=4,Object(u["E"])({},n);case 4:i=e.sent,i.code===o["M"].OPERATION_SUCCESS&&(t.current_r*t.size_r>=i.total?t.current_r=1:t.current_r++,t.repairList=i.rows),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[1,8,10,12]])})))()},showMaintainList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={conditionJson1:[{column:"maintainState",operator:1,ptype:"int",type:"in",value:"1,4"}],current:t.current_m,size:t.size_m,secretKey:t.kanbanConfig.key},e.prev=1,e.next=4,Object(u["A"])({},n);case 4:i=e.sent,i.code===o["M"].OPERATION_SUCCESS&&(t.current_m*t.size_m>=i.total?t.current_m=1:t.current_m++,t.maintainList=i.rows),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](1);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[1,8,10,12]])})))()},getUrlKeyMain:function(t,e){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(e)||["",""])[1].replace(/\+/g,"%20"))||null},repairStateFunc:function(t){return 1===t?"待维修":2===t?"维修中":void 0},maintainStateFunc:function(t){return 1===t?"保养中":4===t?"待保养":void 0}}},v=d,p=(n("d03b"),n("2877")),l=Object(p["a"])(v,i,a,!1,null,"1bf3ae85",null);e["default"]=l.exports},7598:function(t,e,n){"use strict";n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return r})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"i",(function(){return u})),n.d(e,"b",(function(){return d})),n.d(e,"h",(function(){return v})),n.d(e,"s",(function(){return p})),n.d(e,"y",(function(){return l})),n.d(e,"x",(function(){return f})),n.d(e,"w",(function(){return C})),n.d(e,"H",(function(){return m})),n.d(e,"I",(function(){return b})),n.d(e,"j",(function(){return k})),n.d(e,"m",(function(){return g})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return T})),n.d(e,"o",(function(){return R})),n.d(e,"J",(function(){return _})),n.d(e,"t",(function(){return y})),n.d(e,"E",(function(){return O})),n.d(e,"A",(function(){return E})),n.d(e,"F",(function(){return j})),n.d(e,"z",(function(){return B})),n.d(e,"p",(function(){return w})),n.d(e,"n",(function(){return S})),n.d(e,"v",(function(){return M})),n.d(e,"u",(function(){return A})),n.d(e,"a",(function(){return D})),n.d(e,"C",(function(){return I})),n.d(e,"r",(function(){return x})),n.d(e,"q",(function(){return N})),n.d(e,"G",(function(){return z})),n.d(e,"D",(function(){return J})),n.d(e,"B",(function(){return L}));var i=n("b775"),a=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceRealState.action?",t,e)},r=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceStateReportStatistics.action?",t,e)},c=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceManager/getCheckCount.action?",t,e)},o=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceManager/getRepairTaskCount.action?",t,e)},s=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceManager/getMaintainTaskCount.action?",t,e)},u=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceReport/getDeviceDayUtilization.action?",t,e)},d=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceEarlyWarning/getDeviceWarnRecord.action?",t,e)},v=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getPageByDevice.action?",t,e)},p=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceMonitorReport.action?",t,e)},l=function(t,e){return Object(i["k"])("open-api/TvBoard/energyReport/getGasHoursUseReportBoard.action?",t,e)},f=function(t,e){return Object(i["k"])("open-api/TvBoard/energyReport/getEnergyTodayUse.action?",t,e)},C=function(t,e){return Object(i["k"])("open-api/TvBoard/energyReport/getEnergyTodayAndWeek.action?",t,e)},m=function(t,e){return Object(i["k"])("open-api/TvBoard/energyReport/getTodayAndYesterdayElectricityRecord.action?",t,e)},b=function(t,e){return Object(i["k"])("open-api/TvBoard/energyReport/getTopTenElectricityDevices.action?",t,e)},k=function(t,e){return Object(i["k"])("open-api/TvBoard/energyReport/getElectricityEnergyReport.action?",t,e)},g=function(t,e){return Object(i["k"])("open-api/TvBoard/energyReport/getWaterEnergyReport.action?",t,e)},h=function(t,e){return Object(i["k"])("open-api/TvBoard/energyReport/getGasEnergyReport.action?",t,e)},T=function(t,e){return Object(i["k"])("open-api/TvBoard/energyReport/getRecentDayEnergyRecord.action?",t,e)},R=function(t,e){return Object(i["k"])("realUserWork/getAndonKanbanOfRiSheng.action?",t,e)},_=function(t,e,n){return Object(i["k"])("existFunctionUpdate/listDeviceExceptionCount.action",t,e,n)},y=function(t,e,n){return Object(i["k"])("open-api/TvBoard/deviceReport/getDeviceStateReportStatistics.action?",t,e,n)},O=function(t,e,n){return Object(i["k"])("open-api/TvBoard/deviceManager/getRepairTask.action?",t,e,n)},E=function(t,e,n){return Object(i["k"])("open-api/TvBoard/deviceManager/getMaintainTask.action?",t,e,n)},j=function(t,e,n){return Object(i["d"])("open-api/getTime.action?",t,e,n)},B=function(t,e,n){return Object(i["k"])("open-api/getGroupTree.action?",t,e,n)},w=function(t,e,n){return Object(i["k"])("open-api/TvBoard/deviceManager/getConfigurationByEnum.action?",t,e,n)},S=function(t,e,n){return Object(i["k"])("open-api/TvBoard/device/getAllGroupAndDevice.action?",t,e,n)},M=function(t,e,n){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeFluctuationRate.action?",t,e,n)},A=function(t,e,n){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeCapacityAndEnergyEfficiency.action?",t,e,n)},D=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getOneDayDetailStateClockInfo.action?",t,e)},I=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceReport/getOneDayDetailStateClock.action?",t,e)},x=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceInfo.action?",t,e)},N=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceHoursEffTrend.action?",t,e)},z=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getTimeDayTypeProduction.action?",t,e)},J=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceReport/getQueryDeviceStateTimeUtilization.action?",t,e)},L=function(t,e){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getManyDeviceTimeFluctuationRate.action?",t,e)}},ab20:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMxREEyN0NCRjEyQjExRThBNTQyQjk1RTVBOEJBMkMxIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMxREEyN0NDRjEyQjExRThBNTQyQjk1RTVBOEJBMkMxIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzFEQTI3QzlGMTJCMTFFOEE1NDJCOTVFNUE4QkEyQzEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzFEQTI3Q0FGMTJCMTFFOEE1NDJCOTVFNUE4QkEyQzEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4FxgJTAAADmElEQVR42rSYW0tUURTHNZUkKwYyoyyxUkwofeouplFpeRuLkJCip1566LGP0Xeo6CrOjE52J8tK6PbSzRqjQoPsHlJJjtra9Duw2+xznHMaF/w5w+y19/rvvdftnMySqamMgLJS0CRoF2QLTgq6BS/9LJLgmemTiGO8RVDjonNbEE2VlB8ixRjeLaj2eWp3BBFBl2bTF5HFgmbBHsF2FyMDgk7BaYFaZC/6q130bwo6BDHBkBcRZbxR0CqoE8yyLPaa3XVwBTZZDyG1TomLzhVOKi5Ehh0iB+XZxs6zjAnfBK8Efeyk1+fVVAnCgi2QChnj6hSuqY0pIl5OclxwBEL/I3MExwSH3BQUkXpOpEGw0KLzgftV/nBR8D1F43mCnTh5DVdvyldBj+Cs7iO5gnomqgXyLRNHIRPlaZ7UfNYIs0bIxbizRo/4yA+vqJkt2IHD7RIssuioBS4TNROCfZCYZ9H9xM6jzPkZJI/k4Mhhrm9JilczohlXUTKWzsyqUvk2EpwitcwYf69CEuNXBb/9ZFZ1l3MFk4Inghcpksrk+g5A8ITgkiCZ4nwVzhXkqzFb+PaTtOIQS6eUkTSbzXKhiNQSvkqh0Jj4iOLVxe8gsgbDCutcrrLD9JGtOGUTxU6Xp5BSuDuN8bUYVutUGmNDuh8l/mZXT2etwSmbKP+mj8UhdYP/qtFVJ7vK0H+DvioT10ntgaKmmh22WArZIAuXGv+/xXDEq0YFDV+HVCuklhtjw/hTJzv31aFVkLQy6KhGfZCqJaOqUD5H7vBTCMv5nTTDd5RcEOP5Oc3hG6LXCVMOQnr4HpbnfhoaXcZIzVFS9UhA4wsogE7DlWeMPxCc0X2kBI+3NcZJTkiRukD8e0k+xdKpwrnGeB++1J0gk7s56wpqSZjcossEFTRCSDqkCrSd11PBzZ41RsgPBomaIk4qbGmkJzmhSU4gxxjvJYK6ySVpC9+l5JNWqrBNbmG8i2Y75fAtZCdJ8kCqUgypNiqo86ow6HNj2bbwTXCMMXY2E7JZq0PlevgeJSlVWt5h4hzxP/UhgNRivNFSIlSrcd4MX+fVcpOh/E5r+1T2HJ/GcJbRyRUZ4/eJuqhcwXMvZy1jEeWUG4yxj3ThEcL4l9bb1jGnwdJwP2ROTG+4/ERNuVZ5NxpjX6gx4zhtgTF+T8sdj9MZvmXaZ4kqF51+zfizmfo+okspzteOT5zC+ECQDzV/BBgAEzk6BjPyDXEAAAAASUVORK5CYII="},d03b:function(t,e,n){"use strict";var i=n("e74e"),a=n.n(i);a.a},e74e:function(t,e,n){}}]);
//# sourceMappingURL=chunk-e30a08f2.2de2efdb.js.map