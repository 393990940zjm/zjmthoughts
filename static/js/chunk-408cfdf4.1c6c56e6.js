(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-408cfdf4"],{"09cf":function(t,e,n){"use strict";var a=n("7dac"),s=n.n(a);s.a},"7dac":function(t,e,n){},b6bf:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"appControl"},[n("div",{staticClass:"logo_st"}),n("el-button",{staticClass:"setting",attrs:{type:"primary",plain:""},on:{click:function(e){return t.setting()}}},[t._v("设置")]),n("div",{staticClass:"head"},[n("span",{staticClass:"headTitle"},[t._v("当前机械臂状态")]),n("div",{staticClass:"headDiv"},[t.isConnection?t._e():n("span",{class:"noBtn"},[t._v("未连接机械臂")]),t.isConnection?n("span",{class:t.resetStatus?"passBtn":"noBtn"},[t._v(t._s(t.resetStatus?"已复位":"未复位"))]):t._e(),t.isConnection?n("span",{class:t.startUp?"passBtn":"noBtn"},[t._v(t._s(t.startUp?"已启动":"未启动"))]):t._e(),t.isConnection?n("span",{class:t.pause?"passBtn":"noBtn"},[t._v(t._s(t.pause?"已暂停":"未暂停"))]):t._e(),t.isConnection?n("span",{class:t.stop?"passBtn":"noBtn"},[t._v(t._s(t.stop?"已停止":"未停止"))]):t._e(),t.isConnection?n("span",{class:t.act?"passBtn":"noBtn"},[t._v(t._s(t.act?"动作中":"未动作"))]):t._e()])]),n("div",{staticClass:"appContent"},[n("el-row",{attrs:{gutter:24}},t._l(t.btnJson3,(function(e,a){return n("el-col",{key:a,attrs:{span:12}},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(n){return t.postRequest(e.param)}}},[t._v(t._s(e.name))])],1)})),1),n("el-row",{staticStyle:{"margin-top":"80px"},attrs:{gutter:24}},t._l(t.btnJson,(function(e,a){return n("el-col",{key:a,attrs:{span:12}},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(n){return t.postRequest(e.param)}}},[t._v(t._s(e.name))])],1)})),1),n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:12}},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.postRequest("pause")}}},[t._v(t._s(t.funcBtnName()))])],1),t._l(t.btnJson2,(function(e,a){return n("el-col",{key:a,attrs:{span:12}},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(n){return t.postRequest(e.param)}}},[t._v(t._s(e.name))])],1)}))],2)],1),n("el-dialog",{attrs:{title:"设置链接",visible:t.dialogVisible,width:"100%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"IP"}},[n("el-input",{model:{value:t.form.ip,callback:function(e){t.$set(t.form,"ip",e)},expression:"form.ip"}})],1),n("el-form-item",{attrs:{label:"端口"}},[n("el-input",{model:{value:t.form.port,callback:function(e){t.$set(t.form,"port",e)},expression:"form.port"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.saveSetting()}}},[t._v("确 定")])],1)],1)],1)},s=[],o=(n("96cf"),n("1da1")),r=(n("d3b7"),n("bc3a")),i=n.n(r),c=(n("fb92"),n("4328")),p=n.n(c),l=n("c1df"),u=n.n(l),m=i.a.create({baseURL:"",timeout:15e3});function f(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=p.a.stringify(e,{indices:!1,serializeDate:function(t){return u()(t).format("YYYY-MM-DD HH:mm:ss")}});return new Promise((function(e,o){m.post(t+s,n,a).then((function(t){e(t.data)})).catch((function(t){o(t.data)}))}))}function d(t,e,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=p.a.stringify(e,{indices:!1,serializeDate:function(t){return u()(t).format("YYYY-MM-DD HH:mm:ss")}});return new Promise((function(e,o){m.get(t+s,n,a).then((function(t){e(t.data)})).catch((function(t){o(t.data)}))}))}m.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)}));var g=function(t,e,n){return f(t+"/op?",e,n)},_=function(t,e,n){return d(t+"/status?",e,n)},v=(n("582a"),{name:"appControl",data:function(){return{loading:!1,isConnection:!1,resetStatus:!1,startUp:!1,pause:!1,stop:!1,act:!1,btnJson:[{name:"开机",param:"power_on"},{name:"关机",param:"power_off"}],btnJson2:[{name:"启动",param:"start"},{name:"停⽌",param:"stop"},{name:"重置",param:"reset"}],btnJson3:[{name:"关节机动",param:"act1"},{name:"上料夹取",param:"act2"},{name:"料盘圆周",param:"act3"},{name:"循环码垛",param:"act4"}],dialogVisible:!1,form:{ip:"",port:""}}},created:function(){var t=this;setInterval((function(){t.statusRequest()}),500)},methods:{postRequest:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,a="http://"+window.localStorage.getItem("op_ip")+":"+window.localStorage.getItem("op_port"),n.prev=2,n.next=5,g(a,{},{method:t});case 5:s=n.sent,console.log("操作数据",s),!0===s.op_status?(e.loading=!1,e.$message({message:"操作成功",duration:1e3,type:"success"})):(e.loading=!1,e.$message({message:"设备繁忙~",duration:1e3,type:"error"})),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](2),e.loading=!1,e.$message({message:"请求异常，请检查网络",duration:1e3,type:"error"});case 14:case"end":return n.stop()}}),n,null,[[2,10]])})))()},statusRequest:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.localStorage.getItem("op_ip")&&window.localStorage.getItem("op_port")){e.next=2;break}return e.abrupt("return",!1);case 2:return n="http://"+window.localStorage.getItem("op_ip")+":"+window.localStorage.getItem("op_port"),e.prev=3,e.next=6,_(n,{},{});case 6:a=e.sent,console.log("状态访问数据",a),a.io_connection_status?(t.isConnection=!0,t.resetStatus=a.reset_status,t.startUp=a.startup_status,t.pause=a.pause_status,t.stop=a.stop_status,t.act=a.act_status):(t.isConnection=!1,t.resetStatus=!1,t.startUp=!1,t.stop=!1,t.act=!1),e.next=18;break;case 11:e.prev=11,e.t0=e["catch"](3),t.isConnection=!1,t.resetStatus=!1,t.startUp=!1,t.stop=!1,t.act=!1;case 18:case"end":return e.stop()}}),e,null,[[3,11]])})))()},setting:function(){this.dialogVisible=!0,this.form.ip=window.localStorage.getItem("op_ip"),this.form.port=window.localStorage.getItem("op_port")},saveSetting:function(){this.form.ip=window.localStorage.setItem("op_ip",this.form.ip),this.form.port=window.localStorage.setItem("op_port",this.form.port),this.dialogVisible=!1},funcBtnName:function(){return!0===this.pause?"开始":!1===this.pause?"暂停":void 0}}}),w=v,b=(n("09cf"),n("2877")),h=Object(b["a"])(w,a,s,!1,null,"4d12194d",null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-408cfdf4.1c6c56e6.js.map