(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f394b03"],{"01f6":function(e,t,a){"use strict";var n=a("4ce3"),i=a.n(n);i.a},"13d5":function(e,t,a){"use strict";var n=a("23e7"),i=a("d58f").left,r=a("a640"),o=a("ae40"),c=r("reduce"),s=o("reduce",{1:0});n({target:"Array",proto:!0,forced:!c||!s},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"17cb":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("d3b7"),a("25f0");var n=a("4360"),i=a("f564"),r=a("582a"),o={getUsers:function(){Object(i["J"])().then((function(e){if(e.code===r["M"].OPERATION_SUCCESS){var t={name:"userData",data:e.rows};n["a"].commit("setFiltersData",t)}}))},getGroup:function(){Object(i["hb"])().then((function(e){if("0000"===e.code){var t={name:"group",data:e.rows};n["a"].commit("setFiltersData",t)}}))},getDeviceName:function(e){Object(i["fb"])({groupId:e}).then((function(e){if("0000"===e.code){var t={name:"RelatedDeviceName",data:e.rows};n["a"].commit("setFiltersData",t)}}))},getRelatedDeviceType:function(){Object(i["F"])().then((function(e){if("0000"===e.code){var t={name:"RelatedDeviceType",data:e.rows};n["a"].commit("setFiltersData",t)}}))},generateSearchCondition:function(e,t,a){var n=[];if(void 0!==e)for(var i in n.conditionArr1=JSON.parse(JSON.stringify(e)),n.conditionArr1)n.conditionArr1[i].value=n.conditionArr1[i].value.toString();if(void 0!==t&&(n.groupOperator=t),void 0!==a)for(var r in n.conditionArr2=JSON.parse(JSON.stringify(a)),n.conditionArr2)n.conditionArr2[r].value=n.conditionArr2[r].value.toString();return n},generateSearchConditionJSON:function(e,t,a){var n={};if(void 0!==e)for(var i in n.conditionJson1=JSON.parse(JSON.stringify(e)),n.conditionJson1)n.conditionJson1[i].value=n.conditionJson1[i].value.toString();if(void 0!==t&&(n.operator=t),void 0!==a)for(var r in n.conditionJson2=JSON.parse(JSON.stringify(a)),n.conditionJson2)n.conditionJson2[r].value=n.conditionJson2[r].value.toString();return n},typeOf:function(e){var t=Object.prototype.toString,a={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"};return a[t.call(e)]},deepCopy:function(e){var t,a=this.typeOf(e);if("array"===a)t=[];else{if("object"!==a)return e;t={}}if("array"===a)for(var n=0;n<e.length;n++)t.push(this.deepCopy(e[n]));else if("object"===a)for(var i in e)t[i]=this.deepCopy(e[i]);return t}}},2532:function(e,t,a){"use strict";var n=a("23e7"),i=a("5a34"),r=a("1d80"),o=a("ab13");n({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(r(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"390b":function(e,t,a){},"4bad":function(e,t,a){},"4ce3":function(e,t,a){},5861:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"operation-item",on:{click:e.onOprationItem}},[a("div",{staticClass:"operation-icon"},[e._t("operation-icon")],2),a("div",{staticClass:"operation-span"},[e._t("operation-name")],2)])},i=[],r=(a("b0c0"),{props:{name:{type:String,required:!0}},methods:{onOprationItem:function(){this.$emit("onOprationItem",this.name)}}}),o=r,c=(a("01f6"),a("2877")),s=Object(c["a"])(o,n,i,!1,null,"0cfe45f8",null);t["a"]=s.exports},"590a":function(e,t,a){},"5a34":function(e,t,a){var n=a("44e7");e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5d07":function(e,t,a){},"62ef":function(e,t,a){"use strict";var n=a("5d07"),i=a.n(n);i.a},ab13:function(e,t,a){var n=a("b622"),i=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[i]=!1,"/./"[e](t)}catch(n){}}return!1}},b3cc:function(e,t,a){"use strict";var n=a("4bad"),i=a.n(n);i.a},bf39:function(e,t,a){"use strict";var n=a("390b"),i=a.n(n);i.a},caad:function(e,t,a){"use strict";var n=a("23e7"),i=a("4d64").includes,r=a("44d2"),o=a("ae40"),c=o("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:!c},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r("includes")},cf46:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("vxe-grid",{ref:e.tableName+"Table",staticClass:"vxe-table-element",attrs:{"row-style":e.rowStyle,"header-row-style":e.headerStyle,resizable:e.resizable,border:e.border,"show-header":e.showHeader,"auto-resize":e.autoResize,"header-align":e.headerAlign,"show-footer":e.showFooter,"show-footer-overflow":e.showFooterOverflow,"show-overflow":e.showOverflow,stripe:e.stripe,"max-height":e.maxHeight,height:e.height,size:e.size,"remote-sort":!0,"highlight-hover-row":e.highlightHoverRow,"highlight-current-row":e.highlightCurrentRow,loading:e.tableLoading,"tooltip-config":e.tooltipConfig,"keep-source":e.keepSource,"edit-config":e.editConfig,columns:e.tableColumns,data:e.tableDatas,"checkbox-config":e.checkboxConfig,"radio-config":{trigger:"row"},"seq-config":{startIndex:(e.tablePage.currentPage-1)*e.tablePage.pageSize},"pager-config":e.tablePage,"span-method":e.mergeRowMethod,"export-config":{cellRender:e.handleCellRender}},on:{"cell-click":e.cellClickEvent,"cell-dblclick":e.cellDBLClickEvent,"page-change":e.handlePageChange,"sort-change":e.sortChange,"checkbox-change":e.checkboxChangeEvent,"checkbox-all":e.checkboxChangeEvent,"current-change":e.currentChangeEvent},scopedSlots:e._u([{key:"pager_left",fn:function(){return[a("div",{staticClass:"page-left"},[a("div",[e._t("tableOperation")],2)])]},proxy:!0}],null,!0)})],1)},i=[],r=(a("4de4"),a("caad"),a("a9e3"),a("2532"),{props:{rowStyle:{type:Function},headerStyle:{type:Function},resizable:{type:Boolean,default:!0},tableName:{type:String,required:!0},showHeader:{type:Boolean,default:!0},border:{type:[Boolean,String],default:!0},autoResize:{type:Boolean,default:!0},headerAlign:{type:String,default:"center"},showFooter:{type:Boolean,default:!1},showFooterOverflow:{type:[Boolean,String],default:"tooltip"},showOverflow:{type:[Boolean,String],default:"tooltip"},stripe:{type:Boolean,default:!0},maxHeight:{type:[Number,String],default:""},height:{type:[Number,String],default:"500px"},size:{type:String,default:"small"},highlightHoverRow:{type:Boolean,default:!0},highlightCurrentRow:{type:Boolean,default:!1},tableLoading:{type:Boolean,default:!1},tooltipConfig:{type:Object,default:function(){return{theme:"light",enterable:!0}}},checkboxConfig:{type:Object,default:function(){return{}}},exportConfig:{type:Object,default:function(){return{}}},keepSource:{type:Boolean,default:!1},editConfig:{type:[Boolean,Object],default:!1},tableDatas:{type:Array,required:!0},tableColumns:{type:Array,required:!0},tablePage:{type:Object,required:!0},checkRecords:{type:Array,default:function(){return[]}}},data:function(){return{isAllChecked:!1,isIndeterminate:!1,selectRecords:[],mergeArr:[]}},watch:{checkRecords:function(e,t){0===e.length&&this.checkboxChangeEvent([])}},methods:{handleCellRender:function(e){var t=e.row,a=e.column,n=e.cellValue;return console.log(666,t,a,n),{style:"color: red;"}},handlePageChange:function(e){var t=e.currentPage,a=e.pageSize;this.isAllChecked=!1,this.selectRecords=[],this.$emit("onTablePageChange",t,a)},sortChange:function(e){e.column;var t=e.property,a=e.order;console.log(666),this.isAllChecked=!1,this.selectRecords=[],this.$emit("sortChange",t,a)},checkboxChangeEvent:function(e){var t=e.records;this.isAllChecked=this.$refs[this.tableName+"Table"].isAllCheckboxChecked(),this.isIndeterminate=this.$refs[this.tableName+"Table"].isCheckboxIndeterminate(),t?this.selectRecords=t:(this.selectRecords=[],this.isIndeterminate=!1),0===this.selectRecords.length&&(this.isAllChecked=!1),this.$emit("chooseCheck",t)},changeAllEvent:function(){this.$refs[this.tableName+"Table"].setAllCheckboxRow(this.isAllChecked),this.selectRecords=this.$refs[this.tableName+"Table"].getCheckboxRecords(),0===this.selectRecords.length&&(this.isAllChecked=!1),this.$emit("chooseCheck",this.selectRecords)},exportData:function(e,t,a){console.log(a);var n={isColgroup:!0,filename:e,useStyle:!0,type:"xlsx",columns:a.filter((function(e){return console.log(e),""!==e.field})),data:t};this.$refs[this.tableName+"Table"].exportData(n)},exportDatax:function(e,t,a){console.log(a);var n={isColgroup:!0,filename:e,useStyle:!0,type:"csv",data:t};a&&(n.columnFilterMethod=function(e){return a.includes(e.property)}),this.$refs[this.tableName+"Table"].exportData(n)},cellClickEvent:function(e){var t=e.row;this.$emit("clickRows",t)},cellDBLClickEvent:function(e){var t=e.row;this.$emit("dbclickRows",t)},currentChangeEvent:function(e){var t=e.row,a=this.$refs[this.tableName+"Table"].$getRowIndex(t);this.$emit("currentChangeEvent",t,a)},setCurrentRow:function(e){this.$refs[this.tableName+"Table"].setCurrentRow(this.tableDatas[e])},clearCurrentRow:function(){this.$refs[this.tableName+"Table"].clearCurrentRow()},toggleCheckboxRow:function(e){this.$refs[this.tableName+"Table"].toggleCheckboxRow(e)},clearCheckboxRow:function(){this.$refs[this.tableName+"Table"].clearCheckboxRow()},getCheckboxRecords:function(){return this.$refs[this.tableName+"Table"].getCheckboxRecords()},getRadioRecord:function(){return this.$refs[this.tableName+"Table"].getRadioRecord()},setCheckboxRow:function(e,t){return this.$refs[this.tableName+"Table"].setCheckboxRow(e,t)},mergeRowMethod:function(e){var t=e.row,a=e.$rowIndex,n=e.column,i=e.data,r=this.mergeArr;if(this.mergeArr.length>0){var o=t[n.property];if(o&&r.includes(n.property)){var c=t[r[0]],s=i[a-1],u=i[a+1];if(s&&s[n.property]===o&&s[r[0]]===c)return{rowspan:0,colspan:0};var l=1;while(u&&u[n.property]===o&&u[r[0]]===c)u=i[++l+a];if(l>1)return{rowspan:l,colspan:1}}}}}}),o=r,c=(a("bf39"),a("2877")),s=Object(c["a"])(o,n,i,!1,null,"00902082",null);t["a"]=s.exports},d58f:function(e,t,a){var n=a("1c0b"),i=a("7b0b"),r=a("44ad"),o=a("50c4"),c=function(e){return function(t,a,c,s){n(a);var u=i(t),l=r(u),d=o(u.length),f=e?d-1:0,h=e?-1:1;if(c<2)while(1){if(f in l){s=l[f],f+=h;break}if(f+=h,e?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;e?f>=0:d>f;f+=h)f in l&&(s=a(s,l[f],f,u));return s}};e.exports={left:c(!1),right:c(!0)}},e69d:function(e,t,a){"use strict";var n=a("590a"),i=a.n(n);i.a},e9bc:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return u})),a.d(t,"h",(function(){return l})),a.d(t,"i",(function(){return d})),a.d(t,"g",(function(){return f}));var n=a("b775"),i=function(e,t){return Object(n["k"])("webReportStatistics/getDeviceStateReportStatistics.action?",e,t)},r=function(e,t){return Object(n["k"])("existFunctionUpdate/getDeviceStateReportStatistics.action?",e,t)},o=function(e,t){return Object(n["k"])("webReportStatistics/getDeviceHoursEffTrend.action?",e,t)},c=function(e,t){return Object(n["k"])("webReportStatistics/getDeviceHoursProductCycleTrend.action?",e,t)},s=function(e,t){return Object(n["k"])("deviceLive/getOneDayDetailStateClock.action?",e,t)},u=function(e,t){return Object(n["k"])("webReportStatistics/deviceGanttChart.action?",e,t)},l=function(e,t){return Object(n["k"])("deviceIdle/getIdleProductReport.action?",e,t)},d=function(e,t){return Object(n["k"])("webProductionStatistics/getProductionCycleStatistics.action?",e,t)},f=function(e,t){return Object(n["k"])("configuration/getConfigurationByEnum.action?",e,t)}},f564:function(e,t,a){"use strict";a.d(t,"J",(function(){return r})),a.d(t,"lb",(function(){return o})),a.d(t,"F",(function(){return c})),a.d(t,"P",(function(){return s})),a.d(t,"j",(function(){return u})),a.d(t,"ib",(function(){return l})),a.d(t,"hb",(function(){return d})),a.d(t,"fb",(function(){return f})),a.d(t,"mb",(function(){return h})),a.d(t,"a",(function(){return p})),a.d(t,"gb",(function(){return g})),a.d(t,"m",(function(){return m})),a.d(t,"i",(function(){return b})),a.d(t,"k",(function(){return v})),a.d(t,"t",(function(){return y})),a.d(t,"p",(function(){return T})),a.d(t,"G",(function(){return w})),a.d(t,"Y",(function(){return k})),a.d(t,"Z",(function(){return O})),a.d(t,"n",(function(){return C})),a.d(t,"z",(function(){return S})),a.d(t,"x",(function(){return j})),a.d(t,"s",(function(){return R})),a.d(t,"qb",(function(){return D})),a.d(t,"O",(function(){return P})),a.d(t,"A",(function(){return x})),a.d(t,"M",(function(){return N})),a.d(t,"q",(function(){return E})),a.d(t,"r",(function(){return I})),a.d(t,"L",(function(){return _})),a.d(t,"cb",(function(){return L})),a.d(t,"nb",(function(){return A})),a.d(t,"db",(function(){return M})),a.d(t,"S",(function(){return B})),a.d(t,"eb",(function(){return F})),a.d(t,"rb",(function(){return Y})),a.d(t,"R",(function(){return H})),a.d(t,"Q",(function(){return $})),a.d(t,"h",(function(){return z})),a.d(t,"K",(function(){return V})),a.d(t,"B",(function(){return J})),a.d(t,"C",(function(){return G})),a.d(t,"D",(function(){return q})),a.d(t,"w",(function(){return U})),a.d(t,"N",(function(){return X})),a.d(t,"tb",(function(){return Q})),a.d(t,"ob",(function(){return W})),a.d(t,"sb",(function(){return K})),a.d(t,"pb",(function(){return Z})),a.d(t,"ub",(function(){return ee})),a.d(t,"v",(function(){return te})),a.d(t,"u",(function(){return ae})),a.d(t,"o",(function(){return ne})),a.d(t,"E",(function(){return ie})),a.d(t,"U",(function(){return re})),a.d(t,"W",(function(){return oe})),a.d(t,"V",(function(){return ce})),a.d(t,"T",(function(){return se})),a.d(t,"X",(function(){return ue})),a.d(t,"l",(function(){return le})),a.d(t,"y",(function(){return de})),a.d(t,"jb",(function(){return fe})),a.d(t,"f",(function(){return he})),a.d(t,"ab",(function(){return pe})),a.d(t,"d",(function(){return ge})),a.d(t,"b",(function(){return me})),a.d(t,"H",(function(){return be})),a.d(t,"kb",(function(){return ve})),a.d(t,"g",(function(){return ye})),a.d(t,"bb",(function(){return Te})),a.d(t,"e",(function(){return we})),a.d(t,"c",(function(){return ke})),a.d(t,"I",(function(){return Oe}));var n=a("b775"),i=a("99f6"),r=function(e,t){return Object(n["k"])("repairTask/getRepairUser.action?",e,t)},o=function(e,t){return Object(n["k"])("deviceRepairType/getPageRepairType.action?",e,t)},c=function(e,t){return Object(n["k"])("deviceWorkshopType/getAll.action?",e,t)},s=function(e,t){return Object(n["k"])("deviceRepairType/insertOrUpdateBatchRepairType.action?",e,t)},u=function(e,t){return Object(n["k"])("deviceRepairType/deleteByIds.action?",e,t)},l=function(e,t){return Object(n["k"])("repairTask/getPageRepairTask.action?",e,t)},d=function(e,t){return Object(n["k"])("deviceGroup/selectGroup.action?",e,t)},f=function(e,t){return Object(n["k"])("deviceGroup/selectDeviceByGroupId.action?",e,t)},h=function(e,t){return Object(n["k"])("deviceRepairType/getListRepairTypeByDeviceCode.action?",e,t)},p=function(e,t){return Object(n["k"])("repairTask/insertOrUpdateRepairTask.action?",e,t)},g=function(e,t){return Object(n["k"])("fileResource/selectFile.action?",e,t)},m=function(e,t){return Object(n["b"])("fileResource/downloadFile.action?",e,t)},b=function(e,t){return Object(n["k"])("fileResource/deleteById.action?",e,t)},v=function(e,t){return Object(n["k"])("repairTask/deleteByIds.action?",e,t)},y=function(e,t){return Object(n["k"])("repairTask/getListRepairTaskRecordQueryParameter.action?",e,t)},T=function(e,t){return Object(n["k"])("deviceRepairType/getListDeviceRepairTypeQueryParameter.action?",e,t)},w=function(e,t){return Object(n["k"])("repairTask/getRepairTaskByRepairTaskId.action?",e,t)},k=function(e,t){return Object(n["k"])("repairTask/grabRepairTask.action?",e,t)},O=function(e,t){return Object(n["k"])("repairTask/insertRepairTask.action?",e,t)},C=function(e,t){return Object(n["k"])("fileResource/insertOrUpdateBatch.action?",e,t)},S=function(e,t){return Object(n["k"])("maintainTask/getPageMaintainTask.action?",e,t)},j=function(e,t){return Object(n["k"])("maintainTask/getMaintainTaskById.action?",e,t)},R=function(e,t){return Object(n["k"])("maintainTaskItemRelationship/getListMaintainTaskRelationshipItemById.action?",e,t)},D=function(e,t){return Object(n["k"])("maintainTask/updateMaintainTaskUser.action?",e,t)},P=function(e,t){return Object(n["k"])("maintainTask/insertOrUpdate.action?",e,t)},x=function(e,t){return Object(n["k"])("maintainTask/getPageMaintainTaskByDeviceCode.action?",e,t)},N=function(e,t){return Object(n["k"])("maintainTaskItemRelationship/insertOrUpdateBatch.action?",e,t)},E=function(e,t){return Object(n["k"])("maintainTask/getListMaintainTaskQueryParameter.action?",e,t)},I=function(e,t){return Object(n["k"])("maintainTask/getListMaintainTaskRecordQueryParameter.action?",e,t)},_=function(e,t){return Object(n["k"])("maintainTask/grabMaintainTask.action?",e,t)},L=function(e,t){return Object(n["k"])("maintainTask/retreatMaintainTask.action?",e,t)},A=function(e,t){return Object(n["k"])("maintainTask/submitMaintainTask.action?",e,t)},M=function(e,t){return Object(n["k"])("maintainTask/reviewMaintainTask.action?",e,t)},B=function(e,t){return Object(n["k"])("maintainTask/rejectMaintainTask.action?",e,t)},F=function(e,t){return Object(n["k"])("maintainTask/revokeMaintainTask.action?",e,t)},Y=function(e,t){return Object(n["k"])("maintainTask/updateRepairTask.action?",e,t)},H=function(e,t){return Object(n["k"])("maintainTask/updateById.action?",e,t)},$=function(e,t){return Object(n["k"])("maintainTask/deleteByIds.action?",e,t)},z=function(e,t){return Object(n["k"])("fileResource/deleteByIds.action?",e,t)},V=function(e,t){return Object(n["k"])("deviceGroup/getTreeByUser.action?",e,t)},J=function(e,t){return Object(n["k"])("tool/getPageToolByDeviceCode.action?",e,t)},G=function(e,t){return Object(n["k"])("tool/getPageToolRecordByDeviceCode.action?",e,t)},q=function(e,t){return Object(n["k"])("tool/getPageToolRecordByToolId.action?",e,t)},U=function(e,t){return Object(n["k"])("tool/getListToolType.action?",e,t)},X=function(e,t){return Object(n["k"])("tool/insertOrUpdateBatch.action?",e,t)},Q=function(e,t){return Object(n["k"])("tool/updateTool.action?",e,t)},W=function(e,t){return Object(n["k"])("tool/updateBatchStopTool.action?",e,t)},K=function(e,t){return Object(n["k"])("tool/updateScrappedTool.action?",e,t)},Z=function(e,t){return Object(n["k"])("tool/updateEnableTool.action?",e,t)},ee=function(e,t){return Object(n["k"])("tool/updateById.action?",e,t)},te=function(e,t){return Object(n["k"])("tool/getListToolQueryParameter.action?",e,t)},ae=function(e,t){return Object(n["k"])("tool/getListToolByDeviceCodeQueryParameter.action?",e,t)},ne=function(e,t){return Object(n["k"])("deviceGroup/getAllGroupAndDevice.action?",e,t)},ie=function(e,t){return Object(n["k"])("configuration/getProcessConfiguration.action?",e,t)},re=function(e,t){return Object(n["k"])("repairTask/retreatRepairTask.action?",e,t)},oe=function(e,t){return Object(n["k"])("repairTask/revokeRepairTask.action?",e,t)},ce=function(e,t){return Object(n["k"])("repairTask/reviewRepairTask.action?",e,t)},se=function(e,t){return Object(n["k"])("repairTask/rejectRepairTask.action?",e,t)},ue=function(e,t){return Object(n["k"])("repairTask/submitRepairTask.action?",e,t)},le=function(e,t){return Object(n["k"])("deviceLive/getListTimeParameterRecordByDeviceCode.action?",e,t)},de=function(e,t){return Object(n["e"])("http://122.227.187.110:8081/imes/produce/device/getMdcDeviceInfoPage.action?",e,t)},fe=function(e,t){return Object(n["e"])(i["c"]+"jieXiangRepairTask/getPageRepairTask.action?",e,t)},he=function(e,t){return Object(n["e"])(i["c"]+"jieXiangRepairTask/confirmRepairTask.action?",e,t)},pe=function(e,t){return Object(n["e"])(i["c"]+"jieXiangRepairTask/insertRepairTask.action?",e,t)},ge=function(e,t){return Object(n["e"])(i["c"]+"jieXiangRepairTask/confirmNeedRepairTask.action?",e,t)},me=function(e,t){return Object(n["e"])(i["c"]+"jieXiangRepairTask/assignRepairTask.action?",e,t)},be=function(e,t){return Object(n["e"])(i["c"]+"jieXiangRepairTask/getRepairTaskByRepairTaskId.action?",e,t)},ve=function(e,t){return Object(n["e"])(i["d"]+"runzhouRepairTask/getPageRepairTask.action?",e,t)},ye=function(e,t){return Object(n["e"])(i["d"]+"runzhouRepairTask/confirmRepairTask.action?",e,t)},Te=function(e,t){return Object(n["e"])(i["d"]+"runzhouRepairTask/insertRepairTask.action?",e,t)},we=function(e,t){return Object(n["e"])(i["d"]+"runzhouRepairTask/confirmNeedRepairTask.action?",e,t)},ke=function(e,t){return Object(n["e"])(i["d"]+"runzhouRepairTask/assignRepairTask.action?",e,t)},Oe=function(e,t){return Object(n["e"])(i["d"]+"runzhouRepairTask/getRepairTaskByRepairTaskId.action?",e,t)}},f721:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[e.mainPage.show?a("header-buttons",{attrs:{showRefresh:!0,cssType:"1"},on:{buttonClickEvent:e.buttonClickEvent}}):e._e(),e.historyStatusInfoPage.show||e.currentStatusInfoPage.show?a("HeaderTitle",{attrs:{flag:e.mainPage.show,titleName:e.titleName},on:{searchButtonClick:e.showSearchCard}},[a("div",{staticClass:"head-operation",attrs:{slot:"head-operation"},slot:"head-operation"},[e.historyStatusInfoPage.show?a("HeadOperationItem",{attrs:{name:"addDevice"},on:{onOprationItem:e.closeCurrentStatusInfo}},[a("i",{staticClass:"el-icon-caret-left",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.RETURN))])]):e._e(),e.currentStatusInfoPage.show?a("HeadOperationItem",{attrs:{name:"addDevice"},on:{onOprationItem:e.closeHistoryStatusInfo}},[a("i",{staticClass:"el-icon-caret-left",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.RETURN))])]):e._e()],1)]):e._e()],1),e.mainPage.show?a("header-search",{attrs:{"show-primary-search":!0,cssType:"1"},on:{refreshTableData:e.refreshTableData}}):e._e(),a("el-main",{staticClass:"view eq",staticStyle:{"overflow-y":"visible !important"}},[e.mainPage.show?a("div",{staticClass:"search-fixed"},[a("div",[1===e.activeTab?a("span",[e._v("时间范围")]):e._e(),1===e.activeTab?a("el-date-picker",{staticClass:"dateTime",attrs:{type:"datetimerange",align:"left",size:"mini","unlink-panels":"","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":e.BTN_TEXT.TO,"start-placeholder":e.BTN_TEXT.STARTTIME,"end-placeholder":e.BTN_TEXT.ENDTIME,"default-time":["00:00:00","23:59:59"],"picker-options":e.pickerOptions},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}}):e._e(),1===e.activeTab?a("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"default",size:"mini"},on:{click:function(t){return e.searchShift()}}},[e._v("查询")]):e._e()],1)]):e._e(),e.mainPage.show?a("el-row",{staticClass:"tableShow"},[a("div",{attrs:{id:"tabs"}},[a("ul",e._l(e.tabs,(function(t,n){return a("li",{directives:[{name:"show",rawName:"v-show",value:t.showFlag,expression:"tab.showFlag"}],key:n,class:{active:e.activeTab==n},on:{click:function(a){return e.toggle(n,t.state)}}},[e._v(" "+e._s(t.name)+" ")])})),0)]),a("el-col",{attrs:{span:24}},[a("VXETable",{ref:"xGrid",attrs:{tableName:"",height:e.$options.filters.getTableHeight(260),tableLoading:e.mainPage.tableLoading,tableDatas:e.mainPage.data,tableColumns:e.mainPage.columns,highlightCurrentRow:!0,tablePage:e.mainPage.page},on:{sortChange:e.sortChange,onTablePageChange:e.handleMainPageChange}})],1)],1):e._e(),e.historyStatusInfoPage.show?a("HistoryInfo",{attrs:{allData:e.historyStatusInfoPage.tableData}}):e._e(),e.currentStatusInfoPage.show?a("CurrentInfo",{attrs:{deviceCode:e.currentStatusInfoPage.deviceCode,barEchartData:e.currentStatusInfoPage.propertyData,sequenceChartData:e.currentStatusInfoPage.sequenceChartData}}):e._e()],1)],1)},i=[],r=(a("99af"),a("4160"),a("d81d"),a("b680"),a("ac1f"),a("1276"),a("159b"),a("96cf"),a("1da1")),o=a("5530"),c=a("2909"),s=a("f82c"),u=a("85a8"),l=a("5861"),d=a("17cb"),f=a("cf46"),h=a("582a"),p=a("3fa5"),g=a("eec9"),m=a("e9bc"),b=a("6464"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("VXETable",{attrs:{tableName:"",height:e.$options.filters.getTableHeight(210),tableLoading:e.tableLoading,tableDatas:e.tableDatas,tableColumns:e.tableColumns,highlightCurrentRow:!0,tablePage:e.tablePage},on:{onTablePageChange:e.onTablePageChange}})],1)},y=[],T=(a("fb6a"),{red_e:"异常",blue_m:"保养",green_w:"待料",yellow_off:"停用",white_m:"维护",green_p:"生产"}),w={components:{VXETable:f["a"]},data:function(){return{tableLoading:!1,tableDatas:[],tableColumns:[{field:"startTime",title:"开始时间",align:"center",formatter:["formatDate","yyyy-MM-dd HH:mm:ss"]},{field:"endTime",title:"结束时间1",align:"center",formatter:"formatDate"},{field:"time",title:"持续时间",align:"center",formatter:"timeStampSeconds"},{field:"lightState",title:"状态",align:"center",formatter:function(e){var t=e.cellValue;return T[t]}}],tablePage:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevPage","Number","NextPage","Total"],perfect:!0}}},props:["allData"],methods:{onTablePageChange:function(e,t){this.tablePage.currentPage=e,this.tablePage.pageSize=t,this.tableDatas=this.allData.slice(t*(e-1),t*e),console.log(this.tableDatas)}},created:function(){this.tablePage.total=this.allData.length,this.onTablePageChange(1,10),console.log(1112),console.log(this.allData)}},k=w,O=k,C=(a("b3cc"),a("2877")),S=Object(C["a"])(O,v,y,!1,null,"5ab88493",null),j=S.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("HeaderTitle",{staticClass:"float-header",attrs:{titleName:e.tabTitle}}),a("ul",{staticStyle:{float:"right"}},e._l(e.tabs,(function(t,n){return a("li",{key:n,class:{active:e.activeTab==n},on:{click:function(a){return e.toggle(n,t.state)}}},[e._v(" "+e._s(t.name)+" ")])})),0)],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.propertyLoading,expression:"propertyLoading"}],ref:"statusBarChart",staticClass:"property-chart"})])],1),a("el-col",{attrs:{span:12}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("HeaderTitle",{staticClass:"float-header",attrs:{titleName:"运行时序"}})],1),a("div",{staticStyle:{height:"300px"}},[a("div",{staticStyle:{height:"100%"},attrs:{id:"sequenceChart"}})])])],1)],1),a("el-col",{attrs:{span:24}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("HeaderTitle",{attrs:{titleName:"今日每小时设备效率趋势图"}})],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.efficiencyLoading,expression:"efficiencyLoading"}],ref:"efficiencyLine",staticClass:"line-chart"})])],1),a("el-col",{attrs:{span:24}},[a("el-card",{attrs:{shadow:"never"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("HeaderTitle",{attrs:{titleName:"今日每小时设备周期趋势图"}})],1),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.cycleLoading,expression:"cycleLoading"}],ref:"cycleLine",staticClass:"line-chart"})])],1)],1)},D=[],P=(a("13d5"),a("b0c0"),a("a9e3"),{components:{HeaderTitle:u["a"],HeadOperationItem:l["a"],VXETable:f["a"]},data:function(){return{MAINTAINTASK_STATUS:h["G"],EQUIPMENT_DATA:h["s"],BTN_TEXT:h["c"],PAGE_TITLE:h["I"],ENERGY:h["q"],TITLE:h["N"],MSG:h["H"],COLOR:h["x"].COLOR,activeTab:0,date:this.moment(new Date).format("YYYY-MM-DD")+" 00:00:00",pickerOption:{disabledDate:function(e){return e.getTime()>(new Date).getTime()}},tabs:[{type:"current",name:"柱状图",state:0,showFlag:!0},{type:"history",name:"比例图",state:1,showFlag:!0}],propertyData:[],timePieData:{},efficiencyData:{label:[],data:[]},cycleData:{data:[],label:[]},propertyLoading:!1,efficiencyLoading:!1,cycleLoading:!1,stateEnum:{deactivateValue:"停用",exceptionValue:"异常",maintainValue:"保养",materialWaitingValue:"待料",preserveValue:"维护",productValue:"生产"}}},computed:{tabTitle:function(){return this.tabs[this.activeTab].name}},props:["deviceCode","barEchartData","sequenceChartData"],watch:{activeTab:function(){this.drawProperty()},propertyData:function(){this.drawProperty()},timePieData:function(){},efficiencyData:function(){this.drawLine(this.$refs.efficiencyLine,"效率（%）","时间（小时）",this.efficiencyData)},cycleData:function(){this.drawLine(this.$refs.cycleLine,"周期（秒）","时间（小时）",this.cycleData)}},methods:{toggle:function(e,t){this.activeTab=t},getTimeData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.clockLoading=!0,t.next=4,Object(m["e"])({deviceCode:e.deviceCode,time:e.date});case 4:a=t.sent,a.code===h["M"].OPERATION_SUCCESS?e.timePieData={dayCount:a.rows.cumulativeProduction,stackData:[a.rows.runTimeSum,a.rows.idleTimeSum,a.rows.offlineTimeSum,a.rows.warnTimeSum],rows:a.rows.timeList.map((function(e){return{name:e.state,value:e.time}}))}:Object(p["c"])(a.message),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),Object(b["a"])(h["N"].NOTIFY,t.t0);case 11:return t.prev=11,e.clockLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()},getEfficiencyData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a="".concat(e.moment(new Date).format("YYYY-MM-DD HH:mm:ss")),n="".concat(e.moment(new Date).format("YYYY-MM-DD")," 00:00:00"),e.efficiencyLoading=!0,t.next=6,Object(m["d"])({deviceCode:e.deviceCode,startTime:n,endTime:a});case 6:i=t.sent,i.code===h["M"].OPERATION_SUCCESS?e.efficiencyData={label:i.rows.map((function(e){return e.time})),data:i.rows.map((function(e){return e.value}))}:Object(p["c"])(i.message),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),Object(b["a"])(h["N"].NOTIFY,t.t0);case 13:return t.prev=13,e.efficiencyLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})))()},getCycleData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.cycleLoading=!0,a="".concat(e.moment(new Date).format("YYYY-MM-DD HH:mm:ss")),n="".concat(e.moment(new Date).format("YYYY-MM-DD")," 00:00:00"),t.next=6,Object(m["c"])({deviceCode:e.deviceCode,startTime:n,endTime:a});case 6:i=t.sent,i.code===h["M"].OPERATION_SUCCESS?e.cycleData={label:i.rows.map((function(e){return e.time})),data:i.rows.map((function(e){return e.value}))}:Object(p["c"])(i.message),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),Object(b["a"])(h["N"].NOTIFY,t.t0);case 13:return t.prev=13,e.cycleLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})))()},drawLine:function(e,t,a,n){var i=this.$echarts.init(e),r={color:["rgb(27, 137, 247)"],tooltip:{trigger:"axis",formatter:function(e){return"".concat(a.slice(0,2),":").concat(e[0].name,"<br/>").concat(t.slice(0,2),":").concat(e[0].data)}},xAxis:{type:"category",data:n.label.map((function(e){return e.slice(-8)})),name:a,axisTick:{alignWithLabel:!0}},yAxis:{type:"value",name:t},series:[{type:"line",data:n.data,symbol:"circle",symbolSize:.01,label:{normal:{show:!0,position:"outside"}}}]};i.setOption(r,!0),window.addEventListener("resize",(function(){i.resize()}))},drawProperty:function(){0===this.activeTab?this.drawPropertyBar():this.drawPropertyPie()},drawPropertyBar:function(){var e=this.$echarts.init(this.$refs.statusBarChart),t={deactivateValue:"#FFD307",exceptionValue:"#FC4A45",maintainValue:"#07aaff",materialWaitingValue:"#00E62C",preserveValue:"#FF6B22",productValue:"#007E2E"},a=[];for(var n in this.stateEnum)a.push({name:this.stateEnum[n],value:this.barEchartData[n].toFixed(2),itemStyle:{color:t[n]}});var i={color:h["x"].COLOR,tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},barMaxWidth:"60%",grid:{top:"9%",left:"3%",right:"6%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["停用","异常","保养","待料","维护","生产"],axisTick:{alignWithLabel:!0},name:"状态",nameGap:"5"}],yAxis:[{type:"value",name:"时间/h",splitLine:{show:!1}}],series:[{type:"bar",label:{show:!0,position:"top",color:"auto"},data:a}]};e.setOption(i,!0),window.addEventListener("resize",(function(){e.resize()}))},drawPropertyPie:function(){var e=this.$echarts.init(this.$refs.statusBarChart),t={deactivateValue:"#5a6167",exceptionValue:"#c74746",maintainValue:"#07aaff",materialWaitingValue:"#228ffe",preserveValue:"#f16804",productValue:"#027cf9"},a=[],n=this.barEchartData.totalValue.toFixed(2);for(var i in this.stateEnum)a.push({name:this.stateEnum[i],value:this.barEchartData[i].toFixed(2),itemStyle:{color:t[i]}});var r={tooltip:{trigger:"item"},series:[{type:"pie",name:"",label:{show:!0,position:"center",formatter:function(){return"{a|".concat(n,"}\n{b|共计（小时）}")},rich:{a:{color:"#c74746",fontSize:36},b:{color:"#c74746"}}},tooltip:{formatter:"{b}:{d}%"},radius:["50%","70%"],center:["50%","50%"],data:a}]};e.setOption(r,!0),window.addEventListener("resize",(function(){e.resize()}))},dealSequenceData:function(){var e=[],t={yellow_off:"#F5CA00",red_e:"#FF0700",blue_m:"#07aaff",green_w:"#00E62C",white_m:"#FF6B22",green_p:"#007E2E"},a={yellow_off:0,red_e:1,blue_m:2,green_w:3,white_m:4,green_p:5},n={yellow_off:"停用",red_e:"异常",blue_m:"保养",green_w:"待料",white_m:"维护",green_p:"生产"},i=this.sequenceChartData.reduce((function(e,t){return e[t.lightState]?e[t.lightState].push({name:t.lightState,value:[a[t.lightState],t.startTime,t.endTime]}):e[t.lightState]=[{name:t.lightState,value:[a[t.lightState],t.startTime,t.endTime]}],e}),{});for(var r in n)e.push({name:n[r],type:"custom",renderItem:this.renderRect,color:t[r],encode:{x:[1,2],y:0},data:i[r]});this.showSequenceChart(e)},showSequenceChart:function(e){var t=this;console.log(e);var a=this.$echarts.init(document.getElementById("sequenceChart"));a.setOption({tooltip:{formatter:function(e){var a=e.value[1],n=e.value[2],i=(+new Date(n)-+new Date(a))/1e3;return"".concat(e.marker).concat(e.seriesName,":").concat(a.substring(11,16)," - ").concat(n.substring(11,16),"(").concat(t.timeStampSeconds(i),")")}},dataZoom:[{type:"slider",filterMode:"weakFilter",top:"bottom",show:!1},{type:"inside",filterMode:"weakFilter",show:!1}],grid:{containLabel:!0,top:"10%",bottom:"2%",left:"2%",right:"8%"},xAxis:{name:"时间",type:"time",axisLabel:{formatter:function(e,a){return t.moment(e).format("HH:mm")}}},yAxis:{name:"状态",data:e.map((function(e){return e.name}))},series:e})},renderRect:function(e,t){var a=t.value(0),n=t.coord([t.value(1),a]),i=t.coord([t.value(2),a]),r=Math.min(t.size([0,1])[1],50),o=this.$echarts.graphic.clipRectByRect({x:n[0],y:n[1]-r/2,width:i[0]-n[0],height:r},{x:e.coordSys.x,y:e.coordSys.y,width:e.coordSys.width,height:e.coordSys.height});return o&&{type:"rect",transition:["shape"],shape:o,style:t.style()}},timeStampSeconds:function(e){var t=parseInt(e/60/60/24),a=parseInt(e/60/60%24),n=parseInt(e/60%60),i=parseInt(e%60);return e="",t>0&&(e=t+"天"),a>0&&(e+=a+"小时"),n>0&&(e+=parseFloat(n)+"分钟"),i>0&&(e+=parseFloat(i)+"秒"),e},init:function(){var e=this;this.getTimeData().then((function(){var t,a;e.propertyData=(null===(t=e.timePieData)||void 0===t||null===(a=t.stackData)||void 0===a?void 0:a.map((function(e){return Number((e/60).toFixed(2))})))||[]})),this.getEfficiencyData(),this.getCycleData(),this.dealSequenceData()}},mounted:function(){this.init()}}),x=P,N=x,E=(a("e69d"),Object(C["a"])(N,R,D,!1,null,"66bc1030",null)),I=E.exports,_={name:"EquipmentStatus",components:{HeaderTitle:u["a"],HeadOperationItem:l["a"],SearchBox:g["a"],VXETable:f["a"],HistoryInfo:j,CurrentInfo:I},inject:["reload"],data:function(){var e=this,t=this.$createElement;return{VARIABLE:h["P"],MAINTAINTASK_STATUS:h["G"],EQUIPMENT_DATA:h["s"],BTN_TEXT:h["c"],PAGE_TITLE:h["I"],ENERGY:h["q"],TITLE:h["N"],MSG:h["H"],maxHeight:document.body.clientHeight-250,activeTab:0,titleName:"",tabs:[{type:"current",name:"实时",state:0,showFlag:!0},{type:"history",name:"历史",state:1,showFlag:!0}],currentStatusInfoPage:{show:!1,title:"详情",deviceCode:null,propertyData:[]},historyStatusInfoPage:{show:!1,title:"详情",tableData:[]},mainPage:{show:!0,page:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevPage","Number","NextPage","Total"],perfect:!0},data:[],columns:[{field:"workshop",title:h["u"].WORKSHOP_NAME,width:"100",align:"center",fixed:"left"},{field:"deviceName",title:h["u"].DEVICE_NAME,width:"120",align:"center",sortable:!0,fixed:"left"},{field:"typeName",title:h["u"].DEVICE_TYPE,width:"120",align:"center",sortable:!0,fixed:"left"},{field:"productRate",title:"生产占比",width:"100",align:"center",formatter:this.propertyFormat,headerClassName:"green_p"},{field:"productValue",title:"生产小时",width:"100",align:"center",headerClassName:"green_p",formatter:this.hourFormat},{field:"preserveRate",title:"维护占比",width:"100",align:"center",formatter:this.propertyFormat,headerClassName:"white_m"},{field:"preserveValue",title:"维护小时",width:"100",align:"center",headerClassName:"white_m",formatter:this.hourFormat},{field:"deactivateRate",title:"停用占比",width:"100",align:"center",formatter:this.propertyFormat,headerClassName:"yellow_off"},{field:"deactivateValue",title:"停用小时",width:"100",align:"center",headerClassName:"yellow_off",formatter:this.hourFormat},{field:"materialWaitingRate",title:"待料占比",width:"100",align:"center",formatter:this.propertyFormat,headerClassName:"green_w"},{field:"materialWaitingValue",title:"待料小时",width:"100",align:"center",headerClassName:"green_w",formatter:this.hourFormat},{field:"maintainRate",title:"保养占比",width:"100",align:"center",formatter:this.propertyFormat,headerClassName:"blue_m"},{field:"maintainValue",title:"保养小时",width:"100",align:"center",headerClassName:"blue_m",formatter:this.hourFormat},{field:"exceptionRate",title:"异常占比",width:"100",align:"center",formatter:this.propertyFormat,headerClassName:"red_e"},{field:"exceptionValue",title:"异常小时",width:"100",align:"center",headerClassName:"red_e",formatter:this.hourFormat},{field:"efficiency",title:"效率",width:"100",align:"center",formatter:this.propertyFormat},{title:h["c"].OPERATION,width:"100",align:"center",fixed:"right",slots:{default:function(t,a){var n=t.row,i=[];return i=[a("el-link",{attrs:{underline:!1,type:"primary"},on:{click:e.goInfo.bind(e,n)}},["详情"])],i},header:function(e){var a=e.column;return[t("span",[t("span",[a.title]),t("i",{class:"el-icon-s-tools set-btn"})])]}}}],tableLoading:!1},isSearchBoxShow:!1,orderByData:{},searchList:[],specialSearchList:[],searchData:{conditionJson1:[]},pickerOptions:{disabledDate:function(t){return t.getTime()>e.moment("".concat(e.moment(Date.now()).format("YYYY-MM-DD")," 23:59:59")).format("x")}},dateTime:[],savedSearchCondition:[],shiftOptions:[],shiftData:null}},watch:{activeTab:function(){this.searchData={conditionJson1:[]},this.findList()}},methods:{buttonClickEvent:function(e){this["".concat(e)]()},complexSearch:function(e,t,a){var n=d["a"].generateSearchCondition(e,t,a),i=n.conditionArr1,r=n.groupOperator,o=n.conditionArr2;this.searchData={conditionJson1:i&&this.changeQuotaQuery(i),operator:r,conditionJson2:o&&this.changeQuotaQuery(o)},this.handleMainPageChange(1,10)},changeQuotaQuery:function(e){var t=this,a=[];return e.forEach((function(e){if("quotaType"===e.column){var n=e.value.split(",");a.push.apply(a,[Object(o["a"])(Object(o["a"])({},e),{},{value:n[0]})].concat(Object(c["a"])(t.specialSearchList.map((function(e,t){return{column:e.sqlName,type:e.parameterType,ptype:e.queryOperator[0],operator:1,value:n[t+1]}})))))}else a.push(e)})),a},toggle:function(e,t){this.activeTab=t},goInfo:function(e){if(this.isSearchBoxShow=!1,0===this.activeTab)this.mainPage.show=!1,this.currentStatusInfoPage={show:!0,deviceCode:e.deviceCode,propertyData:e.andonLightValue,sequenceChartData:e.lightHistoryState},this.titleName="详情  ".concat(e.deviceName);else if(1===this.activeTab){this.mainPage.show=!1;var t=e.lightHistoryState.map((function(e){return Object(o["a"])(Object(o["a"])({},e),{},{time:+new Date(e.endTime)-+new Date(e.startTime)})}));this.historyStatusInfoPage.show=!0,this.historyStatusInfoPage.tableData=t,this.titleName="详情  ".concat(e.deviceName)}},showSearchCard:function(){this.isSearchBoxShow=!this.isSearchBoxShow},closeCurrentStatusInfo:function(){this.currentStatusInfoPage.show=!1,this.historyStatusInfoPage.show=!1,this.mainPage.show=!0,this.titleName=""},closeHistoryStatusInfo:function(){this.currentStatusInfoPage.show=!1,this.historyStatusInfoPage.show=!1,this.mainPage.show=!0,this.titleName=""},reset:function(){this.dateTime=[]},handleMainPageChange:function(e,t){this.mainPage.page.currentPage=e,this.mainPage.page.pageSize=t,this.findList()},refresh:function(){this.findList()},searchShift:function(){this.mainPage.currentPage=1,this.mainPage.pageSize=10,this.findList()},refreshTableData:function(e){e&&(this.savedSearchCondition=Object(c["a"])(e),this.mainPage.page.currentPage=1),this.findList()},findList:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="".concat(e.moment(new Date).format("YYYY-MM-DD HH:mm:ss")),n="".concat(e.moment(new Date).format("YYYY-MM-DD")," 00:00:00"),1===e.activeTab&&e.dateTime.length>1&&(n=e.dateTime[0],a=e.dateTime[1]),t.prev=3,e.mainPage.tableLoading=!0,i={conditionJson1:[],operatorGroup:1,conditionJson2:[]},e.savedSearchCondition.length>0&&(i=s["l"].apply(void 0,Object(c["a"])(e.savedSearchCondition))),r={size:e.mainPage.page.pageSize,current:e.mainPage.page.currentPage,startTime:"",endTime:"",shiftStart:"",shiftEnd:""},e.dateTime&&(r.startTime=n,r.endTime=a),null!==e.shiftData&&(r.shiftStart=e.shiftOptions[e.shiftData].shiftStart,r.shiftEnd=e.shiftOptions[e.shiftData].shiftEnd),t.next=12,Object(m["a"])(r,i);case 12:u=t.sent,u.code===h["M"].OPERATION_SUCCESS?(e.mainPage.data=u.rows.map((function(e){return Object(o["a"])(Object(o["a"])(Object(o["a"])({},e),e.andonLightStateRate),e.andonLightValue)})),e.mainPage.page.total=u.total):Object(p["c"])(u.message),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](3),Object(b["a"])(h["N"].NOTIFY,t.t0);case 19:return t.prev=19,e.mainPage.tableLoading=!1,t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[3,16,19,22]])})))()},sortChange:function(e,t){this.orderByData={},this.orderByData[e]=t,this.handleMainPageChange(1,this.mainPage.page.pageSize)},propertyFormat:function(e){var t=e.cellValue;return t.toFixed(2)+"%"},hourFormat:function(e){var t=e.cellValue;return t.toFixed(2)},exportTable:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,u,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="".concat(e.moment(new Date).format("YYYY-MM-DD HH:mm:ss")),n="".concat(e.moment(new Date).format("YYYY-MM-DD")," 00:00:00"),1===e.activeTab&&void 0!==e.dateTime[0]&&(n=e.dateTime[0],a=e.dateTime[1]),t.prev=3,e.mainPage.tableLoading=!0,i={conditionJson1:[],operatorGroup:1,conditionJson2:[],size:99999999,current:e.mainPage.page.currentPage},e.savedSearchCondition.length>0&&(i=s["l"].apply(void 0,Object(c["a"])(e.savedSearchCondition))),r={startTime:"",endTime:"",shiftStart:"",shiftEnd:""},e.dateTime&&(r.startTime=n,r.endTime=a),null!==e.shiftData&&(r.shiftStart=e.shiftOptions[e.shiftData].shiftStart,r.shiftEnd=e.shiftOptions[e.shiftData].shiftEnd),t.next=12,Object(m["a"])(r,i);case 12:u=t.sent,u.code===h["M"].OPERATION_SUCCESS?(l=[],l=u.rows.map((function(e){return Object(o["a"])(Object(o["a"])({deviceName:e.deviceName,efficiency:e.efficiency,typeName:e.typeName,workshop:e.workshop},e.andonLightStateRate),e.andonLightValue)})),1===e.activeTab?e.$refs.xGrid.exportData("状态设备报表【历史】",l):e.$refs.xGrid.exportData("状态设备报表【实时】",l)):Object(p["c"])(u.message),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](3),Object(b["a"])(h["N"].NOTIFY,t.t0);case 19:return t.prev=19,e.mainPage.tableLoading=!1,t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[3,16,19,22]])})))()},getSystemShift:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(m["g"])({configurationTypeEnum:"SHIFT_TIME"},{});case 3:if(a=t.sent,a.code===h["M"].OPERATION_SUCCESS){if(a.rows.processConfiguration)for(r in n=JSON.parse(a.rows.processConfiguration),e.shiftOptions=[],e.shiftData=null,i=0,n)o={value:i,label:r+" "+n[r],shiftStart:n[r].split("-")[0],shiftEnd:n[r].split("-")[1]},++i,e.shiftOptions.push(o)}else Object(p["c"])(a.message);t.next=9;break;case 7:t.prev=7,t.t0=t["catch"](0);case 9:return t.prev=9,t.finish(9);case 11:case"end":return t.stop()}}),t,null,[[0,7,9,11]])})))()}},created:function(){this.getSystemShift(),this.findList()}},L=_,A=L,M=(a("62ef"),Object(C["a"])(A,n,i,!1,null,"7a33ba4b",null));t["default"]=M.exports},f82c:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return c})),a.d(t,"m",(function(){return s})),a.d(t,"c",(function(){return u})),a.d(t,"j",(function(){return l})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return f})),a.d(t,"k",(function(){return h})),a.d(t,"l",(function(){return p})),a.d(t,"f",(function(){return g})),a.d(t,"g",(function(){return m})),a.d(t,"h",(function(){return b})),a.d(t,"i",(function(){return v}));a("7db0"),a("a15b"),a("d81d"),a("b0c0"),a("d3b7");var n=a("b85c"),i=a("53ca"),r=a("b775");function o(){return new Promise((function(e,t){r["i"].post("deviceGroup/getAllGroupAndDevice.action").then((function(t){for(var a=0;a<t.data.rows.length;a++)t.data.rows[a].code&&(t.data.rows[a].id=t.data.rows[a].code);t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function c(){return new Promise((function(e,t){r["i"].post("deviceWorkshopType/getTree.action").then((function(t){t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function s(){return new Promise((function(e,t){r["i"].post("deviceGroup/getListGroupAndProductionLine.action").then((function(t){t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function u(){return new Promise((function(e,t){r["i"].post("deviceGroup/getTree.action?").then((function(t){t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function l(){return new Promise((function(e,t){r["i"].post("materialsType/getTree.action?").then((function(t){t.data.rows?t.data.rows=d(t.data.rows):t.data.rows=[],e(t.data)})).catch((function(e){t(e.data)}))}))}function d(e){var t=e;for(var a in t)t[a].value=t[a].id,t[a].label=t[a].name;for(var n=[],i={},r=0,o=t.length;r<o;r++)i[t[r].id]=t[r];for(r=0,o=t.length;r<o;r++){var c=i[t[r].pId];c?(c.children||(c.children=[]),c.children.push(t[r])):n.push(t[r])}return n}function f(e){var t=Array.isArray(e)?[]:{};if(e&&"object"===Object(i["a"])(e))for(var a in e)e.hasOwnProperty(a)&&(e[a]&&"object"===Object(i["a"])(e[a])?t[a]=this.deepClone(e[a]):t[a]=e[a]);return t}function h(e,t){var a=[];if(Array.isArray(e)&&Array.isArray(t)){if(e.length>0){var i,r=Object(n["a"])(e);try{var o=function(){var e=i.value,n=t.find((function(t){return t.field===e.field}));if(n){var r=Object.assign({},n,{minWidth:e.width,visible:e.visible,required:e.required});a.push(r)}};for(r.s();!(i=r.n()).done;)o()}catch(d){r.e(d)}finally{r.f()}t[1].type&&"checkbox"===t[1].type&&a.unshift(t[1]),t[0].type&&"radio"===t[0].type&&a.unshift(t[0]),t[0].type&&"checkbox"===t[0].type&&a.unshift(t[0]),console.log("7788",e,t,a);for(var c=0;c<t.length;c++)if(t[c].eType){for(var s=0,u=0;u<e.length;u++)t[c].field===e[u].field&&(s+=1);0===s&&a.push(t[c])}var l=t.length;return t[l-1].title&&"操作"===t[l-1].title&&a.push(t[l-1]),console.log("9999",a),a}return t}return[]}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n={conditionJson1:e,operatorGroup:t,conditionJson2:a};return n}function g(e,t){return t.map((function(t,a){return e.map((function(e){return null==t[e]||""===t[e]?"-":t[e]}))}))}function m(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,i=t.getDate();return n=n<10?"0"+n:n,i=i<10?"0"+i:i,[a,n,i].join("-")}function b(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,i=t.getDate();return n=n<10?"0"+n:n,i=i<10?"0"+i:i,[a,n,i].join("-")+" 00:00:00"}function v(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,i=t.getDate();return n=n<10?"0"+n:n,i=i<10?"0"+i:i,[a,n,i].join("-")+" 23:59:59"}}}]);
//# sourceMappingURL=chunk-6f394b03.22743e82.js.map