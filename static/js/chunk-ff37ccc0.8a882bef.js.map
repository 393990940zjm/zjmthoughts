{"version":3,"sources":["webpack:///./src/api/energyAll.js","webpack:///./src/views/energy/gasAnalyze/compareRatio.vue?7ec7","webpack:///./src/views/energy/gasAnalyze/usegasTable.vue?cda1","webpack:///./src/views/energy/gasAnalyze/index.vue?61cb","webpack:///./src/views/energy/gasAnalyze/usegasTable.vue?6bfb","webpack:///src/views/energy/gasAnalyze/usegasTable.vue","webpack:///./src/views/energy/gasAnalyze/usegasTable.vue?ff46","webpack:///./src/views/energy/gasAnalyze/usegasTable.vue?ed1c","webpack:///./src/views/energy/gasAnalyze/compareRatio.vue?014a","webpack:///src/views/energy/gasAnalyze/compareRatio.vue","webpack:///./src/views/energy/gasAnalyze/compareRatio.vue?7f26","webpack:///./src/views/energy/gasAnalyze/compareRatio.vue?d7e6","webpack:///src/views/energy/gasAnalyze/index.vue","webpack:///./src/views/energy/gasAnalyze/index.vue?331a","webpack:///./src/views/energy/gasAnalyze/index.vue?ee28","webpack:///./src/views/energy/gasAnalyze/index.vue?07ac","webpack:///./src/assets/img/other/arrowdown.png","webpack:///./src/assets/img/other/arrowup.png"],"names":["GetEnergyComparedInfo","param","jsonData","postAplicationJSON","GetEnergyDistributionInfo","GetEnergyHistoryInfo","GetElectricWaveVal","getAplicationJSON","GetCompare","GetWarningRecord","GetElectricWave","SetElectricWave","GetEnergyWarningByType","deviceGetList","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","currentView","on","$event","exportTable","_v","_s","BTN_TEXT","EXPORT","_e","_l","tab","index","key","class","active","toggle","views","name","ref","tag","staticRenderFns","GAS_NAME","model","value","callback","$$v","eleName","expression","pickerOptions","dateTime","staticStyle","shiftData","item","label","search","reset","$options","filters","getTableHeight","tableLoadings","tableDatas","tableColumns","tablePages","onTablePageChanges","components","VXETable","data","disabledDate","time","getTime","Date","now","total","currentPage","pageSize","align","pageSizes","layouts","perfect","shiftOptions","created","getSystemShift","dataInit","dealColumns","loadData","methods","startTime","formatTimeSmall","endTime","type","current","size","condtion","deviceNameLike","deviceName","length","shiftQueryList","y","jsonx","shiftName","shiftStart","shiftEnd","push","console","log","res","rows","forEach","timeAndValueVoListMap","itemKey","paramJson","i","sum","items","toFixed","tableData","error","monthStartDate","monthEndDate","field","title","fixed","width","json","cellStyle","formatColor","children","x","css","color","flag","toLocaleDateString","replace","str","$refs","xGrid","exportData","component","pickerChange","dateVal","value1","searchData","_m","sumMap","targetMonth","sumMapVal","countRatio","compareToPreMonthRatio","compareToPreYearSameMonthRatio","avgMap","avgMapVal","dayHighestMap","dayHighestMapVal","options","showElectricMac","getCurrentMonth","$nextTick","computed","deviceCode","energyType","month","date","meterCodeList","dataDeal","showEcharts","xData","targetMonthUsages","preMonthUsages","lastYearMonthUsages","year","getLastMonth","dd","m","getMonth","getLastYear","substr","getFullYear","isNaN","val","text","textStyle","tooltip","trigger","formatter","seriesName","legend","right","grid","left","bottom","containLabel","toolbox","feature","saveAsImage","xAxis","yAxis","series","myChart","$echarts","init","document","getElementById","setOption","HeaderTitle","HeadOperationItem","useGasTable","compareRatio","tabs","exportDatax","module","exports"],"mappings":"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","file":"static/js/chunk-ff37ccc0.8a882bef.js","sourcesContent":["/*\r\n * @Author: zhxy\r\n * @Date: 2021-08-18 09:11:18\r\n * @LastEditors: ZJM\r\n * @LastEditTime: 2022-05-30 10:44:47\r\n * @Description: file content\r\n */\r\n\r\n// import { postAplicationJSON, getRequest } from '@/utils/request';\r\n\r\n// import { postAplicationJSON } from '@/utils/request';\r\n\r\nimport { postAplicationJSON, getAplicationJSON } from '@/utils/request';\r\n\r\n// 能源总览作日对比\r\nexport const GetEnergyComparedInfo = (param, jsonData) =>\r\n  postAplicationJSON('energy/getTheEnergyStateOfYesterdayByDeviceType.action?', param, jsonData);\r\n\r\n// 能源总览车间/产线/表分布\r\nexport const GetEnergyDistributionInfo = (param, jsonData) =>\r\n  postAplicationJSON('energy/getTheDistributionOfLineUseEnergy.action?', param, jsonData);\r\n\r\n// 能源7日历史记录\r\nexport const GetEnergyHistoryInfo = (param, jsonData) =>\r\n  postAplicationJSON('energy/theEnergyHistoryRecordOfLastSevenDay.action?', param, jsonData);\r\n\r\n// 用电分析 - 尖峰谷\r\nexport const GetElectricWaveVal = (param) => getAplicationJSON('energy/queryRecentDaysElectricWave.action?', param);\r\n\r\n// 能源分析 - 同比环比\r\nexport const GetCompare = (param) => getAplicationJSON('energy/compareToPrevious.action?', param);\r\n\r\n// 能源负荷统计报表\r\nexport const GetEnergyReport = (param, jsonData) =>\r\n  postAplicationJSON('energyReport/getEnergyLoadReport.action?', param, jsonData);\r\n\r\n// 查询今日/本月累计告警记录和次数\r\nexport const GetWarningRecord = (param, jsonData) =>\r\n  postAplicationJSON('energy/getTheWarningRecordByEnergyByDeviceType.action?', param, jsonData);\r\n\r\n// 查询用电峰谷配置\r\nexport const GetElectricWave = (param) => getAplicationJSON('energy/queryElectricWave.action?', param);\r\n\r\n// 配置用电峰谷\r\n\r\nexport const SetElectricWave = (param, jsonData) =>\r\n  postAplicationJSON('energy/setElectricWave.action?', param, jsonData);\r\n\r\n// 查询能源告警\r\nexport const GetEnergyWarningByType = (param) => getAplicationJSON('energy/queryTypeWarnings.action?', param);\r\n\r\n// 查询所有电表\r\nexport const deviceGetList = (param, jsonData) =>\r\n  postAplicationJSON('device/getList.action?', param, jsonData);\r\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compareRatio.vue?vue&type=style&index=0&id=0b858276&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compareRatio.vue?vue&type=style&index=0&id=0b858276&lang=less&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./usegasTable.vue?vue&type=style&index=0&id=5e3490a2&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./usegasTable.vue?vue&type=style&index=0&id=5e3490a2&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"electroWra\"},[_c('el-header',[_c('HeaderTitle',[_c('div',{staticClass:\"head-operation\",attrs:{\"slot\":\"head-operation\"},slot:\"head-operation\"},[(_vm.currentView === 'useGasTable')?_c('HeadOperationItem',{attrs:{\"name\":\"showInfo\"},on:{\"onOprationItem\":function($event){return _vm.exportTable()}}},[_c('i',{staticClass:\"icon-export\",attrs:{\"slot\":\"operation-icon\"},slot:\"operation-icon\"}),_c('span',{attrs:{\"slot\":\"operation-name\"},slot:\"operation-name\"},[_vm._v(_vm._s(_vm.BTN_TEXT.EXPORT))])]):_vm._e()],1)])],1),_c('div',{staticClass:\"tabs\"},[_c('ul',{staticClass:\"flex-box\"},_vm._l((_vm.tabs),function(tab,index){return _c('li',{key:index,class:{active:_vm.active==index},on:{\"click\":function($event){return _vm.toggle(index,tab.views)}}},[_vm._v(_vm._s(tab.name))])}),0)]),_c('div',{staticClass:\"mian-wra\"},[_c(_vm.currentView,{ref:_vm.currentView,tag:\"component\"})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"useEleTable-wra\"},[_c('div',{staticClass:\"searchDiv\"},[_c('div',{staticClass:\"itemSearch\"},[_c('span',{staticClass:\"lableName\"},[_vm._v(_vm._s(_vm.GAS_NAME)+\"表名称:\")]),_c('el-input',{attrs:{\"size\":\"mini\"},model:{value:(_vm.eleName),callback:function ($$v) {_vm.eleName=$$v},expression:\"eleName\"}})],1),_c('div',{staticClass:\"itemSearch\"},[_c('span',{staticClass:\"lableName\"},[_vm._v(\"日期范围:\")]),_c('el-date-picker',{staticClass:\"dateTime\",attrs:{\"type\":\"daterange\",\"size\":\"mini\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.pickerOptions},model:{value:(_vm.dateTime),callback:function ($$v) {_vm.dateTime=$$v},expression:\"dateTime\"}}),_c('span',{staticStyle:{\"padding\":\"0 10px\"}},[_vm._v(\"班次范围:\")]),_c('el-select',{attrs:{\"multiple\":\"\",\"size\":\"mini\",\"placeholder\":\"请选择\"},model:{value:(_vm.shiftData),callback:function ($$v) {_vm.shiftData=$$v},expression:\"shiftData\"}},_vm._l((_vm.shiftOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.search}},[_vm._v(\"查询\")]),_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.reset}},[_vm._v(\"重置\")])],1),_c('VXETable',{ref:\"xGrid\",attrs:{\"id\":\"table\",\"tableName\":'',\"height\":_vm.$options.filters.getTableHeight(240),\"tableLoading\":_vm.tableLoadings,\"tableDatas\":_vm.tableDatas,\"tableColumns\":_vm.tableColumns,\"tablePage\":_vm.tablePages,\"highlightCurrentRow\":true},on:{\"onTablePageChange\":_vm.onTablePageChanges}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"useEleTable-wra\">\r\n    <div class=\"searchDiv\">\r\n      <div class=\"itemSearch\">\r\n        <span class=\"lableName\">{{GAS_NAME}}表名称:</span>\r\n        <el-input\r\n          size='mini'\r\n          v-model=\"eleName\"\r\n        ></el-input>\r\n      </div>\r\n      <div class=\"itemSearch\">\r\n        <span class=\"lableName\">日期范围:</span>\r\n        <el-date-picker\r\n          class=\"dateTime\"\r\n          v-model=\"dateTime\"\r\n          type=\"daterange\"\r\n          size='mini'\r\n          start-placeholder=\"开始日期\"\r\n          end-placeholder=\"结束日期\"\r\n          value-format=\"yyyy-MM-dd\"\r\n          :picker-options='pickerOptions'\r\n        >\r\n        </el-date-picker>\r\n        <span style=\"padding: 0 10px;\" >班次范围:</span>\r\n        <el-select v-model=\"shiftData\" multiple size=\"mini\" placeholder=\"请选择\">\r\n          <el-option\r\n            v-for=\"item in shiftOptions\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\">\r\n          </el-option>\r\n        </el-select>\r\n      </div>\r\n      <el-button\r\n        @click=\"search\"\r\n        size='mini'\r\n        type=\"primary\"\r\n      >查询</el-button>\r\n      <el-button\r\n        @click=\"reset\"\r\n        size='mini'\r\n      >重置</el-button>\r\n    </div>\r\n    <VXETable\r\n      id=\"table\"\r\n      :tableName=\"''\"\r\n      :height=\"$options.filters.getTableHeight(240)\"\r\n      :tableLoading=\"tableLoadings\"\r\n      :tableDatas=\"tableDatas\"\r\n      :tableColumns=\"tableColumns\"\r\n      :tablePage=\"tablePages\"\r\n      :highlightCurrentRow=\"true\"\r\n      @onTablePageChange=\"onTablePageChanges\"\r\n      ref=\"xGrid\"\r\n    ></VXETable>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GAS_NAME } from '@/utils/ajaxConfigure';\r\nimport VXETable from '@/components/common/Table.vue';\r\nimport { showWarningMessage } from '@/utils/message';\r\nimport { STATUS_CODE } from '@/utils/constantsFile';\r\nimport { getShiftEnergyLoadReport } from '@/api/energyShift';\r\nimport { configurationGetConfigurationByEnum } from '@/api/statusEquipmentReport.js';\r\nexport default {\r\n  name: 'useEleTable',\r\n  components: {\r\n    VXETable\r\n  },\r\n  data() {\r\n    return {\r\n      GAS_NAME: GAS_NAME,\r\n      eleName: '',\r\n      dateTime: '',\r\n      pickerOptions: {\r\n        disabledDate(time) {\r\n          return time.getTime() > Date.now();\r\n        }\r\n      },\r\n      tableLoadings: false,\r\n      // table数据\r\n      tableDatas: [],\r\n      // table表头配置\r\n      tableColumns: [],\r\n      // table分页配置\r\n      tablePages: {\r\n        total: 0,\r\n        currentPage: 1,\r\n        pageSize: 10,\r\n        align: 'right',\r\n        pageSizes: [10, 20, 50, 100, 200, 500],\r\n        layouts: [\r\n          'Sizes',\r\n          'PrevJump',\r\n          'PrevPage',\r\n          'Number',\r\n          'NextPage',\r\n          'NextJump',\r\n          'FullJump',\r\n          'Total'\r\n        ],\r\n        perfect: true\r\n      },\r\n      // 班次列表\r\n      shiftOptions: [],\r\n      // 班次值\r\n      shiftData: null\r\n    };\r\n  },\r\n  created() {\r\n    this.getSystemShift();\r\n    this.dataInit();\r\n    this.dealColumns();\r\n    this.loadData();\r\n  },\r\n  methods: {\r\n    loadData(deviceName = '') {\r\n      this.tableLoadings = true;\r\n      const param = {\r\n        startTime: this.formatTimeSmall(this.dateTime[0], false) + ' 00:00:00',\r\n        endTime: this.formatTimeSmall(this.dateTime[1], false) + ' 00:00:00',\r\n        type: 'GAS',\r\n        current: this.tablePages.currentPage,\r\n        size: this.tablePages.pageSize\r\n        // deviceName: deviceName\r\n      };\r\n\r\n      var condtion = {\r\n        deviceNameLike: deviceName\r\n      };\r\n\r\n      if (this.shiftData !== null) {\r\n        if (this.shiftData.length > 0) {\r\n          condtion.shiftQueryList = [];\r\n          for (var y = 0; y < this.shiftData.length; y++) {\r\n            var jsonx = {\r\n              shiftName: this.shiftOptions[this.shiftData[y]].name,\r\n              shiftStart: this.shiftOptions[this.shiftData[y]].shiftStart,\r\n              shiftEnd: this.shiftOptions[this.shiftData[y]].shiftEnd\r\n            };\r\n            condtion.shiftQueryList.push(jsonx);\r\n          }\r\n        }\r\n      }\r\n\r\n      getShiftEnergyLoadReport(param, condtion).then(res => {\r\n        const tableData = [];\r\n        this.tablePages.total = res.total;\r\n        console.log('777', res.rows);\r\n        res.rows.forEach(element => {\r\n          const { deviceName, timeAndValueVoListMap } = element;\r\n          const items = { sbName: deviceName };\r\n          let sum = 0;\r\n          if (timeAndValueVoListMap) {\r\n            var index = 0;\r\n            for (var itemKey in timeAndValueVoListMap) {\r\n              var paramJson = timeAndValueVoListMap[itemKey];\r\n\r\n              if (this.shiftData !== null || this.shiftData) {\r\n                for (var i = 0; i < paramJson.length; i++) {\r\n                  const name = paramJson[i].time.substr(0, 10) + '_' + index;\r\n                  sum += paramJson[i].value;\r\n                  items[name] = paramJson[i].value;\r\n                }\r\n              } else {\r\n                // eslint-disable-next-line no-redeclare\r\n                for (var i = 0; i < paramJson.length; i++) {\r\n                  const name = paramJson[i].time.substr(0, 10);\r\n                  sum += paramJson[i].value;\r\n                  items[name] = paramJson[i].value;\r\n                }\r\n              }\r\n              index++;\r\n            }\r\n            // timeAndValueVoListMap.forEach(item => {\r\n            //   const name = item.time.substr(0, 10);\r\n            //   sum += item.value;\r\n            //   items[name] = item.value;\r\n            // });\r\n          }\r\n          items.total = sum.toFixed(2);\r\n          tableData.push(items);\r\n        });\r\n        console.log('666', tableData);\r\n        this.tableDatas = tableData;\r\n        this.tableLoadings = false;\r\n      }).catch(error => {\r\n        this.tableLoadings = false;\r\n        console.log(error);\r\n      });\r\n    },\r\n    // 日期初始化\r\n    dataInit() {\r\n      const now = new Date();\r\n      const nowMonth = now.getMonth();\r\n      const nowYear = now.getFullYear();\r\n      // 本月的开始时间\r\n      const monthStartDate = new Date(nowYear, nowMonth, 1).toLocaleDateString().replace(/\\//g, '-');\r\n      // 本月的结束时间\r\n      const monthEndDate = new Date(nowYear, nowMonth + 1, 0).toLocaleDateString().replace(/\\//g, '-');\r\n      this.dateTime = [monthStartDate, monthEndDate];\r\n    },\r\n    search() {\r\n      this.tableDatas = [];\r\n      this.dealColumns();\r\n      this.loadData(this.eleName);\r\n    },\r\n    reset() {\r\n      this.tableDatas = [];\r\n      this.eleName = '';\r\n      this.shiftData = null;\r\n      this.dataInit();\r\n      this.dealColumns();\r\n      this.loadData(this.eleName);\r\n    },\r\n    // 处理表头\r\n    dealColumns() {\r\n      this.tableColumns = [];\r\n      const firstDay = new Date(this.dateTime[0]).getTime();\r\n      const endDay = new Date(this.dateTime[1]).getTime();\r\n      const day = parseInt((endDay - firstDay) / 1000 / 3600 / 24) + 1;// 间隔几日\r\n      this.tableColumns.push({\r\n        field: 'sbName',\r\n        title: this.GAS_NAME + '表名称',\r\n        fixed: 'left',\r\n        width: '100'\r\n      });\r\n\r\n      var shiftQueryList = [];\r\n      if (this.shiftData !== null) {\r\n        if (this.shiftData.length > 0) {\r\n          for (var y = 0; y < this.shiftData.length; y++) {\r\n            shiftQueryList.push(this.shiftOptions[this.shiftData[y]].name);\r\n          }\r\n        }\r\n      }\r\n\r\n      // 根据间隔日遍历表头结构\r\n      for (let i = 0; i < day; i++) {\r\n        var json = {\r\n          title: this.formatTimeSmall(((firstDay + (i * 1000 * 3600 * 24))), false),\r\n          align: 'center',\r\n          width: '100'\r\n        };\r\n        if (shiftQueryList.length === 0) {\r\n          json.field = this.formatTimeSmall(((firstDay + (i * 1000 * 3600 * 24))), false);\r\n          json.cellStyle = this.formatColor;\r\n        } else {\r\n          json.children = [];\r\n          for (var x = 0; x < shiftQueryList.length; x++) {\r\n            json.children.push({\r\n              field: this.formatTimeSmall(((firstDay + (i * 1000 * 3600 * 24))), false) + '_' + x,\r\n              width: '100',\r\n              align: 'center',\r\n              title: shiftQueryList[x],\r\n              cellStyle: this.formatColor\r\n            });\r\n          }\r\n        }\r\n        this.tableColumns.push(json);\r\n      }\r\n      this.tableColumns.push({\r\n        field: 'total',\r\n        title: '小结',\r\n        width: '100'\r\n      });\r\n    },\r\n    // 用气负荷表格单元格样式\r\n    formatColor(value, row, index) {\r\n      if (value === 0) {\r\n        return {\r\n          css: {\r\n            color: '#ddd'\r\n          }\r\n        };\r\n      } else {\r\n        return {\r\n          css: {\r\n            color: '#000'\r\n          }\r\n        };\r\n      }\r\n    },\r\n    formatTimeSmall(time, flag = true) {\r\n      if (flag) {\r\n        return new Date(time).toLocaleDateString().replace(/\\//g, '');\r\n      } else {\r\n        let str = '';\r\n        const year = new Date(time).getFullYear();\r\n        const month = ('0' + (new Date(time).getMonth() + 1)).substr(-2);\r\n        const day = ('0' + new Date(time).getDate()).substr(-2);\r\n        str = `${year}-${month}-${day}`;\r\n        return str;\r\n      };\r\n    },\r\n    /**\r\n     * @description: 执行table分页\r\n     * @param currentPage 第几页\r\n     * @param pageSize 一页几条\r\n     * @return: 无\r\n     * @author: CH\r\n     */\r\n    onTablePageChanges(currentPage, pageSize) {\r\n      // 点击页数写入table分页配置\r\n      this.tablePages.currentPage = currentPage;\r\n      // 一页条数夜路table分页配置\r\n      this.tablePages.pageSize = pageSize;\r\n      // 调用查询接口\r\n      this.loadData();\r\n    },\r\n    async getSystemShift() {\r\n      try {\r\n        const data = await configurationGetConfigurationByEnum({\r\n          configurationTypeEnum: 'SHIFT_TIME'\r\n        }, {});\r\n\r\n        if (data.code === STATUS_CODE.OPERATION_SUCCESS) {\r\n          console.log(data);\r\n          if (data.rows.processConfiguration) {\r\n            var jsonArr = JSON.parse(data.rows.processConfiguration);\r\n            this.shiftOptions = [];\r\n            this.shiftData = null;\r\n            var index = 0;\r\n            for (var key in jsonArr) {\r\n              var json = {\r\n                value: index,\r\n                label: key + ' ' + jsonArr[key],\r\n                name: key,\r\n                shiftStart: jsonArr[key].split('-')[0],\r\n                shiftEnd: jsonArr[key].split('-')[1]\r\n              };\r\n              ++index;\r\n              this.shiftOptions.push(json);\r\n            }\r\n          }\r\n        } else {\r\n          showWarningMessage(data.message);\r\n        }\r\n      } catch (error) {\r\n        // showErrorNotify(TITLE.NOTIFY, error);\r\n      } finally {\r\n      }\r\n    },\r\n    exportTable() {\r\n      this.$refs.xGrid.exportData('分析报表');\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.useEleTable-wra {\r\n    margin-left: 10px;\r\n    height: 100%;\r\n    .vxe-table .vxe-cell {\r\n      white-space: nowrap;\r\n    }\r\n}\r\n\r\n.el-button {\r\n    margin-left: 10px;\r\n}\r\n\r\n#table {\r\n    width: 100%;\r\n    float: left;\r\n}\r\n\r\n#table /deep/ .vxe-input {\r\n    line-height: 30px;\r\n}\r\n\r\n.searchDiv {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 10px;\r\n  .itemSearch {\r\n    margin-right: 10px;\r\n  }\r\n  .lableName {\r\n    margin-right: 5px;\r\n  }\r\n}\r\n\r\n.searchDiv>div /deep/.el-input {\r\n    width: 180px;\r\n}\r\n\r\n.showImg {\r\n    width: 100px;\r\n    height: 50px;\r\n    cursor: pointer;\r\n    margin-top: 2.5px;\r\n}\r\n\r\n.dateTime {\r\n    width: 200px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./usegasTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./usegasTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./usegasTable.vue?vue&type=template&id=5e3490a2&scoped=true&\"\nimport script from \"./usegasTable.vue?vue&type=script&lang=js&\"\nexport * from \"./usegasTable.vue?vue&type=script&lang=js&\"\nimport style0 from \"./usegasTable.vue?vue&type=style&index=0&id=5e3490a2&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5e3490a2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"compareRatio-wra\"},[_c('div',{staticClass:\"search-wra\"},[_c('span',[_vm._v(\"请选择要查询的月份:\")]),_c('el-date-picker',{attrs:{\"type\":\"month\",\"size\":\"mini\",\"placeholder\":\"选择月\"},on:{\"change\":_vm.pickerChange},model:{value:(_vm.dateVal),callback:function ($$v) {_vm.dateVal=$$v},expression:\"dateVal\"}}),_c('el-label',{staticStyle:{\"margin-left\":\"30px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.GAS_NAME)+\"表：\")]),_c('el-select',{attrs:{\"size\":\"mini\",\"filterable\":\"\",\"multiple\":\"\",\"placeholder\":\"请选择\"},model:{value:(_vm.value1),callback:function ($$v) {_vm.value1=$$v},expression:\"value1\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1),_c('el-button',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":_vm.searchData}},[_vm._v(\"查询\"+_vm._s(_vm.GAS_NAME)+\"表\")])],1),_c('div',{staticClass:\"count-wra flex-box\"},[_c('div',{staticClass:\"item-count flex-box\"},[_c('div',{staticClass:\"month-count\"},[_vm._m(0),_c('p',{staticClass:\"month-val\"},[_c('span',{attrs:{\"id\":\"sumMap\"}},[_vm._v(_vm._s(_vm.sumMap.targetMonth))]),_c('sub',{staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"m³\")])])]),_c('div',{staticClass:\"ratio-con\"},[_c('p',{staticClass:\"loop-ratio\"},[_c('span',{staticClass:\"labelName\"},[_vm._v(\" 环比:\")]),_c('span',{class:['ratio-val', {'down': !_vm.sumMapVal}],attrs:{\"id\":\"sumMapLoop\"}},[_vm._v(_vm._s(_vm.countRatio(_vm.sumMap.compareToPreMonthRatio)))]),(_vm.sumMapVal && _vm.sumMap.compareToPreMonthRatio != 0)?_c('img',{attrs:{\"src\":require(\"@/assets/img/other/arrowup.png\"),\"alt\":\"\"}}):_vm._e(),(!_vm.sumMapVal && _vm.sumMap.compareToPreMonthRatio != 0)?_c('img',{attrs:{\"src\":require(\"@/assets/img/other/arrowdown.png\"),\"alt\":\"\"}}):_vm._e()]),_c('p',{staticClass:\"common-ratio\"},[_c('span',{staticClass:\"labelName\"},[_vm._v(\" 同比:\")]),_c('span',{attrs:{\"id\":\"sumMapCommon\"}},[_vm._v(_vm._s(_vm.countRatio(_vm.sumMap.compareToPreYearSameMonthRatio)))])])])]),_c('div',{staticClass:\"item-count flex-box\"},[_c('div',{staticClass:\"month-count\"},[_vm._m(1),_c('p',{staticClass:\"month-val\"},[_c('span',{attrs:{\"id\":\"avgMap\"}},[_vm._v(_vm._s(_vm.avgMap.targetMonth))]),_c('sub',{staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"m³\")])])]),_c('div',{staticClass:\"ratio-con\"},[_c('p',{staticClass:\"loop-ratio\"},[_c('span',{staticClass:\"labelName\"},[_vm._v(\" 环比:\")]),_c('span',{class:['ratio-val', {'down': !_vm.avgMapVal}],attrs:{\"id\":\"avgMapLoop\"}},[_vm._v(_vm._s(_vm.countRatio(_vm.avgMap.compareToPreMonthRatio)))]),(_vm.avgMapVal && _vm.avgMap.compareToPreMonthRatio != 0)?_c('img',{attrs:{\"src\":require(\"@/assets/img/other/arrowup.png\"),\"alt\":\"\"}}):_vm._e(),(!_vm.avgMapVal && _vm.avgMap.compareToPreMonthRatio != 0)?_c('img',{attrs:{\"src\":require(\"@/assets/img/other/arrowdown.png\"),\"alt\":\"\"}}):_vm._e()]),_c('p',{staticClass:\"common-ratio\"},[_c('span',{staticClass:\"labelName\"},[_vm._v(\" 同比:\")]),_c('span',{attrs:{\"id\":\"avgMapCommon\"}},[_vm._v(_vm._s(_vm.countRatio(_vm.avgMap.compareToPreYearSameMonthRatio)))])])])]),_c('div',{staticClass:\"item-count flex-box\"},[_c('div',{staticClass:\"month-count\"},[_vm._m(2),_c('p',{staticClass:\"month-val\"},[_c('span',{attrs:{\"id\":\"dayHighestMap\"}},[_vm._v(_vm._s(_vm.dayHighestMap.targetMonth))]),_c('sub',{staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"m³\")])])]),_c('div',{staticClass:\"ratio-con\"},[_c('p',{staticClass:\"loop-ratio\"},[_c('span',{staticClass:\"labelName\"},[_vm._v(\" 环比:\")]),_c('span',{class:['ratio-val', {'down': !_vm.dayHighestMapVal}],attrs:{\"id\":\"dayHighestMapLoop\"}},[_vm._v(_vm._s(_vm.countRatio(_vm.dayHighestMap.compareToPreMonthRatio)))]),(_vm.dayHighestMapVal && _vm.avgMap.compareToPreMonthRatio != 0)?_c('img',{attrs:{\"src\":require(\"@/assets/img/other/arrowup.png\"),\"alt\":\"\"}}):_vm._e(),(!_vm.dayHighestMapVal && _vm.avgMap.compareToPreMonthRatio != 0)?_c('img',{attrs:{\"src\":require(\"@/assets/img/other/arrowdown.png\"),\"alt\":\"\"}}):_vm._e()]),_c('p',{staticClass:\"common-ratio\"},[_c('span',{staticClass:\"labelName\"},[_vm._v(\" 同比:\")]),_c('span',{attrs:{\"id\":\"dayHighestMapCommon\"}},[_vm._v(_vm._s(_vm.countRatio(_vm.dayHighestMap.compareToPreYearSameMonthRatio)))])])])])]),_vm._m(3)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"fs-19 month-title\"},[_c('span',{staticClass:\"compareMonth\"}),_vm._v(\"月月积累:\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"fs-19 month-title\"},[_c('span',{staticClass:\"compareMonth\"}),_vm._v(\"月日平均:\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('p',{staticClass:\"fs-19 month-title\"},[_c('span',{staticClass:\"compareMonth\"}),_vm._v(\"月单日最高:\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"echart-wra\"},[_c('div',{staticStyle:{\"height\":\"100%\",\"width\":\"100%\"},attrs:{\"id\":\"compareEcharts\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"compareRatio-wra\">\r\n    <div class=\"search-wra\">\r\n      <span>请选择要查询的月份:</span>\r\n       <el-date-picker\r\n          v-model=\"dateVal\"\r\n          type=\"month\"\r\n          size='mini'\r\n          @change=\"pickerChange\"\r\n          placeholder=\"选择月\">\r\n        </el-date-picker>\r\n        <el-label style=\"margin-left: 30px; font-weight: bold\">{{GAS_NAME}}表：</el-label>\r\n        <el-select\r\n          size=\"mini\"\r\n          v-model=\"value1\"\r\n          filterable\r\n          multiple\r\n          placeholder=\"请选择\"\r\n        >\r\n          <el-option\r\n            v-for=\"item in options\"\r\n            :key=\"item.value\"\r\n            :label=\"item.label\"\r\n            :value=\"item.value\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n        <el-button style=\"margin-left: 5px\" size=\"mini\" type=\"primary\" @click=\"searchData\"\r\n          >查询{{GAS_NAME}}表</el-button\r\n        >\r\n    </div>\r\n    <div class=\"count-wra flex-box\">\r\n        <div class=\"item-count flex-box\">\r\n            <div class=\"month-count\">\r\n                <p class=\"fs-19 month-title\"><span class=\"compareMonth\"></span>月月积累:</p>\r\n                <p class=\"month-val\"><span id=\"sumMap\">{{sumMap.targetMonth}}</span><sub style=\"font-size: 12px;\">m³</sub></p>\r\n            </div>\r\n            <div class=\"ratio-con\">\r\n                <p class=\"loop-ratio\"><span class=\"labelName\">\r\n                  环比:</span><span id=\"sumMapLoop\" :class=\"['ratio-val', {'down': !sumMapVal}]\">{{countRatio(sumMap.compareToPreMonthRatio)}}</span>\r\n                  <img v-if=\"sumMapVal && sumMap.compareToPreMonthRatio != 0\" src=\"@/assets/img/other/arrowup.png\" alt=\"\"/>\r\n                  <img v-if=\"!sumMapVal && sumMap.compareToPreMonthRatio != 0\" src=\"@/assets/img/other/arrowdown.png\" alt=\"\"/>\r\n                </p>\r\n                <p class=\"common-ratio\"><span class=\"labelName\">\r\n                  同比:</span><span id=\"sumMapCommon\">{{countRatio(sumMap.compareToPreYearSameMonthRatio)}}</span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div class=\"item-count flex-box\">\r\n            <div class=\"month-count\">\r\n                <p class=\"fs-19 month-title\"><span class=\"compareMonth\"></span>月日平均:</p>\r\n                <p class=\"month-val\"><span id=\"avgMap\">{{avgMap.targetMonth}}</span><sub style=\"font-size: 12px;\">m³</sub></p>\r\n            </div>\r\n            <div class=\"ratio-con\">\r\n                <p class=\"loop-ratio\"><span class=\"labelName\">\r\n                  环比:</span><span id=\"avgMapLoop\" :class=\"['ratio-val', {'down': !avgMapVal}]\">{{countRatio(avgMap.compareToPreMonthRatio)}}</span>\r\n                  <img v-if=\"avgMapVal && avgMap.compareToPreMonthRatio != 0\" src=\"@/assets/img/other/arrowup.png\" alt=\"\"/>\r\n                  <img v-if=\"!avgMapVal && avgMap.compareToPreMonthRatio != 0\" src=\"@/assets/img/other/arrowdown.png\" alt=\"\"/>\r\n                </p>\r\n                <p class=\"common-ratio\"><span class=\"labelName\">\r\n                  同比:</span><span id=\"avgMapCommon\">{{countRatio(avgMap.compareToPreYearSameMonthRatio)}}</span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div class=\"item-count flex-box\">\r\n            <div class=\"month-count\">\r\n                <p class=\"fs-19 month-title\"><span class=\"compareMonth\"></span>月单日最高:</p>\r\n                <p class=\"month-val\"><span id=\"dayHighestMap\">{{dayHighestMap.targetMonth}}</span><sub style=\"font-size: 12px;\">m³</sub></p>\r\n            </div>\r\n            <div class=\"ratio-con\">\r\n                <p class=\"loop-ratio\"><span class=\"labelName\">\r\n                  环比:</span><span id=\"dayHighestMapLoop\" :class=\"['ratio-val', {'down': !dayHighestMapVal}]\">{{countRatio(dayHighestMap.compareToPreMonthRatio)}}</span>\r\n                  <img v-if=\"dayHighestMapVal && avgMap.compareToPreMonthRatio != 0\" src=\"@/assets/img/other/arrowup.png\" alt=\"\"/>\r\n                  <img v-if=\"!dayHighestMapVal && avgMap.compareToPreMonthRatio != 0\" src=\"@/assets/img/other/arrowdown.png\" alt=\"\"/>\r\n                </p>\r\n                <p class=\"common-ratio\"><span class=\"labelName\">\r\n                  同比:</span><span id=\"dayHighestMapCommon\">{{countRatio(dayHighestMap.compareToPreYearSameMonthRatio)}}</span>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n   <div class=\"echart-wra\">\r\n        <div id=\"compareEcharts\" style=\"height: 100%; width: 100%\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GetCompare, deviceGetList } from '@/api/energyAll.js';\r\nimport { GAS_NAME } from '@/utils/ajaxConfigure';\r\nexport default {\r\n  name: 'waterAnalyze',\r\n  data() {\r\n    return {\r\n      GAS_NAME: GAS_NAME,\r\n      options: [],\r\n      value1: [],\r\n      dateVal: '',\r\n      sumMap: {}, // 月积累\r\n      avgMap: {}, // 月平均\r\n      dayHighestMap: {} // 单日最高\r\n    };\r\n  },\r\n  created() {\r\n    this.showElectricMac();\r\n    this.dateVal = this.getCurrentMonth();\r\n    this.$nextTick(() => {\r\n      this.loadData(this.dateVal);\r\n    });\r\n  },\r\n  computed: {\r\n    sumMapVal: function() {\r\n      return this.sumMap.compareToPreMonthRatio > 0;\r\n    },\r\n    avgMapVal: function() {\r\n      return this.avgMap.compareToPreMonthRatio > 0;\r\n    },\r\n    dayHighestMapVal: function() {\r\n      return this.dayHighestMap.compareToPreMonthRatio > 0;\r\n    }\r\n  },\r\n  methods: {\r\n    searchData() {\r\n      this.loadData(this.dateVal);\r\n    },\r\n    showElectricMac() {\r\n      deviceGetList({ current: 1, size: 999999 },\r\n        {\r\n          conditionJson1: [\r\n            {\r\n              column: 'collectType',\r\n              current: 0,\r\n              operator: 0,\r\n              operatorGroup: 0,\r\n              ptype: 'string',\r\n              size: 0,\r\n              type: 'eq',\r\n              value: 'DefaultGasPreassure'\r\n            }\r\n          ]\r\n        }\r\n      ).then(res => {\r\n        this.options = [];\r\n        console.log(res.rows);\r\n        for (var i = 0; i < res.rows.length; i++) {\r\n          this.options.push({\r\n            label: res.rows[i].deviceName,\r\n            value: res.rows[i].deviceCode\r\n          });\r\n        }\r\n      });\r\n    },\r\n    loadData(date) {\r\n      const param = {\r\n        energyType: 'GAS',\r\n        month: date\r\n      };\r\n      if (this.value1.length > 0) {\r\n        param.meterCodeList = this.value1;\r\n      }\r\n      GetCompare(param).then(res => {\r\n        const { dayOrder, targetMonthUsages, preMonthUsages, lastYearMonthUsages, sumMap, avgMap, dayHighestMap } = res.rows;\r\n        this.sumMap = sumMap;\r\n        this.avgMap = avgMap;\r\n        this.dayHighestMap = dayHighestMap;\r\n        this.dataDeal(dayOrder, targetMonthUsages, preMonthUsages, lastYearMonthUsages);\r\n\r\n        this.sumMap.targetMonth = Number(this.sumMap.targetMonth.toFixed(2));\r\n        this.dayHighestMap.targetMonth = Number(this.dayHighestMap.targetMonth.toFixed(2));\r\n        this.avgMap.targetMonth = Number(this.avgMap.targetMonth.toFixed(2));\r\n      });\r\n    },\r\n    dataDeal(dayOrder = [], targetMonthUsages = [], preMonthUsages = [], lastYearMonthUsages = []) {\r\n      const xData = dayOrder.map(item => {\r\n        return item + '号';\r\n      });\r\n      this.showEcharts(xData, targetMonthUsages, preMonthUsages, lastYearMonthUsages);\r\n    },\r\n    getCurrentMonth(time) {\r\n      const date = time || new Date();\r\n      const year = date.getFullYear();\r\n      const month = ('0' + (date.getMonth() + 1)).substr(-2);\r\n      return year + '-' + month;\r\n    },\r\n    getLastMonth() {\r\n      var dd = new Date(this.dateVal);\r\n      var m = dd.getMonth() + 1;\r\n      var y = dd.getMonth() + 1 - 1 > 12 ? (dd.getFullYear() + 1) : dd.getFullYear();\r\n      if (m - 1 === 0) {\r\n        y = y - 1;\r\n        m = 12;\r\n      } else {\r\n        if (m - 1 > 12) {\r\n          m = '01';\r\n        } else {\r\n          m = m + 1 < 10 ? '0' + (m - 1) : (m - 1);\r\n        }\r\n      }\r\n      return y + '-' + m;\r\n    },\r\n    getLastYear() {\r\n      var dd = new Date(this.dateVal);\r\n      var m = ('0' + (dd.getMonth() + 1)).substr(-2);\r\n      var y = dd.getFullYear() - 1;\r\n      return y + '-' + m;\r\n    },\r\n    // 计算环比   (本月 - 上月) / 上月    计算同比  (本月 - 上年同月) / 上年同月\r\n    countRatio(val) {\r\n      if (isNaN(val)) {\r\n        return '--%';\r\n      } else {\r\n        return (val * 100).toFixed(2) + '%';\r\n      }\r\n    },\r\n    pickerChange() {\r\n      const data = this.getCurrentMonth(this.dateVal);\r\n      this.loadData(data);\r\n    },\r\n    showEcharts(xAxisData = [], seriesData1 = [], seriesData2 = [], seriesData3 = []) {\r\n      const options = {\r\n        color: ['#0B73DC', '#E30000', '#F6B900'],\r\n        title: {\r\n          text: '所选/环比/同比月份用' + GAS_NAME + '趋势图',\r\n          textStyle: {\r\n            color: '#0871DC'\r\n          }\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          formatter: function(data) {\r\n            let res = data[0].name + '<br/>';\r\n            let val;\r\n            for (let i = 0; i < data.length; i++) {\r\n              val = data[i].value.toFixed(2);\r\n\r\n              res += '<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:' + data[i].color + ';\"></span>' + data[i].seriesName + '：' + val + '<br/>';\r\n            }\r\n            return res;\r\n          }\r\n        },\r\n        legend: {\r\n          right: '5%',\r\n          data: ['所选月份', '所选环比 ' + this.getLastMonth(), '所选同比 ' + this.getLastYear()]\r\n        },\r\n        grid: {\r\n          left: '1%',\r\n          right: '4%',\r\n          bottom: '4%',\r\n          containLabel: true\r\n        },\r\n        toolbox: {\r\n          feature: {\r\n            saveAsImage: {}\r\n          }\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            name: '日期',\r\n            boundaryGap: false,\r\n            data: xAxisData\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value',\r\n            name: '单位：m³',\r\n            splitLine: {\r\n              show: false\r\n            }\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '所选月份',\r\n            type: 'line',\r\n            stack: '所选月份',\r\n            symbolSize: 8,\r\n            areaStyle: {\r\n              opacity: 0.1,\r\n              color: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                offset: 0, color: '#0871DC' // 0% 处的颜色\r\n              }, {\r\n                offset: 0.4, color: '#0871DC' // 100% 处的颜色\r\n              }, {\r\n                offset: 1, color: '#fff' // 100% 处的颜色\r\n              }]\r\n              ) // 背景渐变色\r\n            },\r\n            data: seriesData1\r\n          },\r\n          {\r\n            name: '所选环比 ' + this.getLastMonth(),\r\n            type: 'line',\r\n            stack: '环比月份',\r\n            symbolSize: 8,\r\n            areaStyle: {\r\n              opacity: 0.1,\r\n              color: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [{ // 颜色渐变函数 前四个参数分别表示四个位置依次为左、下、右、上\r\n                offset: 0, color: '#FF0000' // 0% 处的颜色\r\n              }, {\r\n                offset: 0.4, color: '#FF0000' // 100% 处的颜色\r\n              }, {\r\n                offset: 1, color: '#fff' // 100% 处的颜色\r\n              }]\r\n              ) // 背景渐变色\r\n            },\r\n            data: seriesData2\r\n          },\r\n          {\r\n            name: '所选同比 ' + this.getLastYear(),\r\n            type: 'line',\r\n            stack: '同比月份',\r\n            symbolSize: 8,\r\n            areaStyle: {\r\n              opacity: 0.1,\r\n              color: new this.$echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                offset: 0, color: '#F6B900' // 0% 处的颜色\r\n              }, {\r\n                offset: 0.4, color: '#F6B900' // 100% 处的颜色\r\n              }, {\r\n                offset: 1, color: '#fff' // 100% 处的颜色\r\n              }]\r\n              ) // 背景渐变色\r\n            },\r\n            data: seriesData3\r\n          }\r\n        ]\r\n      };\r\n      var myChart = this.$echarts.init(document.getElementById('compareEcharts'));\r\n      myChart.setOption(options);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n div {\r\n   box-sizing: border-box;\r\n }\r\n p {\r\n   margin: 0;\r\n   padding: 0;\r\n }\r\n .flex-box {\r\n    display: -webkit-box;\r\n    display: -webkit-flex;\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n    -webkit-box-align: center;\r\n    -ms-flex-align: center;\r\n    align-items: center;\r\n  }\r\n  .compareRatio-wra {\r\n    width: 100%;\r\n    height: 100%;\r\n    padding-left: 10px;\r\n    text-align: left;\r\n    .search-wra {\r\n      span {\r\n        margin-right: 5px;\r\n      }\r\n      .el-date-editor.el-input, .el-date-editor.el-input__inner {\r\n        width: 175px;\r\n      }\r\n    }\r\n    .count-wra {\r\n      width: 100%;\r\n      .item-count {\r\n        justify-content: space-between;\r\n        width: 25%;\r\n        height: 130px;\r\n        padding: 24px 15px 24px 20px;\r\n        margin-right: 30px;\r\n        margin-top: 10px;\r\n        background-color: #E3F0FD;\r\n        border-radius: 6px;\r\n      }\r\n      .month-title {\r\n          color: #121313;\r\n      }\r\n      .month-val {\r\n          color: #0871DC;\r\n          font-weight: bold;\r\n          margin-top: 15px;\r\n          span {\r\n            font-size: 30px;\r\n          }\r\n      }\r\n      .labelName {\r\n          margin-right: 5px;\r\n      }\r\n      .common-ratio {\r\n        margin-top: 10px;\r\n      }\r\n      .ratio-val {\r\n        color: #FF0000\r\n      }\r\n      .down {\r\n        color: #0871dc;\r\n      }\r\n    }\r\n    .echart-wra {\r\n      width: 100%;\r\n      height: calc( 100% -  180px);\r\n      margin-top: 10px;\r\n    }\r\n  }\r\n  .el-select {\r\n    width: 400px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compareRatio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./compareRatio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./compareRatio.vue?vue&type=template&id=0b858276&scoped=true&\"\nimport script from \"./compareRatio.vue?vue&type=script&lang=js&\"\nexport * from \"./compareRatio.vue?vue&type=script&lang=js&\"\nimport style0 from \"./compareRatio.vue?vue&type=style&index=0&id=0b858276&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b858276\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n <div class=\"electroWra\">\r\n  <el-header>\r\n    <HeaderTitle>\r\n      <div\r\n        slot=\"head-operation\"\r\n        class=\"head-operation\"\r\n      >\r\n        <HeadOperationItem\r\n          name=\"showInfo\"\r\n          v-if=\"currentView === 'useGasTable'\"\r\n          @onOprationItem=\"exportTable()\"\r\n        >\r\n          <i\r\n            slot=\"operation-icon\"\r\n            class=\"icon-export\"\r\n          ></i>\r\n          <span slot=\"operation-name\">{{BTN_TEXT.EXPORT}}</span>\r\n        </HeadOperationItem>\r\n      </div>\r\n    </HeaderTitle>\r\n  </el-header>\r\n  <div class=\"tabs\">\r\n    <ul class=\"flex-box\">\r\n      <li\r\n        v-for=\"(tab,index) in tabs\"\r\n        @click=\"toggle(index,tab.views)\"\r\n        :class=\"{active:active==index}\"\r\n        :key=\"index\"\r\n      >{{tab.name}}</li>\r\n    </ul>\r\n  </div>\r\n  <div class=\"mian-wra\">\r\n     <component\r\n              :is=\"currentView\"\r\n              :ref=\"currentView\"\r\n     ></component>\r\n  </div>\r\n </div>\r\n</template>\r\n\r\n<script>\r\nimport HeaderTitle from '@/components/common/PageNavBar/HeaderTitle';\r\nimport HeadOperationItem from '@/components/common/PageNavBar/HeadOperationItem';\r\nimport useGasTable from './usegasTable.vue';\r\nimport compareRatio from './compareRatio.vue';\r\nimport { BTN_TEXT } from '@/utils/constantsFile';\r\nimport { GAS_NAME } from '@/utils/ajaxConfigure';\r\nexport default {\r\n  name: 'electroAnalyze',\r\n  components: {\r\n    HeaderTitle,\r\n    HeadOperationItem,\r\n    useGasTable,\r\n    compareRatio\r\n  },\r\n  data() {\r\n    return {\r\n      GAS_NAME: GAS_NAME,\r\n      BTN_TEXT: BTN_TEXT,\r\n      active: 0,\r\n      currentView: 'useGasTable',\r\n      tabs: [\r\n        {\r\n          name: '用' + GAS_NAME + '负荷',\r\n          views: 'useGasTable'\r\n        },\r\n        {\r\n          name: '同比环比',\r\n          views: 'compareRatio'\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    exportTable() {\r\n      this.$refs.useGasTable.$refs.xGrid.exportDatax('用气负荷报表');\r\n    },\r\n    toggle(index, name) {\r\n      this.active = index;\r\n      this.currentView = name;\r\n    }\r\n  }\r\n};\r\n\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .flex-box {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  ul {\r\n    list-style: none;\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n  .electroWra {\r\n    width: 100%;\r\n    height: calc(100vh - 90px);\r\n    background-color: #fff;\r\n    line-height: 1.5;\r\n    overflow: hidden;\r\n    .el-header {\r\n        height: 41px !important;\r\n        border-bottom: 1px solid #ddd;\r\n      }\r\n    .tabs {\r\n      padding: 10px;\r\n      li {\r\n          height: 35px;\r\n          padding: 0 15px;\r\n          background-color: #fff;\r\n          color: #333;\r\n          font-size: 14px;\r\n          line-height: 36px;\r\n          text-align: center;\r\n          border: 1px solid #ddd;\r\n          cursor: default;\r\n        }\r\n      .active {\r\n        border-color: #0871DC;\r\n        background: #0871DC;\r\n        color: #fff;\r\n      }\r\n    }\r\n    .mian-wra {\r\n      height: calc( 100% - 100px );\r\n      padding-right: 10px;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1d09c1fe&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=1d09c1fe&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d09c1fe\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1d09c1fe&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=1d09c1fe&lang=less&scoped=true&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAANxJREFUOE9jZMABOApuNzAwMtaDpf//b/wxQbUBm1LGUQMYhlsYcBTcrmRgZGzDFbXQNFH1Y4JqO0wNahg03Ofg+Ph3DwMDgzUOQ47+4Gd2YWhQ/IHdAAYGBo7iu9EM//4vwWoAE2PMj17lpchyWGOBo/DOSgYGhjA0Q1b96FcJRzcYqwGsRff0mf/9O8bAyMAF8TfDt79MTFa/+5QuEmUASBFH0Z0mhv8MtWANjAzNP/pU6kjKTAyhq5g5ZI0ugTT9eHxOj2F12F/SDGBgYOAsvA0Oh+/9qqtwRS0ASzVuEWx3Q7oAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAKlJREFUOE/t0SFuAnEQxeFvMCgOgsWgkVWUU4CHgKSVEOrpKQoKia6p7UGqMPwJYZvAsrtgSRg38977ZTITKirRO8rBV5ktyoREDT+Z3gr2Rd4qwBCLLDQKPu4GJJr4RiML/aEd/OYhhRsklujnzJ/B4CYg0cWq5Davwfpcu9ggUccGnRLAFi/B7l/PA8aYVb0Wk2BeCDgPJt4wzWbvceqvquqNT8DDHPEAWAUxEfX4uiEAAAAASUVORK5CYII=\""],"sourceRoot":""}