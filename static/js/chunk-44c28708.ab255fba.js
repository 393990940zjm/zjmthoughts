(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-44c28708"],{"058a":function(e,t,n){},"517e":function(e,t,n){"use strict";var a=n("058a"),i=n.n(a);i.a},6464:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("5c96");function i(e,t){a["Notification"].error({title:e,message:t,duration:2e3,position:"bottom-right",showClose:!0})}},"6d43":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAABkCAYAAABnwAWdAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QkEwQTI5MDhENjIxMTFFQUEzNTdFOTc4OURGNDg1QkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QkEwQTI5MDlENjIxMTFFQUEzNTdFOTc4OURGNDg1QkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCQTBBMjkwNkQ2MjExMUVBQTM1N0U5Nzg5REY0ODVCRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCQTBBMjkwN0Q2MjExMUVBQTM1N0U5Nzg5REY0ODVCRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkeuNKsAAAX9SURBVHja7J1bbBRl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"},7598:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"s",(function(){return f})),n.d(t,"y",(function(){return v})),n.d(t,"x",(function(){return h})),n.d(t,"w",(function(){return g})),n.d(t,"H",(function(){return p})),n.d(t,"I",(function(){return w})),n.d(t,"j",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return C})),n.d(t,"o",(function(){return k})),n.d(t,"J",(function(){return T})),n.d(t,"t",(function(){return S})),n.d(t,"E",(function(){return x})),n.d(t,"A",(function(){return O})),n.d(t,"F",(function(){return D})),n.d(t,"z",(function(){return I})),n.d(t,"p",(function(){return L})),n.d(t,"n",(function(){return A})),n.d(t,"v",(function(){return j})),n.d(t,"u",(function(){return E})),n.d(t,"a",(function(){return R})),n.d(t,"C",(function(){return M})),n.d(t,"r",(function(){return F})),n.d(t,"q",(function(){return _})),n.d(t,"G",(function(){return N})),n.d(t,"D",(function(){return B})),n.d(t,"B",(function(){return z}));var a=n("b775"),i=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceRealLive/getDeviceRealState.action?",e,t)},r=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceRealLive/getDeviceStateReportStatistics.action?",e,t)},o=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceManager/getCheckCount.action?",e,t)},c=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceManager/getRepairTaskCount.action?",e,t)},s=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceManager/getMaintainTaskCount.action?",e,t)},l=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceReport/getDeviceDayUtilization.action?",e,t)},u=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceEarlyWarning/getDeviceWarnRecord.action?",e,t)},d=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceRealLive/getPageByDevice.action?",e,t)},f=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceRealLive/getDeviceMonitorReport.action?",e,t)},v=function(e,t){return Object(a["k"])("open-api/TvBoard/energyReport/getGasHoursUseReportBoard.action?",e,t)},h=function(e,t){return Object(a["k"])("open-api/TvBoard/energyReport/getEnergyTodayUse.action?",e,t)},g=function(e,t){return Object(a["k"])("open-api/TvBoard/energyReport/getEnergyTodayAndWeek.action?",e,t)},p=function(e,t){return Object(a["k"])("open-api/TvBoard/energyReport/getTodayAndYesterdayElectricityRecord.action?",e,t)},w=function(e,t){return Object(a["k"])("open-api/TvBoard/energyReport/getTopTenElectricityDevices.action?",e,t)},m=function(e,t){return Object(a["k"])("open-api/TvBoard/energyReport/getElectricityEnergyReport.action?",e,t)},b=function(e,t){return Object(a["k"])("open-api/TvBoard/energyReport/getWaterEnergyReport.action?",e,t)},y=function(e,t){return Object(a["k"])("open-api/TvBoard/energyReport/getGasEnergyReport.action?",e,t)},C=function(e,t){return Object(a["k"])("open-api/TvBoard/energyReport/getRecentDayEnergyRecord.action?",e,t)},k=function(e,t){return Object(a["k"])("realUserWork/getAndonKanbanOfRiSheng.action?",e,t)},T=function(e,t,n){return Object(a["k"])("existFunctionUpdate/listDeviceExceptionCount.action",e,t,n)},S=function(e,t,n){return Object(a["k"])("open-api/TvBoard/deviceReport/getDeviceStateReportStatistics.action?",e,t,n)},x=function(e,t,n){return Object(a["k"])("open-api/TvBoard/deviceManager/getRepairTask.action?",e,t,n)},O=function(e,t,n){return Object(a["k"])("open-api/TvBoard/deviceManager/getMaintainTask.action?",e,t,n)},D=function(e,t,n){return Object(a["d"])("open-api/getTime.action?",e,t,n)},I=function(e,t,n){return Object(a["k"])("open-api/getGroupTree.action?",e,t,n)},L=function(e,t,n){return Object(a["k"])("open-api/TvBoard/deviceManager/getConfigurationByEnum.action?",e,t,n)},A=function(e,t,n){return Object(a["k"])("open-api/TvBoard/device/getAllGroupAndDevice.action?",e,t,n)},j=function(e,t,n){return Object(a["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeFluctuationRate.action?",e,t,n)},E=function(e,t,n){return Object(a["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeCapacityAndEnergyEfficiency.action?",e,t,n)},R=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceRealLive/getOneDayDetailStateClockInfo.action?",e,t)},M=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceReport/getOneDayDetailStateClock.action?",e,t)},F=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceRealLive/getDeviceInfo.action?",e,t)},_=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceRealLive/getDeviceHoursEffTrend.action?",e,t)},N=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceRealLive/getTimeDayTypeProduction.action?",e,t)},B=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceReport/getQueryDeviceStateTimeUtilization.action?",e,t)},z=function(e,t){return Object(a["k"])("open-api/TvBoard/deviceRealLive/getManyDeviceTimeFluctuationRate.action?",e,t)}},7870:function(e,t,n){e.exports=n.p+"static/img/icon02.55b92e8f.png"},e6b2:function(e,t,n){e.exports=n.p+"static/img/icon01.845bb894.png"},eefa:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kanban"},[n("div",{staticClass:"titleHead"},[n("p",{attrs:{id:"pHead"}},[e._v(e._s(e.title))]),n("p",{attrs:{id:"time"}},[e._v(e._s(e.time))]),n("div",{class:e.showLogo()})]),n("div",{staticClass:"kanbanContent"},[n("div",{staticClass:"leftContent"},[n("div",{staticClass:"left1"},[n("div",{staticClass:"left1title"},[e._v("今日运行状态")]),n("div",{staticClass:"left1content"},[n("div",{staticClass:"left1_1"},[n("div",{ref:"echarts2",staticClass:"left1_1content",attrs:{id:"echarts2"}}),n("div",{staticClass:"left1_1title"},[e._v("运行状态分布")])]),n("div",{staticClass:"left1_2"},[n("div",{ref:"echarts3",staticClass:"left1_2content",attrs:{id:"echarts3"}}),n("div",{staticClass:"left1_2title"},[e._v(" 设备利用率 "),n("span",{attrs:{id:"UtilizNum"}},[e._v(e._s(e.UtilizNum)+"%")])])])]),n("div",{staticClass:"line"})]),n("div",{staticClass:"left2"},[n("div",{staticClass:"left2title"},[e._v("设备效率")]),n("div",{ref:"echarts1",staticClass:"left2content",attrs:{id:"echarts1"}}),n("div",{staticClass:"line"})]),n("div",{staticClass:"left3"},[n("div",{staticClass:"left3title"},[e._v("设备管理")]),n("div",{staticClass:"left3content"},[n("div",{staticClass:"left3_1"},[n("div",[n("p",{staticClass:"numFLag"},[e._v(e._s(e.repairCard.no))]),n("p",{staticClass:"titleFlag"},[e._v("未开始")])]),n("div",[n("p",{staticClass:"numFLag"},[e._v(e._s(e.repairCard.do))]),n("p",{staticClass:"titleFlag"},[e._v("维修中")])]),n("div",[n("p",{staticClass:"numFLag"},[e._v(e._s(e.repairCard.off))]),n("p",{staticClass:"titleFlag"},[e._v("已完成")])]),n("div",{staticClass:"title"},[e._v("维修任务统计")])]),n("div",{staticClass:"left3_2"},[n("div",[n("p",{staticClass:"numFLag"},[e._v(e._s(e.maintainCard.no))]),n("p",{staticClass:"titleFlag"},[e._v("未开始")])]),n("div",[n("p",{staticClass:"numFLag"},[e._v(e._s(e.maintainCard.do))]),n("p",{staticClass:"titleFlag"},[e._v("保养中")])]),n("div",[n("p",{staticClass:"numFLag"},[e._v(e._s(e.maintainCard.off))]),n("p",{staticClass:"titleFlag"},[e._v("已完成")])]),n("div",{staticClass:"title"},[e._v("保养任务统计")])]),n("div",{staticClass:"left3_3"},[n("div",[n("p",{staticClass:"numFLag"},[e._v(e._s(e.checkCard.no))]),n("p",{staticClass:"titleFlag"},[e._v("未开始")])]),n("div",[n("p",{staticClass:"numFLag"},[e._v(e._s(e.checkCard.do))]),n("p",{staticClass:"titleFlag"},[e._v("点检中")])]),n("div",[n("p",{staticClass:"numFLag"},[e._v(e._s(e.checkCard.off))]),n("p",{staticClass:"titleFlag"},[e._v("已完成")])]),n("div",{staticClass:"title"},[e._v("点检任务统计")])])]),n("div",{staticClass:"line"})])]),n("div",{staticClass:"rightContent"},[n("div",{staticClass:"right1"},[n("div",{staticClass:"right1title"},[e._v("设备分布")]),e._m(0),n("div",{ref:"right1content",staticClass:"right1content",attrs:{id:"right1content"},domProps:{innerHTML:e._s(e.devStateHtml)}})]),n("div",{staticClass:"right4"},[n("div",{staticClass:"right4title"},[e._v(" 能源统计 ")]),n("div",{staticClass:"energy"},[n("div",{staticClass:"energyTask"},[n("div",{staticClass:"item"},[e._m(1),n("div",{staticClass:"itemText"},[n("p",[e._v("月全厂电耗")]),n("p",{staticClass:"fontColor1"},[e._v(" "+e._s(e.cardData.electricMonth)+" "),n("span",[e._v("KW·H")])])])]),n("div",{staticClass:"item"},[e._m(2),n("div",{staticClass:"itemText"},[n("p",[e._v("月全厂水耗")]),n("p",{staticClass:"fontColor2"},[e._v(" "+e._s(e.cardData.waterMonth)+" "),n("span",[e._v("m³")])])])]),n("div",{staticClass:"item"},[e._m(3),n("div",{staticClass:"itemText"},[n("p",[e._v("月全厂汽耗")]),n("p",{staticClass:"fontColor3"},[e._v(" "+e._s(e.cardData.gasMonth)+" "),n("span",[e._v("m³")])])])])]),n("div",{staticClass:"chartDiv"},[n("div",{staticClass:"chartTask"},[n("div",{ref:"electricChart",staticClass:"electricChart"})]),n("div",{staticClass:"chartTask"},[n("div",{ref:"waterChart",staticClass:"waterChart"})]),n("div",{staticClass:"chartTask"},[n("div",{ref:"gasChart",staticClass:"gasChart"})])])])])])])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"devLegen"},[n("div",{staticClass:"yxLege"}),n("div",{staticClass:"legeTitle"},[e._v("运行")]),n("div",{staticClass:"kxLege"}),n("div",{staticClass:"legeTitle"},[e._v("空闲")]),n("div",{staticClass:"lxLege"}),n("div",{staticClass:"legeTitle"},[e._v("离线")]),n("div",{staticClass:"gjLege"}),n("div",{staticClass:"legeTitle"},[e._v("告警")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"itemImg"},[a("img",{attrs:{src:n("e6b2")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"itemImg"},[a("img",{attrs:{src:n("7870")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"itemImg"},[a("img",{attrs:{src:n("6d43")}})])}],r=(n("99af"),n("4de4"),n("4160"),n("c975"),n("a15b"),n("fb6a"),n("b0c0"),n("a9e3"),n("b680"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("159b"),n("96cf"),n("1da1")),o=n("1157"),c=n.n(o),s=n("99f6"),l=n("f82c"),u=n("7598"),d=n("582a"),f=(n("6464"),n("ef53")),v={name:"kanban",data:function(){return{title:"",groupId:0,timer:{},timer4:{},time:"",warnHtml:"",devStateHtml:"",UtilizNum:0,devList:[],devLbIndex:0,warnList:[],productTaskData:[],rowDeviceNum:10,repairCard:{no:0,do:0,off:0},maintainCard:{no:0,do:0,off:0},checkCard:{no:0,do:0,off:0},cardData:{electricMonth:0,waterMonth:0,gasMonth:0,ratioGrowth:0},current:1,size:6,current_w:1,size_w:4,kanbanConfig:{title:"数字化车间看板",key:"",time:15e3},electricList:[],todayElecticeNum:0}},mounted:function(){var e=this.$refs.right1content;console.log(e.right1content);var t=e;this.finga(t)},created:function(){var e=this,t=this;s["m"][this.getUrlKeyMain("cid",window.location.href)]&&(t.kanbanConfig=s["m"][this.getUrlKeyMain("cid",window.location.href)]),console.log(this.getUrlKeyMain("tvNo",window.location.href)),null!==this.getUrlKeyMain("tvNo",window.location.href)?(this.title=t.kanbanConfig.group[this.getUrlKeyMain("tvNo",window.location.href)].title,this.groupId=t.kanbanConfig.group[this.getUrlKeyMain("tvNo",window.location.href)].id):this.title=t.kanbanConfig.title,this.getDataTime(),this.$nextTick((function(){e.showLineAndDev(),e.init()})),setInterval((function(){e.showLineAndDev()}),5e3),t.kanbanConfig?setTimeout((function(){setInterval((function(){t.init()}),t.kanbanConfig.time)}),0):setTimeout((function(){setInterval((function(){t.init()}),15e3)}),0)},methods:{init:function(){this.showEchartsData(),this.showEcharts2Data(),this.showEcharts3Data(),this.showDevManagerData(),this.getCardData(),this.getElectricLine(),this.getWaterLine(),this.getGasLine()},finga:function(e){var t=this;console.log(666),this.timer=setInterval((function(){e.scrollTop+=1,console.log(e.clientHeight,e.scrollTop,e.scrollHeight),e.clientHeight+e.scrollTop===e.scrollHeight-3&&(clearInterval(t.timer),setTimeout((function(){e.scrollTop=0}),2e3),setTimeout((function(){t.finga(e)}),4e3))}),50)},showElectric:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={current:1,size:99999999},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),t.next=5,Object(u["x"])({energyEnum:"ELECTRICITY"},n);case 5:a=t.sent,a.code===d["M"].OPERATION_SUCCESS&&(e.electricList=a.rows),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:return t.prev=11,t.finish(11);case 13:return t.prev=13,n={},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),t.next=18,Object(u["w"])({},n);case 18:i=t.sent,i.code===d["M"].OPERATION_SUCCESS&&(e.todayElecticeNum=i.rows.electricityStatistics.dayEnergyConsumption),t.next=24;break;case 22:t.prev=22,t.t1=t["catch"](13);case 24:return t.prev=24,t.finish(24);case 26:case"end":return t.stop()}}),t,null,[[0,9,11,13],[13,22,24,26]])})))()},showEchartsData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.devList.length&&e.devLbIndex!==e.devList.length-1){t.next=17;break}return t.prev=1,n={},console.log("7788",localStorage.getItem("companyId")),localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),e.groupId>0&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.next=8,Object(u["g"])({current:1,size:99999,startTime:Object(l["h"])(e.dataTime),endTime:Object(l["i"])(e.dataTime)},n);case 8:a=t.sent,a.code===d["M"].OPERATION_SUCCESS&&(e.devList=a.rows,e.getDeviceTimeRecentDayUtilization(),e.devLbIndex=0),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),console.log(t.t0);case 15:t.next=19;break;case 17:e.getDeviceTimeRecentDayUtilization(),e.devLbIndex++;case 19:case"end":return t.stop()}}),t,null,[[1,12]])})))()},getDeviceTimeRecentDayUtilization:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r,o,c,s,l,v,h;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={conditionJson1:[{column:"deviceCode",operator:1,ptype:"string",type:"eq",value:e.devList[e.devLbIndex].deviceCode}]},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),console.log("lalal",n),t.next=6,Object(u["i"])({startTime:Object(f["b"])(7)+" 00:00:00",endTime:Object(f["b"])(0)+" 23:59:59"},n);case 6:if(a=t.sent,a.code===d["M"].OPERATION_SUCCESS){for(i=[],r=[],o=[],c=[],s=0,l=0;l<a.rows.length;l++)i.push(Number((100*a.rows[l].value).toFixed(2))),o.push(e.formatDateThree(a.rows[l].time)),c.push(Number((100*a.rows[l].value).toFixed(2))),s+=a.rows[l].value;for(v=(s/c.length*100).toFixed(2),h=0;h<c.length;h++)r.push(Number(v));e.showEcharts(i,r,o,Math.min.apply(null,c)-5,Math.max.apply(null,c)+5,e.devList[e.devLbIndex].deviceName)}t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))()},showDevManagerData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),e.groupId>0&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.prev=3,t.next=6,Object(u["c"])({},n);case 6:a=t.sent,a.code===d["M"].OPERATION_SUCCESS&&(void 0===a.rows.waitCount?(e.checkCard.no=0,e.checkCard.do=0,e.checkCard.off=0):(e.checkCard.no=a.rows.waitCount,e.checkCard.do=a.rows.ingCount,e.checkCard.off=a.rows.finishCount)),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,t.finish(12);case 14:return t.prev=14,t.next=17,Object(u["e"])({},n);case 17:i=t.sent,i.code===d["M"].OPERATION_SUCCESS&&(e.repairCard.no=i.rows.waitCount,e.repairCard.do=i.rows.ingCount,e.repairCard.off=i.rows.finishCount),t.next=23;break;case 21:t.prev=21,t.t1=t["catch"](14);case 23:return t.prev=23,t.finish(23);case 25:return t.prev=25,t.next=28,Object(u["d"])({},n);case 28:r=t.sent,r.code===d["M"].OPERATION_SUCCESS&&(e.maintainCard.no=r.rows.waitCount,e.maintainCard.do=r.rows.ingCount,e.maintainCard.off=r.rows.finishCount),t.next=34;break;case 32:t.prev=32,t.t2=t["catch"](25);case 34:return t.prev=34,t.finish(34);case 36:case"end":return t.stop()}}),t,null,[[3,10,12,14],[14,21,23,25],[25,32,34,36]])})))()},showEcharts2Data:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),e.groupId>0&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.prev=3,t.next=6,Object(u["f"])({},n);case 6:a=t.sent,a.code===d["M"].OPERATION_SUCCESS&&e.showEcharts2([{name:"运行",value:a.rows.runCount},{name:"空闲",value:a.rows.idleCount},{name:"离线",value:a.rows.offLineCount},{name:"告警",value:a.rows.warnCount}]),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[3,10,12,14]])})))()},showEcharts3Data:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[]},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),e.groupId>0&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.prev=3,t.next=6,Object(u["i"])({startTime:Object(l["h"])(e.dataTime),endTime:Object(l["i"])(e.dataTime)},n);case 6:a=t.sent,a.code===d["M"].OPERATION_SUCCESS&&(i=parseInt(100*a.rows[0].value),e.showEcharts3(i),e.UtilizNum=i),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[3,10,12,14]])})))()},showEcharts4Data:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r,o,c,s,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),e.groupId>0&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.prev=3,t.next=6,Object(u["g"])({current:e.current,size:e.size,startTime:Object(l["h"])(e.dataTime),endTime:Object(l["i"])(e.dataTime)},n);case 6:if(a=t.sent,a.code===d["M"].OPERATION_SUCCESS){for(e.current*e.size>=a.total?e.current=1:e.current++,i=[],r=[],o=[],c=[],s=[],f=0;f<a.rows.length;f++)v=a.rows[f].deviceLiveReportVo.runTimeSum+a.rows[f].deviceLiveReportVo.idleTimeSum+a.rows[f].deviceLiveReportVo.offlineTimeSum+a.rows[f].deviceLiveReportVo.warnTimeSum,i.push(a.rows[f].deviceLiveReportVo.runTimeSum/v*100),o.push(a.rows[f].deviceLiveReportVo.offlineTimeSum/v*100),r.push(a.rows[f].deviceLiveReportVo.idleTimeSum/v*100),c.push(a.rows[f].deviceLiveReportVo.warnTimeSum/v*100),s.push(a.rows[f].deviceName);e.showEcharts4(i,r,o,c,s)}t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](3),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})))()},showLineAndDev:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r,o,c,s,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[],current:1,size:99999999},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),e.groupId>0&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.prev=3,t.next=6,Object(u["h"])({startTime:Object(l["h"])(e.dataTime),endTime:Object(l["i"])(e.dataTime)},n);case 6:if(a=t.sent,a.code===d["M"].OPERATION_SUCCESS){for(i=[],r=[],o=a.rows,c=0;c<o.length;c++)s="",s=o[c].productionLine?o[c].productionLine:o[c].workshop?o[c].workshop:o[c].factory?o[c].factory:"其他",f=i.indexOf(s),-1===f?(i.push(s),r.push({lineName:s,devListData:[o[c]]})):r[f].devListData.push(o[c]);e.htmlDevState(r)}t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[3,10,12,14]])})))()},htmlDevState:function(e){this.devStateHtml="";var t=9,n=75,a=!0;window.screen.width<=1024?(t=6,n=24,a=!1):window.screen.width<=1280&&(t=8,n=32,a=!1);for(var i=.3*this.$refs.right1content.offsetHeight-n,r=e,o="",c=0;c<r.length;c++){var s=Math.ceil(r[c].devListData.length/t),l=0,u=0;if(0!==c){var d=Math.ceil(r[c-1].devListData.length/t);o+=d>=2?a?'<div class="lineCON" style="margin-top:'+1.1*d*i+'px;" >':'<div class="lineCON" style="margin-top:'+(d-1)*i+'px;" >':'<div class="lineCON" >'}else o+='<div class="lineCON" >';o+='      <p class="lineName" >'+r[c].lineName+"</p>";for(var f=0;f<s;f++){r[c].devList<=t?u+=r[c].devListData.length:(l+1)*t>r[c].devListData.length?u+=r[c].devListData.length%t:u+=t,l++,o+='      <div class="lineDev" >',o+='        <div class="blackDev" >';for(var v=0;v<t;v++)o+='       <div class="blackTask" ></div>';o+='           <div class="blackLine" ></div>',o+="           </div>",o+='           <div class="blackState" >';for(var h=f*t;h<u;h++)o+='           <div class="devTask state'+r[c].devListData[h].deviceRealState+'" >',1===r[c].devListData[h].isProductionCount?o+='          <span class="devTask_span2"  >'+r[c].devListData[h].todayValue+"</span>":o+='          <span class="devTask_span2"  ></span>',o+="          <p>"+r[c].devListData[h].deviceName+"</p>",o+="           </div>";o+="          </div>",o+="      </div>"}o+="</div>"}this.devStateHtml=o},scrollDev:function(){var e,t=this,n=this;this.timer=setInterval((function(){t.$nextTick((function(){t.$refs.right1content.scrollTop===e?(clearInterval(t.timer),setTimeout((function(){t.showLineAndDev()}),2500)):(e=n.$refs.right1content.scrollTop,t.$refs.right1content.scrollTo(0,e+1))}))}),50)},showWarn:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.screen.width<=1024&&(e.size_w=3),n={current:e.current_w,size:e.size_w},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),e.groupId>0&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.prev=4,t.next=7,Object(u["b"])({processStateEnum:"UN_PROCESS"},n);case 7:a=t.sent,a.code===d["M"].OPERATION_SUCCESS&&(e.current_w*e.size_w>=a.total?e.current_w=1:e.current_w++,e.warnList=a.rows),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()},showEcharts:function(e,t,n,a,i,r){var o=["#36CE9E","#0090FF","#FFC005","#FF515A","#8B5CFF","#00CA69"],c=function(e,t){var n="",a=/^#[\da-f]{6}$/i;return a.test(e)&&(n="rgba(".concat(parseInt("0x"+e.slice(1,3)),",").concat(parseInt("0x"+e.slice(3,5)),",").concat(parseInt("0x"+e.slice(5,7)),",").concat(t,")")),n},s={a:50,b:35,c:18,d:[15,0,0,40]};window.screen.width<=1024?s={a:30,b:25,c:8,d:[5,0,0,10]}:window.screen.width<=1280&&(s={a:30,b:20,c:12,d:[5,0,0,20]});var l=this.$echarts.init(this.$refs.echarts1),u={color:o,title:{text:r,padding:s.d,left:"left",textStyle:{color:"#fff",fontSize:s.c}},legend:{itemHeight:5,right:10,top:0,icon:"roundRect",textStyle:{verticalAlign:"middle",color:"#ffffff"}},grid:{top:s.a,bottom:s.b},xAxis:[{type:"category",boundaryGap:!1,axisLabel:{formatter:"{value}",fontSize:s.c,textStyle:{color:"#fff"}},data:n}],yAxis:[{min:a,max:i,type:"value",axisLabel:{fontSize:s.c,textStyle:{color:"#fff"}},nameTextStyle:{color:"#fff",fontSize:12,lineHeight:40},splitLine:{lineStyle:{color:"rgba(150, 164, 244, 0.2)"}},axisLine:{show:!1},axisTick:{show:!1}}],series:[{name:"平均效率",type:"line",zlevel:3,showSymbol:!1,lineStyle:{normal:{color:o[0],shadowBlur:3}},data:t},{name:"设备效率",type:"line",zlevel:3,showSymbol:!1,lineStyle:{normal:{color:o[1],shadowBlur:3,shadowColor:c(o[1],.5),shadowOffsetY:8}},areaStyle:{normal:{color:this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:c(o[1],.3)},{offset:1,color:c(o[1],.1)}],!1),shadowColor:c(o[1],.1),shadowBlur:10}},data:e}]};l.setOption(u,!0),window.addEventListener("resize",(function(){l.resize()}))},showEcharts2:function(e){var t={a:15,b:[5,0,5,0],c:"1%",d:["35%","50%"],e:15,f:15};window.screen.width<=1024?t={a:10,b:[0,0,0,0],c:"0%",d:["30%","50%"],e:10,f:10}:window.screen.width<=1280&&(t={a:12,b:[2,0,2,0],c:"0%",d:["30%","50%"],e:12,f:12});var n=this.$echarts.init(this.$refs.echarts2),a=["#09DBA0","#E2CD16","#A0A0A0","#F1464E"],i=["运行","空闲","离线","告警"],r={color:a,grid:{top:"15%",left:0,right:t.c,bottom:5,containLabel:!0},legend:{orient:"vertical",top:"center",right:0,itemWidth:t.e,itemHeight:t.f,textStyle:{color:"#ffffff",align:"left",verticalAlign:"middle",rich:{name:{color:"rgba(255,255,255,1)",fontSize:t.a,padding:t.b},value:{color:"rgba(255,255,255,0.5)",fontSize:t.a},rate:{color:"rgba(255,255,255,0.9)",fontSize:t.a}}},data:i,formatter:function(t){if(e.length){var n=e.filter((function(e){return e.name===t}))[0];return"{name|".concat(t,":}{rate| ").concat(n.value,"台}")}}},series:[{name:"需求类型占比",color:["rgba(75, 243, 249, 0.2)"],type:"pie",center:t.d,radius:["45%","75%"],label:{normal:{show:!1},emphasis:{show:!0,textStyle:{fontSize:"12"}}},labelLine:{show:!1,length:0,length2:0},data:[{name:"全部",value:100}]},{name:"需求类型占比",type:"pie",center:t.d,radius:["45%","68%"],label:{normal:{show:!1},emphasis:{show:!0,textStyle:{fontSize:"12"}}},labelLine:{show:!1,length:0,length2:0},data:e}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))},showEcharts3:function(e){var t={a:"80%",b:"65%",c:"70%",d:"31%",e:12};window.screen.width<=1024?t={a:"80%",b:"65%",c:"70%",d:"30%",e:2}:window.screen.width<=1280&&(t={a:"80%",b:"65%",c:"70%",d:"30%",e:10});var n=this.$echarts.init(this.$refs.echarts3),a=e,i=100,r={legend:{show:!1},series:[{name:"最外部进度条",type:"gauge",radius:t.a,splitNumber:10,axisLine:{lineStyle:{color:[[.2,"#02d5ff"],[.4,"#009eff"],[.6,"#0072ff"],[.8,"#a82dff"],[1,"#e92dff"]],width:10}},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{show:!1},title:{show:!1},data:[{name:"title",value:a}],pointer:{show:!1},animationDuration:4e3},{name:"刻度尺",type:"gauge",radius:t.b,splitNumber:10,min:0,max:i,axisLine:{lineStyle:{color:[[1,{type:"radial",x:.5,y:.6,r:.6,colorStops:[{offset:.85,color:"#031F46"},{offset:.93,color:"#086989"},{offset:1,color:"#12D7EF"}]}]],width:500}},splitLine:{show:!0,length:14,lineStyle:{width:3,color:"#12E5FE"}},axisTick:{show:!0,splitNumber:18,lineStyle:{color:"#12E5FE",width:1},length:5},axisLabel:{distance:2,color:"#CEF3FE",fontSize:t.e},detail:{show:!1},animationDuration:4e3},{name:"外部指针",type:"gauge",radius:t.c,axisLine:{lineStyle:{color:[[a/i-.001,"rgba(0,0,0,0)"],[a/i+.003,"#C34743"],[1,"rgba(0,0,0,0)"]],width:80}},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{show:!1},title:{show:!1},data:[{name:"title",value:a}],pointer:{show:!1},animationDuration:4e3},{name:"内层带指针",type:"gauge",radius:t.d,splitNumber:10,min:0,max:100,axisLine:{lineStyle:{color:[[1,{type:"radial",x:.5,y:.59,r:.6,colorStops:[{offset:.72,color:"#032046"},{offset:.94,color:"#086989"},{offset:.98,color:"#0FAFCB"},{offset:1,color:"#0EA4C1"}]}]],width:1e3}},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},pointer:{show:!0,length:"95%",width:5},itemStyle:{color:"#12E5FF"},data:[{value:a}],detail:{show:!1}}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))},showEcharts4:function(e,t,n,a,i){var r=this,o={a:30,b:10,c:14,d:12,e:"15%"};window.screen.width<=1024?o={a:10,b:8,c:11,d:8,e:"20%"}:window.screen.width<=1280&&(o={a:10,b:10,c:11,d:11,e:"17%"});var c=this.$echarts.init(this.$refs.echarts4),s=["#F1464E","#A0A0A0","#E2CD16","#09DBA0"],l={title:{text:"",left:19,top:15,textStyle:{color:"#fff"}},color:s,legend:{top:0,right:10,itemWidth:o.a,itemHeight:o.b,textStyle:{fontSize:o.c,color:"#fff",padding:[3,0,0,0]},data:[]},grid:{top:o.e,left:"3%",right:"4%",bottom:"10%",containLabel:!0},xAxis:{type:"category",axisLabel:{interval:0,color:"#fff",fontSize:o.d,formatter:function(e,t){return r.nameFormat(e,5,1)}},axisLine:{lineStyle:{color:"#0442AE"},width:5},axisTick:{show:!1},data:[]},yAxis:{name:"",type:"value",axisLabel:{show:!1,color:"#fff"},axisLine:{lineStyle:{color:"#0442AE"},width:5},axisTick:{show:!1},splitLine:{show:!1}},series:[]};l.series.push({name:"告警",type:"bar",stack:"总量",barWidth:"20%",label:{show:!1,position:"insideRight"},data:a}),l.series.push({name:"离线",type:"bar",stack:"总量",barWidth:"20%",label:{show:!1,position:"insideRight"},data:n}),l.series.push({name:"空闲",type:"bar",stack:"总量",barWidth:"20%",label:{show:!1,position:"insideRight"},data:t}),l.series.push({name:"运行",type:"bar",stack:"总量",barWidth:"20%",label:{show:!1,position:"insideRight"},data:e}),l.legend.data=["运行","空闲","离线","告警"],l.xAxis.data=i,c.setOption(l,!0),window.addEventListener("resize",(function(){c.resize()}))},nameFormat:function(e,t,n){var a=e,i=t,r=t,o=1;if(a.length>2*t+1){var c=a.split("|");c.length>1&&(c[0].length<t&&(i=c[0].length,r=2*t-c[0].length),c[1].length<t&&(i=2*t-c[1].length,r=c[1].length),c[0]=c[0].substring(0,i),c[1]=c[1].substring(0,r),null!=c&&(a=c.join("|")))}else{c=a.split("|");c.length>1&&(c[0].length<t&&c[1].length<t&&(o=0),null!=c&&(a=c.join("|")))}return 1===n&&(1===o?a=a.substring(0,a.length/2)+"\n"+a.substring(a.length/2):0===o&&(a=a.split("|").join("\n"))),a},tick:function(){var e=new Date,t=e.getYear();t<1900&&(t+=1900);var n=e.getMonth()+1;n<10&&(n="0"+n);var a=e.getDate();a<10&&(a="0"+a);var i=e.getHours();i<10&&(i="0"+i);var r=e.getMinutes();r<10&&(r="0"+r);var o=e.getSeconds();o<10&&(o="0"+o),this.time=t+" 年 "+n+" 月 "+a+" 日 "+i+" : "+r+" : "+o},getDataTime:function(){this.dataTime=new Date(c.a.ajax({type:"HEAD",async:!1}).getResponseHeader("Date")).getTime(),console.log("时间",c.a.ajax({type:"HEAD",async:!1}).getResponseHeader("Date")),this.toGetTime()},toGetTime:function(){var e=this;setInterval((function(){var t=new Date(e.dataTime),n=t.getFullYear(),a=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate(),r=t.getHours()<10?"0"+t.getHours():t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),c=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();e.time=n+" 年 "+a+" 月 "+i+" 日   "+r+":"+o+":"+c,e.dataTime+=1e3}),1e3)},showLogo:function(){return"logo_"+this.kanbanConfig.logo},getUrlKeyMain:function(e,t){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null},formatDateThree:function(e){var t="",n="";t=new Date(e);var a=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate();return n=a+"-"+i,n},limitMoveNum:function(){var e=0;return this.productTaskData.forEach((function(t){e+=t.length})),e>2?1:3},drawOne:function(e,t,n,a){var i={};window.screen.width<=1024?i={x:8,y:8,s:6}:window.screen.width<=1280&&(i={x:10,y:10,s:8});var r=this.$echarts.init(this.$refs[a]),o={color:["#ddd","#fff"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:2,top:20,bottom:10,containLabel:!0},calculable:!0,xAxis:[{name:"",nameTextStyle:{color:"#929ee6",fontSize:10,textShadowColor:"#000",textShadowOffsetY:2},boundaryGap:!1,type:"category",data:e,axisLine:{show:!0,lineStyle:{width:2,color:"#2077a3"},symbol:["none","arrow"]},axisLabel:{interval:0,color:"#929ee6",fontSize:i.x,textShadowColor:"#000",textShadowOffsetY:2,formatter:function(e){var t="",n=e.length,a=8,i=Math.ceil(n/a);if(n>a)for(var r=0;r<i;r++){var o="",c=r*a,s=c+a;o=r===i-1?e.substring(c,n):e.substring(c,s)+"\n",t+=o}else t=e;return t}}}],yAxis:{nameTextStyle:{color:"#929ee6",fontSize:12,textShadowColor:"#000",textShadowOffsetY:2},type:"value",splitLine:{show:!1,lineStyle:{color:"rgba(255,255,255,.2)"}},axisLine:{show:!0,lineStyle:{width:2,color:"#2077a3"},symbol:["none","arrow"]},axisTick:{show:!1},axisLabel:{color:"#929ee6",fontSize:i.y,textShadowColor:"#000",textShadowOffsetY:2},data:[]},series:[{name:"今日",type:"line",showAllSymbol:!0,symbol:"circle",symbolSize:i.s,lineStyle:{normal:{color:"#1fd5d7",shadowColor:"rgba(0, 0, 0, .3)",shadowBlur:0,shadowOffsetY:5,shadowOffsetX:5}},label:{show:!1,position:"top",textStyle:{color:"#1fd5d7"}},itemStyle:{color:"#1fd5d7",borderWidth:3,shadowColor:"rgba(0, 0, 0, .3)",shadowBlur:0,shadowOffsetY:2,shadowOffsetX:2},tooltip:{show:!1},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(31,213,215,0.3)"},{offset:1,color:"rgba(31,213,215,0)"}],!1),shadowColor:"rgba(31,213,215, 0.9)",shadowBlur:20}},data:t}]};r.setOption(o,!0),window.addEventListener("resize",(function(){r.resize()}))},getCardData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),t.prev=2,t.next=5,Object(u["j"])({queryMonth:Object(l["g"])(e.dataTime)+" 00:00:00"},n);case 5:a=t.sent,"0000"===a.code&&(console.log(a),e.cardData.electricMonth=a.rows.monthConsumption),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0);case 12:return t.prev=12,t.next=15,Object(u["m"])({queryMonth:Object(l["g"])(e.dataTime)+" 00:00:00"},n);case 15:i=t.sent,"0000"===i.code&&(console.log(i),e.cardData.waterMonth=i.rows.monthConsumption),t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](12),console.log(t.t1);case 22:return t.prev=22,t.next=25,Object(u["k"])({queryMonth:Object(l["g"])(e.dataTime)+" 00:00:00"},n);case 25:r=t.sent,"0000"===r.code&&(console.log(r),e.cardData.gasMonth=r.rows.monthConsumption),t.next=32;break;case 29:t.prev=29,t.t2=t["catch"](22),console.log(t.t2);case 32:case"end":return t.stop()}}),t,null,[[2,9],[12,19],[22,29]])})))()},getElectricLine:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),t.prev=2,t.next=5,Object(u["l"])({energyEnum:"ELECTRICITY",recentDay:"6"},n);case 5:if(a=t.sent,e.energyLineIndex++,"0000"===a.code){for(console.log(a),i=[],r=[],o=[],c=0;c<a.rows.length;c++)c<15&&(i.push(a.rows[c].time.substring(5,10)),r.push(a.rows[c].value));e.drawOne(i,r,o,"electricChart")}t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},getWaterLine:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),t.prev=2,t.next=5,Object(u["l"])({energyEnum:"WATER",recentDay:"6"},n);case 5:if(a=t.sent,e.energyLineIndex++,"0000"===a.code){for(console.log(a),i=[],r=[],o=[],c=0;c<a.rows.length;c++)c<15&&(i.push(a.rows[c].time.substring(5,10)),r.push(a.rows[c].value));e.drawOne(i,r,o,"waterChart")}t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()},getGasLine:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,a,i,r,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},localStorage.getItem("companyId")||(n.secretKey=e.kanbanConfig.key),t.prev=2,t.next=5,Object(u["l"])({energyEnum:"GAS",recentDay:"6"},n);case 5:if(a=t.sent,e.energyLineIndex++,"0000"===a.code){for(console.log(a),i=[],r=[],o=[],c=0;c<a.rows.length;c++)c<15&&(i.push(a.rows[c].time.substring(5,10)),r.push(a.rows[c].value));e.drawOne(i,r,o,"gasChart")}t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))()}}},h=v,g=(n("517e"),n("2877")),p=Object(g["a"])(h,a,i,!1,null,"b2754d1c",null);t["default"]=p.exports},ef53:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));n("a15b");function a(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1,n=(new Date).getDate();return t=t<10?"0"+t:t,n=n<10?"0"+n:n,[e,t,n].join("-")+" 00:00:00"}function i(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return a=a<10?"0"+a:a,i=i<10?"0"+i:i,[n,a,i].join("-")+" 00:00:00"}function r(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1,n=(new Date).getDate();return t=t<10?"0"+t:t,n=n<10?"0"+n:n,[e,t,n].join("-")+" 23:59:59"}function o(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return a=a<10?"0"+a:a,i=i<10?"0"+i:i,[n,a,i].join("-")+" 23:59:59"}function c(e){var t=new Date((new Date).getTime()-864e5*e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return a=a<10?"0"+a:a,i=i<10?"0"+i:i,[n,a,i].join("-")}function s(e,t){var n=new Date(t-864e5*e),a=n.getFullYear(),i=n.getMonth()+1,r=n.getDate();return i=i<10?"0"+i:i,r=r<10?"0"+r:r,[a,i,r].join("-")}function l(){var e=new Date;e.setDate(1);var t=e.getFullYear(),n=e.getMonth()+1;n=n>10?n:"0"+n;var a=e.getDate();return a=a<10?"0"+a:a,t+"-"+n+"-"+a}function u(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;n=n>10?n:"0"+n;var a=new Date(t,n,1);console.log(a);var i=864e5,r=new Date(a-i),o=r.getDate();return console.log(o),o=o<10?"0"+o:o,t+"-"+n+"-"+o}},f82c:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"m",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"j",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return m}));n("7db0"),n("a15b"),n("d81d"),n("b0c0"),n("d3b7");var a=n("b85c"),i=n("53ca"),r=n("b775");function o(){return new Promise((function(e,t){r["i"].post("deviceGroup/getAllGroupAndDevice.action").then((function(t){for(var n=0;n<t.data.rows.length;n++)t.data.rows[n].code&&(t.data.rows[n].id=t.data.rows[n].code);t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function c(){return new Promise((function(e,t){r["i"].post("deviceWorkshopType/getTree.action").then((function(t){t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function s(){return new Promise((function(e,t){r["i"].post("deviceGroup/getListGroupAndProductionLine.action").then((function(t){t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function l(){return new Promise((function(e,t){r["i"].post("deviceGroup/getTree.action?").then((function(t){t.data.rows=d(t.data.rows),e(t.data)})).catch((function(e){t(e.data)}))}))}function u(){return new Promise((function(e,t){r["i"].post("materialsType/getTree.action?").then((function(t){t.data.rows?t.data.rows=d(t.data.rows):t.data.rows=[],e(t.data)})).catch((function(e){t(e.data)}))}))}function d(e){var t=e;for(var n in t)t[n].value=t[n].id,t[n].label=t[n].name;for(var a=[],i={},r=0,o=t.length;r<o;r++)i[t[r].id]=t[r];for(r=0,o=t.length;r<o;r++){var c=i[t[r].pId];c?(c.children||(c.children=[]),c.children.push(t[r])):a.push(t[r])}return a}function f(e){var t=Array.isArray(e)?[]:{};if(e&&"object"===Object(i["a"])(e))for(var n in e)e.hasOwnProperty(n)&&(e[n]&&"object"===Object(i["a"])(e[n])?t[n]=this.deepClone(e[n]):t[n]=e[n]);return t}function v(e,t){var n=[];if(Array.isArray(e)&&Array.isArray(t)){if(e.length>0){var i,r=Object(a["a"])(e);try{var o=function(){var e=i.value,a=t.find((function(t){return t.field===e.field}));if(a){var r=Object.assign({},a,{minWidth:e.width,visible:e.visible,required:e.required});n.push(r)}};for(r.s();!(i=r.n()).done;)o()}catch(d){r.e(d)}finally{r.f()}t[1].type&&"checkbox"===t[1].type&&n.unshift(t[1]),t[0].type&&"radio"===t[0].type&&n.unshift(t[0]),t[0].type&&"checkbox"===t[0].type&&n.unshift(t[0]),console.log("7788",e,t,n);for(var c=0;c<t.length;c++)if(t[c].eType){for(var s=0,l=0;l<e.length;l++)t[c].field===e[l].field&&(s+=1);0===s&&n.push(t[c])}var u=t.length;return t[u-1].title&&"操作"===t[u-1].title&&n.push(t[u-1]),console.log("9999",n),n}return t}return[]}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a={conditionJson1:e,operatorGroup:t,conditionJson2:n};return a}function g(e,t){return t.map((function(t,n){return e.map((function(e){return null==t[e]||""===t[e]?"-":t[e]}))}))}function p(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return a=a<10?"0"+a:a,i=i<10?"0"+i:i,[n,a,i].join("-")}function w(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return a=a<10?"0"+a:a,i=i<10?"0"+i:i,[n,a,i].join("-")+" 00:00:00"}function m(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return a=a<10?"0"+a:a,i=i<10?"0"+i:i,[n,a,i].join("-")+" 23:59:59"}}}]);
//# sourceMappingURL=chunk-44c28708.ab255fba.js.map