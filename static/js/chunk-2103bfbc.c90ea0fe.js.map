{"version":3,"sources":["webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkHistroyItem.vue?7e12","webpack:///./src/views/equipment/DeviceCheckManagement_rz/index.vue?d354","webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkHistroy.vue?3049","webpack:///./src/views/equipment/DeviceCheckManagement_rz/index.vue?2a81","webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkItemList.vue?2a1b","webpack:///./src/assets/js/equipment/DeviceCheckManagement_rz/checkItemList.js","webpack:///src/views/equipment/DeviceCheckManagement_rz/checkItemList.vue","webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkItemList.vue?6fc5","webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkItemList.vue?d857","webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkHistroy.vue?ef3f","webpack:///./src/assets/js/equipment/DeviceCheckManagement_rz/checkHistroy.js","webpack:///src/views/equipment/DeviceCheckManagement_rz/checkHistroy.vue","webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkHistroy.vue?c72b","webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkHistroy.vue?a712","webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkHistroyItem.vue?1db3","webpack:///./src/assets/js/equipment/DeviceCheckManagement_rz/checkHistroyItem.js","webpack:///src/views/equipment/DeviceCheckManagement_rz/checkHistroyItem.vue","webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkHistroyItem.vue?54a5","webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkHistroyItem.vue?4d23","webpack:///./src/assets/js/equipment/DeviceCheckManagement_rz/index.js","webpack:///src/views/equipment/DeviceCheckManagement_rz/index.vue","webpack:///./src/views/equipment/DeviceCheckManagement_rz/index.vue?a930","webpack:///./src/views/equipment/DeviceCheckManagement_rz/index.vue?cb56","webpack:///./src/views/equipment/DeviceCheckManagement_rz/checkItemList.vue?5835"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","$route","query","attrs","WORK_STATION","EQUIPMENT_CHECKING","slot","on","$event","goHome","_v","_s","BTN_TEXT","RETURN","_e","class","isWorkstation","DEVICE_CHECK","DEVICE_LIST","directives","name","rawName","value","showRole","expression","holidayAllFree","HOLIDAY_ALL_FREE","inputEven","model","callback","$$v","searchInput","nodeData","ztreeOnClick","ztreeHandleCreated","tabPosition","PREV_SHIFT","NOW_SHIFT","HISTROY_SHIFT","ref","ztreeSelectedNode","code","changeNode","holidayFree","showItem","toggleHistroyItem","histroyMonth","histroyDay","staticRenderFns","tableColumns","tableDatas","trigger","mode","showStatus","icon","editActivedEvent","staticStyle","reviewText","shiftData","checkUser","JOB_DESCRIPTION","CONSTANTS_CODE","PLEASE_ENTER_CONTENT","length","saveFalg","checkRemarks","dialogVisible","dialogImageUrl","HOLIDAY_FREE","recovery","RECOVERY","halt","HALT","nowShift","checkReview","nowDate","TITLE","PROMPT","dialogRepirVisible","INSERT_CHECK_REPAIRTASK","CLOSE","insertCheckRepairTask","CONFIRM","centerDialogVisible","checkReviewPass","checkReviewNoPass","components","HeaderTitle","HeadOperationItem","props","deviceCode","type","String","default","data","selectedShift","repairFlag","options","repairRemark","title","VARIABLE","SEQ","align","field","CONSTANTS_CHECK","CHECK_ITEM","IS_FINISH","slots","row","column","requiredNum","requireImg","img","url","handlePictureCardPreviewx","checkState","toggleFinish","REAL_VALUE","editRender","relationshipId","fileList","delFileList","uploadConfig","headers","token","window","localStorage","getItem","replace","IP","PUBLICIP","fileResourceTypeEnum","FILE_TYPE","CHECK_RECORD_IMAGE","canReviewCheckBtn","canReviewCheck","checkRecord","computed","created","getNowDate","showReviewCheck","mounted","methods","val","id","getUrlKey","json","$store","state","pageInfo","arr","buttonList","i","Number","rowIndex","valueDisabled","searchItem","getCheckRepairTaskSwitch","$refs","xGrid","clearActived","showWarningMessage","PLEASE_CHOOSE_DEVICE","getListCheckListByDeviceCodeRz","res","STATUS_CODE","OPERATION_SUCCESS","rows","templateId","NOW_NOTHING","checkList","shiftId","recordId","checkInformation","shiftName","shiftStartTime","shiftEndTime","checkItemsList","itemId","extend18","checkImageList","x","fileName","imgData","fileType","fileImgUrl","fileUrl","split","toLowerCase","console","log","message","showErrorNotify","NOTIFY","getListLastCheckListByDeviceCodeRz","s","allSelect","map","item","submit","push","itemName","resourceIdListStr","flag","response","resourceId","checkUpdateCheckListAction","toString","isAllCheck","delImg","$emit","showSuccessMessage","goBack","ZERO_NUMBER","_that","moment","Date","getTime","format","setInterval","handleRemove","file","handlePictureCardPreview","updateFiles","updateSuccess","GLOBAL","getFileList","imgFIle","delImgAction","ids","time","startTime","checkStartTime","endTime","checkEndTime","extensionTime","CHECK_TIMEOUT","getCheckRepairTaskSwitchAction","insertCheckRepairTaskAction","configurationGetConfigurationByEnum","configurationTypeEnum","isEnable","checkUnReview","checkTime","checkTimeStr","reviewState","reviewedByName","component","_l","index","key","style","styleDict","dayDateTime","getWeekdayFromDate","shift","styleShift","realNameList","join","NOT_HAVE","month","isFinish","checkGetListDeviceCheckHistoryAction","yearMonth","shiftUserCheckVoList","NOT_CHECK_INFO","day","newArr","finishType","userIdList","timeStr","shiftInformation","showColorList","color","colorList","dateString","weekdays","date","dayOfWeek","getDay","yearMonthDay","checkGetListShiftByDeviceCodeAction","reverse","checkGetCheckListByDateAndDeviceCodeAction","ZTree","checkItemList","checkHistroy","checkHistroyItem","sHeader","HeaderAction","CONSTANTS_DEVICE_CONFIGURATION","HeadTitleName","tableName","showModelItem","showPage","ztreeObj","pId","nodeDataBf","getTree","watch","setTimeout","e","jsonArr","indexOf","event","nodes","obj","checkGetListGroupTreeDeviceCheckByCurrentUserAction","iconSkin","isChecked","checkGetListGroupTreeDeviceCheckAction","param","updateNode","$confirm","COMFIRM_HOLIDAY_FREE","confirmButtonText","cancelButtonText","CANCEL","then","setHolidayFree","catch","checkUpdateHolidayInspectionFreeAction","COMFIRM_HOLIDAY_ALL_FREE","setHolidayAllFree","node","getNodeByParam","$router"],"mappings":"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","file":"static/js/chunk-2103bfbc.c90ea0fe.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkHistroyItem.vue?vue&type=style&index=0&id=5a722e95&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkHistroyItem.vue?vue&type=style&index=0&id=5a722e95&lang=less&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=bb8ee110&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=bb8ee110&lang=less&scoped=true&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkHistroy.vue?vue&type=style&index=0&id=13c4de2f&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkHistroy.vue?vue&type=style&index=0&id=13c4de2f&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"h100\"},[(_vm.$route.query.isWorkstation)?_c('sHeader',{attrs:{\"titleName\":_vm.WORK_STATION.EQUIPMENT_CHECKING}},[_c('div',{staticClass:\"head-operation\",attrs:{\"slot\":\"header-action\"},slot:\"header-action\"},[_c('HeaderAction',{attrs:{\"name\":\"1\"},on:{\"onOprationItem\":function($event){return _vm.goHome()}}},[_c('el-button',{attrs:{\"slot\":\"action\"},slot:\"action\"},[_c('i',{staticClass:\"el-icon-d-arrow-left\"}),_vm._v(_vm._s(_vm.BTN_TEXT.RETURN)+\" \")])],1)],1)]):_vm._e(),_c('el-container',{class:{'content':true,'content-workstation':_vm.$route.query.isWorkstation}},[(!_vm.$route.query.isWorkstation)?_c('el-header',[_c('HeaderTitle',{staticClass:\"header-title\"})],1):_vm._e(),_c('el-main',{class:{'el-main-workstation':_vm.$route.query.isWorkstation}},[_c('div',{staticClass:\"area-main\"},[_c('div',{staticClass:\"area-aside\"},[_c('HeaderTitle',{staticClass:\"header-title\",attrs:{\"titleName\":_vm.DEVICE_CHECK.DEVICE_LIST}},[_c('div',{staticClass:\"head-operation\",attrs:{\"slot\":\"head-operation\"},slot:\"head-operation\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRole(1)),expression:\"showRole(1)\"}],attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":_vm.holidayAllFree}},[_vm._v(_vm._s(_vm.DEVICE_CHECK.HOLIDAY_ALL_FREE))])],1)]),_c('div',{staticClass:\"area-tree\"},[_c('div',{staticClass:\"area-zTree\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入搜索值\"},on:{\"input\":_vm.inputEven},model:{value:(_vm.searchInput),callback:function ($$v) {_vm.searchInput=$$v},expression:\"searchInput\"}}),_c('ZTree',{attrs:{\"isExpendAll\":true,\"nodes\":_vm.nodeData},on:{\"ztreeOnClick\":_vm.ztreeOnClick,\"ztreeHandleCreated\":_vm.ztreeHandleCreated}})],1)])],1),_c('div',{staticClass:\"area-info\"},[[_c('div',{staticClass:\"userInformation\"},[_c('el-radio-group',{model:{value:(_vm.tabPosition),callback:function ($$v) {_vm.tabPosition=$$v},expression:\"tabPosition\"}},[_c('el-radio-button',{attrs:{\"label\":\"prev\"}},[_vm._v(_vm._s(_vm.DEVICE_CHECK.PREV_SHIFT))]),_c('el-radio-button',{attrs:{\"label\":\"now\"}},[_vm._v(_vm._s(_vm.DEVICE_CHECK.NOW_SHIFT))]),_c('el-radio-button',{attrs:{\"label\":\"histroy\"}},[_vm._v(_vm._s(_vm.DEVICE_CHECK.HISTROY_SHIFT))])],1),(_vm.tabPosition!=='histroy')?_c('checkItemList',{ref:\"checkItemList\",attrs:{\"tabPosition\":_vm.tabPosition,\"deviceCode\":_vm.ztreeSelectedNode.code},on:{\"changeNode\":_vm.changeNode,\"holidayFree\":_vm.holidayFree}}):_vm._e(),_c('checkHistroy',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tabPosition==='histroy' && !_vm.showItem ),expression:\"tabPosition==='histroy' && !showItem \"}],ref:\"checkHistroy\",attrs:{\"deviceCode\":_vm.ztreeSelectedNode.code},on:{\"toggleHistroyItem\":_vm.toggleHistroyItem}}),(_vm.tabPosition==='histroy' && _vm.showItem )?_c('checkHistroyItem',{ref:\"checkHistroyItem\",attrs:{\"deviceCode\":_vm.ztreeSelectedNode.code,\"yearMonthDay\":_vm.histroyMonth +'-'+ _vm.histroyDay},on:{\"toggleHistroyItem\":_vm.toggleHistroyItem}}):_vm._e()],1)]],2)])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"content\"},[_c('el-main',[_c('vxe-grid',{ref:\"xGrid\",staticClass:\"vxe-table-element\",attrs:{\"border\":\"full\",\"resizable\":\"\",\"keep-source\":\"\",\"height\":\"350\",\"columns\":_vm.tableColumns,\"data\":_vm.tableDatas,\"edit-config\":{\n        trigger: 'click',\n        mode: 'cell',\n        showStatus: false,\n        icon: 'fa fa-file-text-o'\n      }},on:{\"edit-actived\":_vm.editActivedEvent}}),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canReviewCheck),expression:\"canReviewCheck\"}],staticStyle:{\"text-align\":\"left\"}},[_vm._v(_vm._s(_vm.reviewText())+\" \")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canReviewCheck),expression:\"canReviewCheck\"}],staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"点检人：\"+_vm._s(_vm.shiftData.checkUser)+\" \")]),_c('div',{staticClass:\"checkInfo\"},[_c('span',[_vm._v(_vm._s(_vm.DEVICE_CHECK.JOB_DESCRIPTION)+\":\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":_vm.CONSTANTS_CODE.PLEASE_ENTER_CONTENT,\"rows\":3,\"disabled\":_vm.tableDatas.length === 0 || _vm.saveFalg,\"maxlength\":\"200\",\"show-word-limit\":\"\"},model:{value:(_vm.checkRemarks),callback:function ($$v) {_vm.checkRemarks=$$v},expression:\"checkRemarks\"}}),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_c('div',{staticClass:\"btnDiv\",staticStyle:{\"margin-top\":\"20px\"}},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showRole(2)),expression:\"showRole(2)\"}],attrs:{\"type\":\"danger\",\"disabled\":_vm.tableDatas.length === 0 || _vm.saveFalg},on:{\"click\":_vm.holidayFree}},[_vm._v(_vm._s(_vm.DEVICE_CHECK.HOLIDAY_FREE))]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.saveFalg),expression:\"saveFalg\"}],attrs:{\"disabled\":_vm.tableDatas.length === 0},on:{\"click\":_vm.recovery}},[_vm._v(_vm._s(_vm.BTN_TEXT.RECOVERY))]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.saveFalg),expression:\"!saveFalg\"}],attrs:{\"disabled\":_vm.tableDatas.length === 0 || _vm.saveFalg},on:{\"click\":_vm.halt}},[_vm._v(_vm._s(_vm.BTN_TEXT.HALT))]),_c('el-input',{staticClass:\"shiftNow\",attrs:{\"readonly\":true},model:{value:(_vm.nowShift),callback:function ($$v) {_vm.nowShift=$$v},expression:\"nowShift\"}}),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canReviewCheckBtn),expression:\"canReviewCheckBtn\"}],attrs:{\"type\":\"primary\",\"disabled\":_vm.tableDatas.length === 0 || _vm.saveFalg},on:{\"click\":_vm.checkReview}},[_vm._v(\"审核\")]),_c('el-input',{staticClass:\"nowDate\",attrs:{\"readonly\":true},model:{value:(_vm.nowDate),callback:function ($$v) {_vm.nowDate=$$v},expression:\"nowDate\"}})],1),_c('el-dialog',{attrs:{\"title\":_vm.TITLE.PROMPT,\"visible\":_vm.dialogRepirVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.dialogRepirVisible=$event}}},[_c('span',[_vm._v(_vm._s(_vm.DEVICE_CHECK.INSERT_CHECK_REPAIRTASK))]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogRepirVisible = false}}},[_vm._v(_vm._s(_vm.BTN_TEXT.CLOSE))]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.insertCheckRepairTask}},[_vm._v(_vm._s(_vm.BTN_TEXT.CONFIRM))])],1)]),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.centerDialogVisible,\"width\":\"500px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('span',[_vm._v(\"请对本次点检任务进行审核\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.centerDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.checkReviewPass()}}},[_vm._v(\"通过\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.checkReviewNoPass()}}},[_vm._v(\"不通过\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/* eslint-disable no-redeclare */\n/*\n * @Descripttion:点检项列表\n * @version:\n * @Author: ZJM\n * @Date: 2020-06-17 10:45:31\n * @LastEditors: ZJM\n * @LastEditTime: 2022-01-26 21:58:49\n */\n// 引入标题组件\nimport HeaderTitle from '@/components/common/PageNavBar/HeaderTitle';\n// 引入标题元素组件\nimport HeadOperationItem from '@/components/common/PageNavBar/HeadOperationItem';\nimport moment from 'moment';\n// 导入所需接口\nimport {\n  getListLastCheckListByDeviceCodeRz,\n  getListCheckListByDeviceCodeRz,\n  checkUpdateCheckListAction,\n  getCheckRepairTaskSwitchAction,\n  insertCheckRepairTaskAction,\n  delImgAction,\n  checkReview,\n  checkUnReview\n} from '@/api/checkConfig';\nimport {\n  configurationGetConfigurationByEnum\n} from '@/api/system.js';\nimport {\n  showSuccessMessage,\n  showWarningMessage\n} from '@/utils/message';\nimport { TITLE, STATUS_CODE, VARIABLE, BTN_TEXT, CONSTANTS_CHECK, DEVICE_CHECK, IP, FILE_TYPE, CONSTANTS_CODE } from '@/utils/constantsFile';\nimport { showErrorNotify } from '@/utils/notify';\nimport { getUrlKey } from '@/utils/common';\nexport default {\n  components: {\n    // 加载标题组件\n    HeaderTitle,\n    HeadOperationItem\n  },\n  props: {\n    // 设备code\n    deviceCode: {\n      type: String,\n      default: ''\n    },\n    // 当前tab\n    tabPosition: {\n      type: String,\n      default: 'now'\n    }\n  },\n  data() {\n    return {\n      DEVICE_CHECK: DEVICE_CHECK,\n      BTN_TEXT: BTN_TEXT,\n      TITLE: TITLE,\n      CONSTANTS_CODE: CONSTANTS_CODE,\n      saveFalg: false,\n      // 可编辑配置\n      selectedShift: null,\n      // 班次信息\n      shiftData: {},\n      // 当前班次\n      nowShift: '',\n      // 报修开关\n      repairFlag: false,\n      // 当前日期\n      nowDate: '',\n      options: [],\n      // table数据\n      tableDatas: [],\n      // 报修备注\n      repairRemark: [],\n      // 报修弹窗\n      dialogRepirVisible: false,\n      // 点检工作描述\n      checkRemarks: '',\n      // table表头配置\n      tableColumns: [\n        {\n          type: 'seq',\n          title: VARIABLE.SEQ,\n          align: 'center'\n        },\n        {\n          field: 'itemName',\n          title: CONSTANTS_CHECK.CHECK_ITEM,\n          align: 'center'\n        },\n        {\n          field: 'checkState',\n          title: CONSTANTS_CHECK.IS_FINISH,\n          align: 'center',\n          slots: {\n            default: ({ row, column }) => {\n              if (!row.requiredNum) {\n                if (row.checkState === 0) {\n                  return [\n                    <i\n                      onClick={() => this.toggleFinish(row, 1)}\n                      class=\"icon-unChecked\"\n                    ></i>\n                  ];\n                } else if (row.checkState === 1) {\n                  return [\n                    <i\n                      onClick={() => this.toggleFinish(row, 2)}\n                      class=\"icon-checked\"\n                    ></i>\n                  ];\n                } else if (row.checkState === 2) {\n                  return [\n                    <i\n                      onClick={() => this.toggleFinish(row, 0)}\n                      class=\"icon-no\"\n                    ></i>\n                  ];\n                } else if (row.checkState === 3) {\n                  return [\n                    <i\n                      onClick={() => this.toggleFinish(row, 1)}\n                      class=\"icon-stop\"\n                    ></i>\n                  ];\n                } else if (row.checkState === 4) {\n                  return [\n                    <i\n                      onClick={() => this.toggleFinish(row, 1)}\n                      class=\"icon-holiday\"\n                    ></i>\n                  ];\n                }\n              } else {\n                if (row.requireImg && row.requireImg[0]) {\n                  var img = row.requireImg[0].url;\n                  return [\n                    <img style=\"width:50px;height:50px;\" src={img} onClick={() => this.handlePictureCardPreviewx(img)} ></img>\n                  ];\n                } else {\n                  return [<span>未上传</span>];\n                }\n              }\n            }\n          }\n        },\n        {\n          field: 'value',\n          title: CONSTANTS_CHECK.REAL_VALUE,\n          align: 'center',\n          editRender: { name: 'input' }\n        }\n      ],\n      // 图片上传\n      relationshipId: '',\n      dialogImageUrl: '',\n      fileList: [],\n      delFileList: [],\n      dialogVisible: false,\n      uploadConfig: {\n        headers: {\n          token: window.localStorage.getItem('token').replace(/\"/g, '')\n        },\n        url: IP.PUBLICIP + 'fileResource/uploadOneFile.action',\n        data: {\n          fileResourceTypeEnum: FILE_TYPE.CHECK_RECORD_IMAGE,\n          relationshipId: ''\n        }\n      },\n      canReviewCheckBtn: false,\n      canReviewCheck: false,\n      centerDialogVisible: false,\n      checkRecord: {}\n    };\n  },\n  computed: {\n  },\n  created() {\n    this.getNowDate();\n    this.showReviewCheck();\n  },\n  mounted() {\n    // this.searchItem();\n  },\n  methods: {\n    showRole: function(val) {\n      const id = getUrlKey('id');\n      var json = { ...this.$store.state.pageInfo[id] };\n      var arr = json.buttonList;\n      for (var i = 0; i < arr.length; i++) {\n        if (val === Number(arr[i].type)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    toggleFinish(row, value) {\n      row.checkState = value;\n    },\n    editActivedEvent({ row, rowIndex }) {\n      this.valueDisabled = true;\n    },\n    /**\n     * @description: 获取点检项数据\n     * @param {type}\n     * @return:\n     */\n    async searchItem() {\n      this.getCheckRepairTaskSwitch();\n      this.$refs.xGrid.clearActived();\n      this.fileList = [];\n      this.saveFalg = false;\n      this.checkRemarks = '';\n      this.nowShift = '';\n      this.tableDatas = [];\n      this.options = [];\n      this.selectedShift = null;\n      if (this.deviceCode === '') {\n        showWarningMessage(DEVICE_CHECK.PLEASE_CHOOSE_DEVICE);\n        return false;\n      }\n      // 当前班次\n      if (this.tabPosition === 'now') {\n        try {\n          const res = await getListCheckListByDeviceCodeRz({\n            deviceCode: this.deviceCode\n          });\n          if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n            if (!res.rows.templateId) {\n              showWarningMessage(CONSTANTS_CHECK.NOW_NOTHING);\n              return false;\n            }\n            for (var i in res.rows.checkList) {\n              if (res.rows.checkList[i].checkState === 3 || res.rows.checkList[i].checkState === 4) {\n                this.saveFalg = true;\n              } else {\n                this.saveFalg = false;\n              }\n            }\n            this.shiftData = res.rows;\n            // 将数据写入表单\n            this.tableDatas = res.rows.checkList;\n            this.selectedShift = res.rows.shiftId;\n            this.checkRecord = res.rows.checkRecord;\n            this.relationshipId = res.rows.checkRecord.recordId;\n            this.checkRemarks = res.rows.checkRecord.checkInformation;\n            this.nowShift = res.rows.shiftName + ':' + res.rows.shiftStartTime + '~' + res.rows.shiftEndTime;\n\n            // eslint-disable-next-line no-redeclare\n            for (var i = 0; i < this.tableDatas.length; i++) {\n              this.tableDatas[i].requireImg = [];\n              if (res.rows.checkItemsList[i].itemId === this.tableDatas[i].itemId) {\n                if (res.rows.checkItemsList[i].extend18 === 1) {\n                  this.tableDatas[i].requiredNum = 1;\n                } else {\n                  this.tableDatas[i].requiredNum = 0;\n                }\n              }\n            }\n\n            // const httpInfo = this.$store.state.httpInfo;\n            // const httpUrl = httpInfo.http + ':' + httpInfo.port + this.$store.state.project;\n\n            if (res.rows.checkImageList.length > 0) {\n              // eslint-disable-next-line no-redeclare\n              for (var i = 0; i < res.rows.checkImageList.length; i++) {\n                for (var x = 0; x < this.tableDatas.length; x++) {\n                  if (this.tableDatas[x].itemId === Number(res.rows.checkImageList[i].fileName)) {\n                    this.tableDatas[x].checkState = 1;\n\n                    var imgData = { ...res.rows.checkImageList[i] };\n                    var fileType = imgData.fileType;\n                    var fileImgUrl = imgData.fileUrl.split(imgData.fileType)[0] + fileType.toLowerCase();\n                    imgData.url = IP.PUBLICIP + fileImgUrl;\n                    console.log(imgData);\n\n                    this.tableDatas[x].requireImg = [imgData];\n\n                    // this.tableDatas[x].requireImg = [res.rows.checkImageList[i]];\n                    // this.tableDatas[x].requireImg[0].url = IP.PUBLICIP + res.rows.checkImageList[i].fileUrl;\n                    // this.checkImgARR[x] = Number(res.rows.checkImageList[i].fileName);\n                  }\n                }\n              }\n            }\n            // this.getFileList(res.rows.checkImageList);\n          } else {\n            // 提示异常信息\n            showWarningMessage(res.message);\n          }\n        } catch (error) {\n          showErrorNotify(TITLE.NOTIFY, error);\n        } finally {\n        }\n      } else if (this.tabPosition === 'prev') { // 上一班次\n        try {\n          const res = await getListLastCheckListByDeviceCodeRz({\n            deviceCode: this.deviceCode\n          });\n          if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n            if (!res.rows.templateId) {\n              showWarningMessage(CONSTANTS_CHECK.NOW_NOTHING);\n              return false;\n            }\n            for (var s in res.rows.checkList) {\n              if (res.rows.checkList[s].checkState === 3 || res.rows.checkList[s].checkState === 4) {\n                this.saveFalg = true;\n              } else {\n                this.saveFalg = false;\n              }\n            }\n            this.shiftData = res.rows;\n            // 将数据写入表单\n            this.tableDatas = res.rows.checkList;\n            this.selectedShift = res.rows.shiftId;\n            this.checkRecord = res.rows.checkRecord;\n            this.relationshipId = res.rows.checkRecord.recordId;\n            this.checkRemarks = res.rows.checkRecord.checkInformation;\n            this.nowShift = res.rows.shiftName + ':' + res.rows.shiftStartTime + '~' + res.rows.shiftEndTime;\n\n            // eslint-disable-next-line no-redeclare\n            for (var i = 0; i < this.tableDatas.length; i++) {\n              this.tableDatas[i].requireImg = [];\n              if (res.rows.checkItemsList[i].itemId === this.tableDatas[i].itemId) {\n                if (res.rows.checkItemsList[i].extend18 === 1) {\n                  this.tableDatas[i].requiredNum = 1;\n                } else {\n                  this.tableDatas[i].requiredNum = 0;\n                }\n              }\n            }\n\n            // const httpInfo = this.$store.state.httpInfo;\n            // const httpUrl = httpInfo.http + ':' + httpInfo.port + this.$store.state.project;\n\n            if (res.rows.checkImageList.length > 0) {\n              // eslint-disable-next-line no-redeclare\n              for (var i = 0; i < res.rows.checkImageList.length; i++) {\n                // eslint-disable-next-line no-redeclare\n                for (var x = 0; x < this.tableDatas.length; x++) {\n                  if (this.tableDatas[x].itemId === Number(res.rows.checkImageList[i].fileName)) {\n                    this.tableDatas[x].checkState = 1;\n\n                    // eslint-disable-next-line no-redeclare\n                    var imgData = { ...res.rows.checkImageList[i] };\n                    var fileType = imgData.fileType;\n                    var fileImgUrl = imgData.fileUrl.split(imgData.fileType)[0] + fileType.toLowerCase();\n                    imgData.url = IP.PUBLICIP + fileImgUrl;\n                    console.log(imgData);\n\n                    this.tableDatas[x].requireImg = [imgData];\n                    // this.tableDatas[x].requireImg[0].url = IP.PUBLICIP + res.rows.checkImageList[i].fileUrl;\n                    // this.checkImgARR[x] = Number(res.rows.checkImageList[i].fileName);\n                  }\n                }\n              }\n            }\n            // if (res.rows.checkImageList) {\n            //   this.getFileList(res.rows.checkImageList);\n            // }\n          } else {\n            // 提示异常信息\n            showWarningMessage(res.message);\n          }\n        } catch (error) {\n          showErrorNotify(TITLE.NOTIFY, error);\n        } finally {\n        }\n      }\n    },\n    /**\n     * @description: 当班全选\n     * @param 无\n     * @return: 无\n     * @author: ZJM\n     */\n    allSelect() {\n      this.tableDatas = this.tableDatas.map(item => {\n        item.checkState = 1;\n        return item;\n      });\n    },\n    /**\n     * @description: 表单提交\n     * @param 无\n     * @return: 无\n     * @author: ZJM\n     */\n    async submit() {\n      // this.$refs.upload.clearFiles();\n      // 时间戳\n      // var time = new Date().getTime();\n\n      // var startTime = new Date(this.tableDatas[0].checkStartTime).getTime();\n      // var endTime = new Date(this.tableDatas[0].checkEndTime).getTime() + (this.shiftData.extensionTime * 1000);\n\n      // if (startTime > time || time > endTime) {\n      //   showWarningMessage(DEVICE_CHECK.CHECK_TIMEOUT);\n      //   return false;\n      // }\n      this.repairRemark = [];\n\n      // 当前时间\n      // var now = Number(moment(time).format('HH') * 60) + Number(moment(time).format('mm'));\n      // // 上班时间\n      // var startTime = Number(this.shiftData.shiftStartTime.split(':')[0] * 60) + Number(this.shiftData.shiftStartTime.split(':')[1]);\n      // // 下班时间\n      // var endTime = Number(this.shiftData.shiftEndTime.split(':')[0] * 60) + Number(this.shiftData.shiftEndTime.split(':')[1]) + this.shiftData.extensionTime;\n\n      // // 当上班时间小于下班时间\n      // if (startTime < endTime) {\n      //   // 若当前时间小于上班时间 或者 当前时间大于下班时间\n      //   if (now < startTime || now > endTime) {\n      //     showWarningMessage(DEVICE_CHECK.CHECK_TIMEOUT);\n      //     return false;\n      //   }\n      // }\n      // // 当上班时间大于下班时间\n      // if (startTime > endTime) {\n      //   // 若下班时间小于当前时间 并且 当前时间小于上班时间\n      //   if (endTime < now || now < startTime) {\n      //     showWarningMessage(DEVICE_CHECK.CHECK_TIMEOUT);\n      //     return false;\n      //   }\n      // }\n      // var checkStateIndex = 0;\n      const arr = this.tableDatas.map(item => {\n        var json = {\n          id: item.id,\n          value: item.value,\n          checkState: item.checkState\n        };\n        if (item.checkState === 2) {\n          this.repairRemark.push(item.itemName);\n        }\n        if (item.checkState === 0) {\n          // checkStateIndex++;\n        }\n        return json;\n      });\n\n      // if (checkStateIndex > 0) {\n      //   showWarningMessage('请完成所有点检项！');\n      //   return false;\n      // }\n\n      const resourceIdListStr = this.fileList.map(item => {\n        var json = '';\n        if (!item.flag) {\n          json = item.response.rows.resourceId;\n        } else {\n          json = item.id;\n        }\n\n        return json;\n      });\n      try {\n        const res = await checkUpdateCheckListAction({\n          recordId: this.relationshipId,\n          checkInformation: this.checkRemarks,\n          resourceIdListStr: resourceIdListStr.toString()\n        }, arr);\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          var isAllCheck = true;\n          for (var i in arr) {\n            if (arr[i].checkState === 0) {\n              isAllCheck = false;\n            }\n          }\n          if (this.delFileList.length !== 0) {\n            this.delImg();\n          }\n\n          if (this.repairRemark.length !== 0) {\n            if (this.repairFlag) {\n              this.dialogRepirVisible = true;\n            }\n          }\n          // 若为当前班次，则改变设备树状态\n          if (this.tabPosition === 'now') {\n            this.$emit('changeNode', isAllCheck);\n          }\n          // 提示正常信息\n          showSuccessMessage(res.message);\n        } else {\n          // 提示异常信息\n          showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    /**\n     * @description: 点击设备免检\n     * @param 无\n     * @return: 无\n     * @author: ZJM\n     */\n    holidayFree() {\n      this.$emit('holidayFree');\n    },\n    /**\n     * @description: 返回按钮点击\n     * @param 无\n     * @return:无\n     * @author: ZJM\n     */\n    goBack() {\n      this.$emit('goBack', VARIABLE.ZERO_NUMBER);\n    },\n    getNowDate() {\n      var _that = this;\n      _that.nowDate = moment(new Date().getTime()).format('YYYY-MM-DD');\n      setInterval(() => {\n        _that.nowDate = moment(new Date().getTime()).format('YYYY-MM-DD');\n      }, 500);\n    },\n    /**\n     * @description: 图片控制\n     * @param 无\n     * @return:无\n     * @author: ZJM\n     */\n    handleRemove(file, fileList) {\n      if (!file.flag) {\n        this.delFileList.push(file.response.rows.resourceId);\n        this.fileList = fileList;\n      } else {\n        this.delFileList.push(file.id);\n        this.fileList = fileList;\n      }\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    handlePictureCardPreviewx(url) {\n      this.dialogImageUrl = url;\n      this.dialogVisible = true;\n    },\n    updateFiles() {\n      if (!this.deviceCode) {\n        showWarningMessage(DEVICE_CHECK.PLEASE_CHOOSE_DEVICE);\n        return false;\n      }\n    },\n    updateSuccess(response, file, fileList) {\n      this.fileList.push(file);\n      if (response.code === this.GLOBAL.STATUS_CODE.OPERATION_SUCCESS) {\n        // this.fileList.push({\n        //   id: response.rows.resourceId,\n        //   url: IP.PUBLICIP + response.rows.fileUrl,\n        //   relationshipId: response.rows.relationshipId\n        // });\n      }\n    },\n    getFileList(imgFIle) {\n      const arr = imgFIle.map(item => {\n        var json = {\n          id: item.resourceId,\n          url: IP.PUBLICIP + item.fileUrl,\n          relationshipId: item.relationshipId,\n          flag: true\n        };\n        return json;\n      });\n      this.delFileList = [];\n      this.fileList = arr;\n    },\n    /**\n    * @description: 删除图片\n    * @param {type}\n    * @return:\n    */\n    async delImg() {\n      try {\n        const res = await delImgAction({ ids: this.delFileList }, []);\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          this.delFileList = [];\n          // 提示正常信息\n          // showSuccessMessage(res.message);\n        } else {\n          // 提示异常信息\n          showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    /**\n    * @description: 恢复\n    * @param {type}\n    * @return:\n    */\n    recovery() {\n      this.saveFalg = false;\n    },\n    /**\n    * @description: 停机\n    * @param {type}\n    * @return:\n    */\n    async halt() {\n      this.$refs.xGrid.clearActived();\n      // this.$refs.upload.clearFiles();\n      // 时间戳\n      var time = new Date().getTime();\n\n      var startTime = new Date(this.tableDatas[0].checkStartTime).getTime();\n      var endTime = new Date(this.tableDatas[0].checkEndTime).getTime() + (this.shiftData.extensionTime * 1000);\n\n      if (startTime > time || time > endTime) {\n        showWarningMessage(DEVICE_CHECK.CHECK_TIMEOUT);\n        return false;\n      }\n\n      // 当前时间\n      // var now = Number(moment(time).format('HH') * 60) + Number(moment(time).format('mm'));\n      // // 上班时间\n      // var startTime = Number(this.shiftData.shiftStartTime.split(':')[0] * 60) + Number(this.shiftData.shiftStartTime.split(':')[1]);\n      // // 下班时间\n      // var endTime = Number(this.shiftData.shiftEndTime.split(':')[0] * 60) + Number(this.shiftData.shiftEndTime.split(':')[1]) + this.shiftData.extensionTime;\n\n      // // 当上班时间小于下班时间\n      // if (startTime < endTime) {\n      //   // 若当前时间小于上班时间 或者 当前时间大于下班时间\n      //   if (now < startTime || now > endTime) {\n      //     showWarningMessage(DEVICE_CHECK.CHECK_TIMEOUT);\n      //     return false;\n      //   }\n      // }\n      // // 当上班时间大于下班时间\n      // if (startTime > endTime) {\n      //   // 若下班时间小于当前时间 并且 当前时间小于上班时间\n      //   if (endTime < now || now < startTime) {\n      //     showWarningMessage(DEVICE_CHECK.CHECK_TIMEOUT);\n      //     return false;\n      //   }\n      // }\n\n      const arr = this.tableDatas.map(item => {\n        var json = {\n          id: item.id,\n          value: item.value,\n          checkState: 3\n        };\n        return json;\n      });\n      const resourceIdListStr = this.fileList.map(item => {\n        var json = '';\n        if (!item.flag) {\n          json = item.response.rows.resourceId;\n        } else {\n          json = item.id;\n        }\n\n        return json;\n      });\n      try {\n        const res = await checkUpdateCheckListAction({\n          recordId: this.relationshipId,\n          checkInformation: this.checkRemarks,\n          resourceIdListStr: resourceIdListStr.toString()\n        }, arr);\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          var isAllCheck = true;\n          for (var i in arr) {\n            if (arr[i].checkState === 0) {\n              isAllCheck = false;\n            }\n          }\n          if (this.delFileList.length !== 0) {\n            this.delImg();\n          }\n          // 若为当前班次，则改变设备树状态\n          if (this.tabPosition === 'now') {\n            this.$emit('changeNode', isAllCheck);\n          }\n          this.searchItem();\n          // 提示正常信息\n          showSuccessMessage(res.message);\n        } else {\n          // 提示异常信息\n          showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    /**\n    * @description: 获取报修异常开关\n    * @param {type}\n    * @return:\n    */\n    async getCheckRepairTaskSwitch() {\n      try {\n        const res = await getCheckRepairTaskSwitchAction({}, []);\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          this.repairFlag = res.rows;\n          // 提示正常信息\n          // showSuccessMessage(res.message);\n        } else {\n          // 提示异常信息\n          // showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    /**\n    * @description: 生成维修单\n    * @param {type}\n    * @return:\n    */\n    async insertCheckRepairTask() {\n      try {\n        const res = await insertCheckRepairTaskAction({\n          deviceCode: this.deviceCode,\n          repairRemark: this.repairRemark\n        }, []);\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          this.dialogRepirVisible = false;\n          // 提示正常信息\n          showSuccessMessage(res.message);\n        } else {\n          // 提示异常信息\n          showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    async showReviewCheck() {\n      try {\n        const data = await configurationGetConfigurationByEnum({\n          configurationTypeEnum: 'CHECK_REVIEW'\n        }, {});\n\n        if (data.code === STATUS_CODE.OPERATION_SUCCESS) {\n          console.log(data);\n          if (data.rows.isEnable === 1) {\n            this.canReviewCheck = true;\n          } else {\n            this.canReviewCheck = false;\n          }\n        } else {\n          showWarningMessage(data.message);\n        }\n      } catch (error) {\n        // showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    checkReview() {\n      if (this.checkRecord.checkState === 0) {\n        showWarningMessage('未完成点检，无法进行审核！');\n      } else {\n        this.centerDialogVisible = true;\n      }\n    },\n    async checkReviewPass() {\n      try {\n        const data = await checkReview({}, [this.relationshipId]);\n        if (data.code === STATUS_CODE.OPERATION_SUCCESS) {\n          this.centerDialogVisible = false;\n          showSuccessMessage(data.message);\n          this.searchItem();\n        } else {\n          showWarningMessage(data.message);\n        }\n      } catch (error) {\n        // showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    async checkReviewNoPass() {\n      try {\n        const data = await checkUnReview({}, [this.relationshipId]);\n        if (data.code === STATUS_CODE.OPERATION_SUCCESS) {\n          this.centerDialogVisible = false;\n          showSuccessMessage(data.message);\n          this.searchItem();\n        } else {\n          showWarningMessage(data.message);\n        }\n      } catch (error) {\n        // showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    reviewText() {\n      // if (this.checkRecord.reviewState) {\n      //   if (this.checkRecord.reviewState === 1) {\n      //     return '【' + this.checkRecord.reviewedByName + '】审核通过';\n      //   } else {\n      //     return '【' + this.checkRecord.reviewedByName + '】审核不通过';\n      //   }\n      // } else {\n      //   return '未审核';\n      // }\n\n      var checkStartTime = new Date(this.checkRecord.checkStartTime).getTime();\n      var checkEndTime = new Date(this.checkRecord.checkEndTime).getTime();\n      var checkTime = new Date(this.checkRecord.checkTime).getTime();\n\n      var checkTimeStr = '';\n      if (this.checkRecord.checkTime) {\n        checkTimeStr = '点检时间：' + this.checkRecord.checkTime.replace('T', ' ');\n      } else {\n        checkTimeStr = '点检时间：';\n      }\n\n      var flag = 0;\n      for (var i = 0; i < this.tableDatas.length; i++) {\n        if (this.tableDatas[i].checkState === 0) {\n          flag = 1;\n        }\n      }\n\n      if (checkStartTime < checkTime && checkTime < checkEndTime) { // 属于正常点检时间范围内\n        // if (this.checkRecord.checkState === 1) {\n        //   this.canReviewCheckBtn = false;\n        //   return checkTimeStr;\n        // } else {\n        if (flag === 1) {\n          this.canReviewCheckBtn = false;\n          return checkTimeStr + ' 未点检完成';\n        } else {\n          this.canReviewCheckBtn = false;\n          return checkTimeStr + '';\n        }\n        // }\n      } else { // 超出正常点检时间\n        if (this.checkRecord.checkState === 1 || this.checkRecord.checkState === 5) {\n          this.canReviewCheckBtn = true;\n          if (this.checkRecord.reviewState) {\n            if (this.checkRecord.reviewState === 1) {\n              return checkTimeStr + ' 【' + this.checkRecord.reviewedByName + '】审核通过';\n            } else {\n              return checkTimeStr + ' 【' + this.checkRecord.reviewedByName + '】审核不通过';\n            }\n          } else {\n            return checkTimeStr + ' 超时点检';\n          }\n        } else {\n          this.canReviewCheckBtn = false;\n          if (this.checkRecord.checkTime) {\n            return checkTimeStr + ' 未点检完成';\n          } else {\n            return '点检情况：未点检';\n          }\n        }\n      }\n    }\n  }\n};\n","<!--\n * @Descripttion: 点检项列表\n * @version:\n * @Author: ZJM\n * @Date: 2020-04-14 10:09:28\n * @LastEditors: ZJM\n * @LastEditTime: 2021-12-24 16:41:56\n -->\n <template>\n  <el-container class=\"content\">\n    <el-main>\n      <vxe-grid\n        border=\"full\"\n        resizable\n        keep-source\n        ref=\"xGrid\"\n        class=\"vxe-table-element\"\n        height=\"350\"\n        :columns=\"tableColumns\"\n        :data=\"tableDatas\"\n        :edit-config=\"{\n          trigger: 'click',\n          mode: 'cell',\n          showStatus: false,\n          icon: 'fa fa-file-text-o'\n        }\"\n        @edit-actived=\"editActivedEvent\"\n      ></vxe-grid>\n      <p style=\"text-align: left;\" v-show=\"canReviewCheck\" >{{ reviewText() }} </p>\n      <p style=\"text-align: left;\" v-show=\"canReviewCheck\" >点检人：{{ shiftData.checkUser }} </p>\n      <div class=\"checkInfo\">\n        <span>{{ DEVICE_CHECK.JOB_DESCRIPTION }}:</span>\n        <el-input\n          type=\"textarea\"\n          :placeholder=\"CONSTANTS_CODE.PLEASE_ENTER_CONTENT\"\n          v-model=\"checkRemarks\"\n          :rows=\"3\"\n          :disabled=\"tableDatas.length === 0 || saveFalg\"\n          maxlength=\"200\"\n          show-word-limit\n        >\n        </el-input>\n        <!-- <el-upload\n          list-type=\"picture-card\"\n          ref=\"upload\"\n          :disabled=\"tableDatas.length === 0 || saveFalg\"\n          :headers=\"uploadConfig.headers\"\n          :action=\"uploadConfig.url\"\n          :data=\"uploadConfig.data\"\n          :before-upload=\"updateFiles\"\n          :file-list=\"fileList\"\n          :on-success=\"updateSuccess\"\n          :on-preview=\"handlePictureCardPreview\"\n          :on-remove=\"handleRemove\"\n        >\n          <i class=\"el-icon-plus\"></i>\n        </el-upload> -->\n        <el-dialog :visible.sync=\"dialogVisible\">\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\n        </el-dialog>\n      </div>\n      <div class=\"btnDiv\" style=\"margin-top: 20px;\" >\n        <el-button\n          type=\"danger\"\n          v-show=\"showRole(2)\"\n          :disabled=\"tableDatas.length === 0 || saveFalg\"\n          @click=\"holidayFree\"\n          >{{ DEVICE_CHECK.HOLIDAY_FREE }}</el-button\n        >\n        <el-button\n          :disabled=\"tableDatas.length === 0\"\n          v-show=\"saveFalg\"\n          @click=\"recovery\"\n          >{{ BTN_TEXT.RECOVERY }}</el-button\n        >\n        <el-button\n          v-show=\"!saveFalg\"\n          :disabled=\"tableDatas.length === 0 || saveFalg\"\n          @click=\"halt\"\n          >{{ BTN_TEXT.HALT }}</el-button\n        >\n        <el-input class=\"shiftNow\" v-model=\"nowShift\" :readonly=\"true\">\n        </el-input>\n        <!-- <el-button\n          v-show=\"showRole(3)\"\n          :disabled=\"tableDatas.length === 0 || saveFalg\"\n          @click=\"allSelect\"\n          >{{ DEVICE_CHECK.ALL_SELECT }}</el-button\n        >\n        <el-button\n          v-show=\"showRole(4)\"\n          :disabled=\"tableDatas.length === 0 || saveFalg\"\n          type=\"primary\"\n          @click=\"submit\"\n          >{{ BTN_TEXT.SAVE }}</el-button\n        > -->\n        <el-button\n          v-show=\"canReviewCheckBtn\"\n          type=\"primary\"\n          :disabled=\"tableDatas.length === 0 || saveFalg\"\n          @click=\"checkReview\"\n          >审核</el-button\n        >\n        <el-input class=\"nowDate\" v-model=\"nowDate\" :readonly=\"true\">\n        </el-input>\n      </div>\n      <el-dialog\n        :title=\"TITLE.PROMPT\"\n        :visible.sync=\"dialogRepirVisible\"\n        width=\"30%\"\n      >\n        <span>{{ DEVICE_CHECK.INSERT_CHECK_REPAIRTASK }}</span>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"dialogRepirVisible = false\">{{\n            BTN_TEXT.CLOSE\n          }}</el-button>\n          <el-button type=\"primary\" @click=\"insertCheckRepairTask\">{{\n            BTN_TEXT.CONFIRM\n          }}</el-button>\n        </span>\n      </el-dialog>\n\n      <el-dialog\n        title=\"提示\"\n        :visible.sync=\"centerDialogVisible\"\n        width=\"500px\"\n        center>\n        <span>请对本次点检任务进行审核</span>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"centerDialogVisible = false\">取 消</el-button>\n          <el-button type=\"success\" @click=\"checkReviewPass()\">通过</el-button>\n          <el-button type=\"danger\" @click=\"checkReviewNoPass()\">不通过</el-button>\n        </span>\n      </el-dialog>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport js from '@/assets/js/equipment/DeviceCheckManagement_rz/checkItemList';\nexport default js;\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../../assets/less/equipment/DeviceCheckManagement/checkItemList.less';\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkItemList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkItemList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./checkItemList.vue?vue&type=template&id=2b12ee32&scoped=true&\"\nimport script from \"./checkItemList.vue?vue&type=script&lang=js&\"\nexport * from \"./checkItemList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./checkItemList.vue?vue&type=style&index=0&id=2b12ee32&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b12ee32\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"content\"},[_c('el-main',[_c('div',{staticClass:\"histroyContent\"},_vm._l((_vm.tableDatas),function(item,index){return _c('div',{key:index,staticClass:\"histroyDiv\",on:{\"click\":function($event){return _vm.showItem(item)}}},[_c('div',{staticClass:\"cardBackground\",style:({ 'background-color': _vm.styleDict(item) })},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(_vm._s(_vm.moment(item.dayDateTime).format('DD'))),_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm.getWeekdayFromDate(item.dayDateTime)))])]),_vm._l((item.shiftUserCheckVoList),function(shift,index){return _c('div',{key:index,staticClass:\"shiftDiv\"},[_c('span',{style:({ 'color': _vm.styleShift(shift, item.dayDateTime) })},[_vm._v(_vm._s(shift.shiftName)+\":\"+_vm._s(shift.realNameList.join(',') === '' ? _vm.VARIABLE.NOT_HAVE : shift.realNameList.join(','))),(_vm.canReviewCheck)?_c('span',{staticStyle:{\"margin-left\":\"10px\"}},[_vm._v(_vm._s(_vm.reviewText(shift.checkRecord,shift)))]):_vm._e()])])})],2)])}),0),_c('div',{staticClass:\"monthContent\"},[_c('el-date-picker',{attrs:{\"clearable\":false,\"align\":'center',\"type\":\"month\",\"value-format\":\"yyyy-MM\",\"placeholder\":\"选择月\"},on:{\"change\":_vm.searchItem},model:{value:(_vm.month),callback:function ($$v) {_vm.month=$$v},expression:\"month\"}})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @Descripttion:点检历史\n * @version:\n * @Author: ZJM\n * @Date: 2020-06-17 14:12:52\n * @LastEditors: ZJM\n * @LastEditTime: 2022-09-22 10:09:36\n */\n// 引入标题组件\nimport HeaderTitle from '@/components/common/PageNavBar/HeaderTitle';\n// 引入标题元素组件\nimport HeadOperationItem from '@/components/common/PageNavBar/HeadOperationItem';\n// 导入所需接口\nimport moment from 'moment';\nimport {\n  checkGetListDeviceCheckHistoryAction\n} from '@/api/checkConfig';\nimport {\n  configurationGetConfigurationByEnum\n} from '@/api/system.js';\nimport { showWarningMessage } from '@/utils/message';\nimport {\n  TITLE, STATUS_CODE,\n  DEVICE_CHECK,\n  VARIABLE,\n  BTN_TEXT\n} from '@/utils/constantsFile';\nimport { showErrorNotify } from '@/utils/notify';\nexport default {\n  components: {\n    // 加载标题组件\n    HeaderTitle,\n    HeadOperationItem\n  },\n  props: {\n    // 设备code\n    deviceCode: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      BTN_TEXT: BTN_TEXT,\n      VARIABLE: VARIABLE,\n      month: '',\n      // table数据\n      tableDatas: [],\n      canReviewCheck: false\n    };\n  },\n  computed: {},\n  created() {\n    this.month = moment(new Date().getTime()).format('YYYY-MM');\n  },\n  mounted() {\n\n  },\n  methods: {\n    toggleFinish(row, value) {\n      row.isFinish = value;\n    },\n    /**\n     * @description: 获取点检历史数据\n     * @param 无\n     * @return:无\n     */\n    async searchItem() {\n      this.showReviewCheck();\n      this.tableDatas = [];\n      if (this.deviceCode === '') {\n        showWarningMessage(DEVICE_CHECK.PLEASE_CHOOSE_DEVICE);\n        return false;\n      }\n      try {\n        const res = await checkGetListDeviceCheckHistoryAction({\n          deviceCode: this.deviceCode,\n          yearMonth: this.month\n        });\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          // 将数据写入表单\n          this.tableDatas = res.rows;\n        } else {\n          // 提示异常信息\n          showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    /**\n     * @description: 显示历史详情\n     * @param val 历史数据\n     * @return: 无\n     * @author: ZJM\n     */\n    showItem(val) {\n      if (val.shiftUserCheckVoList.length === 0) {\n        showWarningMessage(DEVICE_CHECK.NOT_CHECK_INFO);\n        return false;\n      }\n      var day = moment(val.dayDateTime).format('DD');\n      this.$emit('toggleHistroyItem', day, this.month);\n    },\n    /**\n * @description: 显示颜色\n * @param val 显示颜色\n * @return: 无\n * @author: CH\n */\n    styleDict(item) {\n      const newArr = item.shiftUserCheckVoList;\n      if (newArr.length > 0) {\n        let finishType = 0;// 是否点检\n        for (let i = 0; i < newArr.length; i++) {\n          // if (newArr[i].isFinish === 0) {\n          //   finishType = 0; // 只要有一个班次未点检 则为未点检\n          //   break;\n          // } else if (newArr[i].isFinish === 2) {\n          //   finishType = 2;// 只要有一个班次假日点检 则为假日点检\n          //   break;\n          // } else {\n          //   finishType = 1; // 已点检\n          // }\n          if (newArr[i].userIdList.length > 0 && newArr[i].userIdList[0] !== -1) {\n            finishType++;\n          }\n        }\n        if (finishType === newArr.length) {\n          return '#D4ECC8';\n        } else if (finishType < newArr.length && finishType > 0) {\n          return '#FFEFD4';\n        } else {\n          return '#FFFFFF';\n        }\n      } else {\n        return '#FFFFFF';\n      }\n    },\n    styleShift(item, timeStr) {\n      if (item.isFinish) {\n        var checkStartTime = new Date(item.checkRecord.checkStartTime).getTime();\n        var checkEndTime = new Date(item.checkRecord.checkEndTime).getTime();\n        var checkTime = new Date(item.checkRecord.checkTime).getTime();\n        if (item.shiftInformation.showColorList && item.shiftInformation.showColorList.length > 0) {\n          var color = 'red';\n          var colorList = item.shiftInformation.showColorList;\n          for (var i = 0; i < colorList.length; i++) {\n            if (checkStartTime < checkTime && checkTime < checkEndTime) {\n              color = colorList[i].color;\n            }\n          }\n          return color;\n        } else {\n          return 'green';\n        }\n      } else {\n        return 'red';\n      }\n    },\n    async showReviewCheck() {\n      console.log(1111);\n      try {\n        const data = await configurationGetConfigurationByEnum({\n          configurationTypeEnum: 'CHECK_REVIEW'\n        }, {});\n\n        if (data.code === STATUS_CODE.OPERATION_SUCCESS) {\n          console.log(data);\n          if (data.rows.isEnable === 1) {\n            console.log(data.rows.isEnable);\n            this.canReviewCheck = true;\n          } else {\n            console.log(data.rows.isEnable);\n            this.canReviewCheck = false;\n          }\n        } else {\n          showWarningMessage(data.message);\n        }\n      } catch (error) {\n        // showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    reviewText(item, row) {\n      // console.log('审核', item);\n      var checkStartTime = new Date(item.checkStartTime).getTime();\n      var checkEndTime = new Date(item.checkEndTime).getTime();\n      var checkTime = new Date(item.checkTime).getTime();\n\n      if (checkStartTime < checkTime && checkTime < checkEndTime) { // 属于正常点检时间范围内\n        if (row.isFinish === 1) {\n          return '';\n        } else {\n          return '未完成';\n        }\n      } else { // 超出正常点检时间\n        if (item.checkState === 1 || item.checkState === 5) {\n          if (item.reviewState) {\n            if (item.reviewState === 1) {\n              return '【' + item.reviewedByName + '】审核通过';\n            } else {\n              return '【' + item.reviewedByName + '】审核不通过';\n            }\n          } else {\n            return '超时点检';\n          }\n        } else {\n          return '未点检';\n        }\n      }\n\n      // console.log('审核', item);\n      // if (item.reviewState) {\n      //   if (item.reviewState === 1) {\n      //     return '【' + item.reviewedByName + '】审核通过';\n      //   } else {\n      //     return '【' + item.reviewedByName + '】审核不通过';\n      //   }\n      // } else {\n      //   return '未审核';\n      // }\n    },\n    getWeekdayFromDate(dateString) {\n      const weekdays = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];\n      const date = new Date(dateString);\n      const dayOfWeek = date.getDay();\n      return weekdays[dayOfWeek];\n    }\n  }\n};\n","<!--\n * @Descripttion: 点检历史\n * @version:\n * @Author: ZJM\n * @Date: 2020-04-14 10:09:28\n * @LastEditors: ZJM\n * @LastEditTime: 2022-06-10 14:39:01\n -->\n <template>\n  <el-container class=\"content\">\n    <el-main>\n      <div class=\"histroyContent\">\n        <div\n          v-for=\"(item, index) in tableDatas\"\n          :key=\"index\"\n          @click=\"showItem(item)\"\n          class=\"histroyDiv\"\n        >\n          <div\n            class=\"cardBackground\"\n            :style=\"{ 'background-color': styleDict(item) }\"\n          >\n            <div style=\"text-align: center;\" >{{ moment(item.dayDateTime).format('DD')  }}<span style=\"margin-left: 10px;\" >{{ getWeekdayFromDate(item.dayDateTime) }}</span></div>\n            <div\n              v-for=\"(shift, index) in item.shiftUserCheckVoList\"\n              :key=\"index\"\n              class=\"shiftDiv\"\n            >\n              <span :style=\"{ 'color': styleShift(shift, item.dayDateTime) }\"\n                >{{ shift.shiftName }}:{{\n                  shift.realNameList.join(',') === ''\n                    ? VARIABLE.NOT_HAVE\n                    : shift.realNameList.join(',')\n                }}<span style=\"margin-left: 10px;\" v-if=\"canReviewCheck\" >{{ reviewText(shift.checkRecord,shift) }}</span></span>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"monthContent\">\n        <el-date-picker\n          :clearable=\"false\"\n          :align=\"'center'\"\n          v-model=\"month\"\n          type=\"month\"\n          value-format=\"yyyy-MM\"\n          placeholder=\"选择月\"\n          @change=\"searchItem\"\n        ></el-date-picker>\n      </div>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport js from '@/assets/js/equipment/DeviceCheckManagement_rz/checkHistroy';\nexport default js;\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../../assets/less/equipment/DeviceCheckManagement/checkHistroy.less';\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkHistroy.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkHistroy.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./checkHistroy.vue?vue&type=template&id=13c4de2f&scoped=true&\"\nimport script from \"./checkHistroy.vue?vue&type=script&lang=js&\"\nexport * from \"./checkHistroy.vue?vue&type=script&lang=js&\"\nimport style0 from \"./checkHistroy.vue?vue&type=style&index=0&id=13c4de2f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"13c4de2f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"content\"},[_c('el-main',[_c('vxe-grid',{ref:\"xGrid\",staticClass:\"vxe-table-element\",attrs:{\"border\":\"full\",\"resizable\":\"\",\"keep-source\":\"\",\"height\":\"350\",\"columns\":_vm.tableColumns,\"data\":_vm.tableDatas,\"edit-config\":{\n        trigger: 'click',\n        mode: 'cell',\n        showStatus: true,\n        icon: 'fa fa-file-text-o'\n      }}}),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canReviewCheck),expression:\"canReviewCheck\"}],staticStyle:{\"text-align\":\"left\"}},[_vm._v(_vm._s(_vm.reviewText())+\" \")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canReviewCheck),expression:\"canReviewCheck\"}],staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"点检人：\"+_vm._s(_vm.shiftData.checkUser)+\" \")]),_c('div',{staticClass:\"checkInfo\"},[_c('span',[_vm._v(_vm._s(_vm.DEVICE_CHECK.JOB_DESCRIPTION)+\":\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":_vm.CONSTANTS_CODE.PLEASE_ENTER_CONTENT,\"rows\":3,\"disabled\":true,\"maxlength\":\"200\",\"show-word-limit\":\"\"},model:{value:(_vm.checkRemarks),callback:function ($$v) {_vm.checkRemarks=$$v},expression:\"checkRemarks\"}}),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_c('div',{staticClass:\"btnDiv\",staticStyle:{\"margin-top\":\"20px\"}},[_c('el-select',{on:{\"change\":_vm.showItem},model:{value:(_vm.selectedShift),callback:function ($$v) {_vm.selectedShift=$$v},expression:\"selectedShift\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.shiftId,attrs:{\"label\":item.shiftName +\n            ':' +\n            item.shiftStartTime +\n            '~' +\n            item.shiftEndTime,\"value\":item.shiftId}})}),1),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.canReviewCheckBtn),expression:\"canReviewCheckBtn\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.checkReview}},[_vm._v(\"审核\")]),_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(_vm._s(_vm.BTN_TEXT.RETURN))]),_c('el-date-picker',{attrs:{\"readonly\":true,\"align\":\"center\",\"type\":\"day\",\"value-format\":\"YYYY-MM-DD\"},model:{value:(_vm.yearMonthDay),callback:function ($$v) {_vm.yearMonthDay=$$v},expression:\"yearMonthDay\"}})],1),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.centerDialogVisible,\"width\":\"500px\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.centerDialogVisible=$event}}},[_c('span',[_vm._v(\"请对本次点检任务进行审核\")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.centerDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.checkReviewPass()}}},[_vm._v(\"通过\")]),_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.checkReviewNoPass()}}},[_vm._v(\"不通过\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @Descripttion: 历史点检项\n * @version:\n * @Author: ZJM\n * @Date: 2020-06-17 15:10:24\n * @LastEditors: ZJM\n * @LastEditTime: 2022-06-04 15:02:31\n */\n\n// 引入标题组件\nimport HeaderTitle from '@/components/common/PageNavBar/HeaderTitle';\n// 引入标题元素组件\nimport HeadOperationItem from '@/components/common/PageNavBar/HeadOperationItem';\n// 导入所需接口\nimport {\n  checkGetListShiftByDeviceCodeAction,\n  checkGetCheckListByDateAndDeviceCodeAction,\n  checkReview,\n  checkUnReview\n} from '@/api/checkConfig';\nimport {\n  configurationGetConfigurationByEnum\n} from '@/api/system.js';\nimport {\n  showSuccessMessage,\n  showWarningMessage\n} from '@/utils/message';\nimport { VARIABLE, BTN_TEXT, CONSTANTS_CHECK, STATUS_CODE, TITLE, DEVICE_CHECK, CONSTANTS_CODE, IP, FILE_TYPE } from '@/utils/constantsFile';\nimport { showErrorNotify } from '@/utils/notify';\nexport default {\n  components: {\n    // 加载标题组件\n    HeaderTitle,\n    HeadOperationItem\n  },\n  props: {\n    // 设备code\n    deviceCode: {\n      type: String,\n      default: ''\n    },\n    // 年月日\n    yearMonthDay: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      BTN_TEXT: BTN_TEXT,\n      CONSTANTS_CODE: CONSTANTS_CODE,\n      DEVICE_CHECK: DEVICE_CHECK,\n      selectedShift: null,\n      options: [],\n      // 工作描述\n      checkRemarks: '',\n      // table数据\n      tableDatas: [],\n      // table表头配置\n      tableColumns: [\n        {\n          type: 'seq',\n          title: VARIABLE.SEQ,\n          align: 'center'\n        },\n        {\n          field: 'itemName',\n          title: CONSTANTS_CHECK.CHECK_ITEM,\n          align: 'center'\n        },\n        {\n          field: 'checkState',\n          title: CONSTANTS_CHECK.IS_FINISH,\n          align: 'center',\n          slots: {\n            default: ({ row, column }) => {\n              if (row.requiredNum === 0) {\n                if (row.checkState === 0) {\n                  return [\n                    <i\n                      onClick={() => this.toggleFinish(row, 1)}\n                      class=\"icon-unChecked\"\n                    ></i>\n                  ];\n                } else if (row.checkState === 1) {\n                  return [\n                    <i\n                      onClick={() => this.toggleFinish(row, 2)}\n                      class=\"icon-checked\"\n                    ></i>\n                  ];\n                } else if (row.checkState === 2) {\n                  return [\n                    <i\n                      onClick={() => this.toggleFinish(row, 0)}\n                      class=\"icon-no\"\n                    ></i>\n                  ];\n                } else if (row.checkState === 3) {\n                  return [\n                    <i\n                      onClick={() => this.toggleFinish(row, 1)}\n                      class=\"icon-stop\"\n                    ></i>\n                  ];\n                } else if (row.checkState === 4) {\n                  return [\n                    <i\n                      onClick={() => this.toggleFinish(row, 1)}\n                      class=\"icon-holiday\"\n                    ></i>\n                  ];\n                }\n              } else {\n                if (row.requireImg && row.requireImg[0]) {\n                  var img = row.requireImg[0].url;\n                  return [\n                    <img style=\"width:50px;height:50px;\" src={img} onClick={() => this.handlePictureCardPreviewx(img)} ></img>\n                  ];\n                } else {\n                  return [<span>未上传</span>];\n                }\n              }\n            }\n          }\n        },\n        {\n          field: 'value',\n          title: CONSTANTS_CHECK.REAL_VALUE,\n          align: 'center'\n        }\n      ],\n      // 图片上传\n      relationshipId: '',\n      dialogImageUrl: '',\n      fileList: [],\n      delFileList: [],\n      dialogVisible: false,\n      uploadConfig: {\n        headers: {\n          token: window.localStorage.getItem('token').replace(/\"/g, '')\n        },\n        url: IP.PUBLICIP + 'fileResource/uploadOneFile.action',\n        data: {\n          fileResourceTypeEnum: FILE_TYPE.CHECK_RECORD_IMAGE,\n          relationshipId: ''\n        }\n      },\n      canReviewCheckBtn: false,\n      canReviewCheck: false,\n      centerDialogVisible: false,\n      checkRecord: {},\n      shiftData: {}\n    };\n  },\n  computed: {},\n  created() {\n  },\n  mounted() {\n    // this.searchItem();\n  },\n  methods: {\n    toggleFinish(row, value) {\n      row.isFinish = value;\n    },\n    /**\n     * @description: 获取班次数据\n     * @param {type}\n     * @return:\n     */\n    async searchItem() {\n      this.tableDatas = [];\n      this.options = [];\n      this.selectedShift = null;\n      if (this.deviceCode === '') {\n        showWarningMessage(DEVICE_CHECK.PLEASE_CHOOSE_DEVICE);\n        return false;\n      }\n      try {\n        const res = await checkGetListShiftByDeviceCodeAction({\n          deviceCode: this.deviceCode,\n          date: this.yearMonthDay + ' 00:00:00'\n        });\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          this.options = res.rows.reverse();\n          this.selectedShift = res.rows[0].shiftId;\n          this.showItem();\n        } else {\n          // 提示异常信息\n          showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    /**\n     * @description: 查询点检项\n     * @param 无\n     * @return: 无\n     * @author: ZJM\n     */\n    async showItem() {\n      this.fileList = [];\n      this.checkRemarks = '';\n      try {\n        const res = await checkGetCheckListByDateAndDeviceCodeAction({\n          deviceCode: this.deviceCode,\n          date: this.yearMonthDay + ' 00:00:00',\n          shiftId: this.selectedShift\n        });\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          this.shiftData = res.rows;\n          this.tableDatas = res.rows.checkList;\n          this.checkRecord = res.rows.checkRecord;\n          this.checkRemarks = res.rows.checkRecord.checkInformation;\n          this.showReviewCheck();\n\n          // const httpInfo = this.$store.state.httpInfo;\n          // const httpUrl = httpInfo.http + ':' + httpInfo.port + this.$store.state.project;\n\n          for (var i = 0; i < this.tableDatas.length; i++) {\n            this.tableDatas[i].requiredNum = 0;\n          }\n\n          if (res.rows.checkImageList.length > 0) {\n            // eslint-disable-next-line no-redeclare\n            for (var i = 0; i < res.rows.checkImageList.length; i++) {\n              for (var x = 0; x < this.tableDatas.length; x++) {\n                // console.log(this.maintainList[x].itemId,this.maintainList[i].itemId)\n                if (this.tableDatas[x].itemId === Number(res.rows.checkImageList[i].fileName)) {\n                  this.tableDatas[x].requiredNum = 1;\n                  this.tableDatas[x].checkState = 1;\n\n                  var imgData = { ...res.rows.checkImageList[i] };\n                  var fileType = imgData.fileType;\n                  var fileImgUrl = imgData.fileUrl.split(imgData.fileType)[0] + fileType.toLowerCase();\n                  imgData.url = IP.PUBLICIP + fileImgUrl;\n                  console.log(imgData);\n\n                  this.tableDatas[x].requireImg = [imgData];\n                  // this.tableDatas[x].requireImg[0].url = IP.PUBLICIP + res.rows.checkImageList[i].fileUrl;\n                  // this.checkImgARR[x] = Number(da.rows.checkImageList[i].fileName)\n                  // }\n                }\n              }\n            }\n          }\n          // this.getFileList(res.rows.checkImageList);\n        } else {\n          // 提示异常信息\n          showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    /**\n     * @description: 返回按钮点击\n     * @param 无\n     * @return:无\n     * @author: ZJM\n     */\n    goBack() {\n      this.$emit('toggleHistroyItem');\n    },\n    /**\n    * @description: 图片控制\n    * @param 无\n    * @return:无\n    * @author: ZJM\n    */\n    handleRemove(file, fileList) {\n      if (!file.flag) {\n        this.delFileList.push(file.response.rows.resourceId);\n        this.fileList = fileList;\n      } else {\n        this.delFileList.push(file.id);\n        this.fileList = fileList;\n      }\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    updateFiles() {\n      if (!this.deviceCode) {\n        showWarningMessage(DEVICE_CHECK.PLEASE_CHOOSE_DEVICE);\n        return false;\n      }\n    },\n    updateSuccess(response, file, fileList) {\n      this.fileList.push(file);\n      if (response.code === this.GLOBAL.STATUS_CODE.OPERATION_SUCCESS) {\n        // this.fileList.push({\n        //   id: response.rows.resourceId,\n        //   url: IP.PUBLICIP + response.rows.fileUrl,\n        //   relationshipId: response.rows.relationshipId\n        // });\n      }\n    },\n    getFileList(imgFIle) {\n      const arr = imgFIle.map(item => {\n        var json = {\n          id: item.resourceId,\n          url: IP.PUBLICIP + item.fileUrl,\n          relationshipId: item.relationshipId,\n          flag: true\n        };\n        return json;\n      });\n      this.delFileList = [];\n      this.fileList = arr;\n    },\n    handlePictureCardPreviewx(url) {\n      this.dialogImageUrl = url;\n      this.dialogVisible = true;\n    },\n    async showReviewCheck() {\n      try {\n        const data = await configurationGetConfigurationByEnum({\n          configurationTypeEnum: 'CHECK_REVIEW'\n        }, {});\n\n        if (data.code === STATUS_CODE.OPERATION_SUCCESS) {\n          console.log(data);\n          if (data.rows.isEnable === 1) {\n            this.canReviewCheck = true;\n          } else {\n            this.canReviewCheck = false;\n          }\n        } else {\n          showWarningMessage(data.message);\n        }\n      } catch (error) {\n        // showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    checkReview() {\n      if (this.checkRecord.checkState === 0) {\n        showWarningMessage('未完成点检，无法进行审核！');\n      } else {\n        this.centerDialogVisible = true;\n      }\n    },\n    async checkReviewPass() {\n      try {\n        const data = await checkReview({}, [this.checkRecord.recordId]);\n        if (data.code === STATUS_CODE.OPERATION_SUCCESS) {\n          this.centerDialogVisible = false;\n          showSuccessMessage(data.message);\n          this.showItem();\n        } else {\n          showWarningMessage(data.message);\n        }\n      } catch (error) {\n        // showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    async checkReviewNoPass() {\n      try {\n        const data = await checkUnReview({}, [this.checkRecord.recordId]);\n        if (data.code === STATUS_CODE.OPERATION_SUCCESS) {\n          this.centerDialogVisible = false;\n          showSuccessMessage(data.message);\n          this.showItem();\n        } else {\n          showWarningMessage(data.message);\n        }\n      } catch (error) {\n        // showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    reviewText() {\n      var checkStartTime = new Date(this.checkRecord.checkStartTime).getTime();\n      var checkEndTime = new Date(this.checkRecord.checkEndTime).getTime();\n      var checkTime = new Date(this.checkRecord.checkTime).getTime();\n\n      var checkTimeStr = '';\n      if (this.checkRecord.checkTime) {\n        checkTimeStr = '点检时间：' + this.checkRecord.checkTime;\n      } else {\n        checkTimeStr = '点检时间：';\n      }\n\n      var flag = 0;\n      for (var i = 0; i < this.tableDatas.length; i++) {\n        if (this.tableDatas[i].checkState === 0) {\n          flag = 1;\n        }\n      }\n\n      if (checkStartTime < checkTime && checkTime < checkEndTime) { // 属于正常点检时间范围内\n        // if (this.checkRecord.checkState === 1) {\n        //   this.canReviewCheckBtn = false;\n        //   return checkTimeStr;\n        // } else {\n        if (flag === 1) {\n          this.canReviewCheckBtn = false;\n          return checkTimeStr + ' 未点检完成';\n        } else {\n          this.canReviewCheckBtn = false;\n          return checkTimeStr + '';\n        }\n        // }\n      } else { // 超出正常点检时间\n        if (this.checkRecord.checkState === 1 || this.checkRecord.checkState === 5) {\n          this.canReviewCheckBtn = true;\n          if (this.checkRecord.reviewState) {\n            if (this.checkRecord.reviewState === 1) {\n              return checkTimeStr + ' 【' + this.checkRecord.reviewedByName + '】审核通过';\n            } else {\n              return checkTimeStr + ' 【' + this.checkRecord.reviewedByName + '】审核不通过';\n            }\n          } else {\n            return checkTimeStr + ' 超时点检';\n          }\n        } else {\n          if (this.checkRecord.checkTime) {\n            return checkTimeStr + ' 未点检完成';\n          } else {\n            return '点检情况：未点检';\n          }\n        }\n      }\n    }\n  }\n};\n","<!--\n * @Descripttion: 历史点检项\n * @version:\n * @Author: ZJM\n * @Date: 2020-04-14 10:09:28\n * @LastEditors: CH\n * @LastEditTime: 2021-02-24 16:11:35\n -->\n <template>\n  <el-container class=\"content\">\n    <el-main>\n      <vxe-grid\n        border=\"full\"\n        resizable\n        keep-source\n        ref=\"xGrid\"\n        class=\"vxe-table-element\"\n        height=\"350\"\n        :columns=\"tableColumns\"\n        :data=\"tableDatas\"\n        :edit-config=\"{\n          trigger: 'click',\n          mode: 'cell',\n          showStatus: true,\n          icon: 'fa fa-file-text-o'\n        }\"\n      ></vxe-grid>\n      <p style=\"text-align: left;\" v-show=\"canReviewCheck\" >{{ reviewText() }} </p>\n      <p style=\"text-align: left;\" v-show=\"canReviewCheck\" >点检人：{{ shiftData.checkUser }} </p>\n      <div class=\"checkInfo\">\n        <span>{{ DEVICE_CHECK.JOB_DESCRIPTION }}:</span>\n        <el-input\n          type=\"textarea\"\n          :placeholder=\"CONSTANTS_CODE.PLEASE_ENTER_CONTENT\"\n          v-model=\"checkRemarks\"\n          :rows=\"3\"\n          :disabled=\"true\"\n          maxlength=\"200\"\n          show-word-limit\n        >\n        </el-input>\n        <!-- <el-upload\n          list-type=\"picture-card\"\n          ref=\"upload\"\n          :disabled=\"true\"\n          :action=\"uploadConfig.url\"\n          :file-list=\"fileList\"\n          :on-preview=\"handlePictureCardPreview\"\n        >\n          <i class=\"el-icon-plus\"></i>\n        </el-upload> -->\n        <el-dialog :visible.sync=\"dialogVisible\">\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\n        </el-dialog>\n      </div>\n      <div class=\"btnDiv\" style=\"margin-top: 20px;\"  >\n        <el-select v-model=\"selectedShift\" @change=\"showItem\">\n          <el-option\n            v-for=\"item in options\"\n            :key=\"item.shiftId\"\n            :label=\"\n              item.shiftName +\n              ':' +\n              item.shiftStartTime +\n              '~' +\n              item.shiftEndTime\n            \"\n            :value=\"item.shiftId\"\n          >\n          </el-option>\n        </el-select>\n        <el-button\n          v-show=\"canReviewCheckBtn\"\n          type=\"primary\"\n          @click=\"checkReview\"\n          >审核</el-button\n        >\n        <el-button @click=\"goBack\">{{ BTN_TEXT.RETURN }}</el-button>\n        <el-date-picker\n          :readonly=\"true\"\n          v-model=\"yearMonthDay\"\n          align=\"center\"\n          type=\"day\"\n          value-format=\"YYYY-MM-DD\"\n        ></el-date-picker>\n      </div>\n\n      <el-dialog\n        title=\"提示\"\n        :visible.sync=\"centerDialogVisible\"\n        width=\"500px\"\n        center>\n        <span>请对本次点检任务进行审核</span>\n        <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"centerDialogVisible = false\">取 消</el-button>\n          <el-button type=\"success\" @click=\"checkReviewPass()\">通过</el-button>\n          <el-button type=\"danger\" @click=\"checkReviewNoPass()\">不通过</el-button>\n        </span>\n      </el-dialog>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nimport js from '@/assets/js/equipment/DeviceCheckManagement_rz/checkHistroyItem';\nexport default js;\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../../assets/less/equipment/DeviceCheckManagement/checkHistroyItem.less';\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkHistroyItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkHistroyItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./checkHistroyItem.vue?vue&type=template&id=5a722e95&scoped=true&\"\nimport script from \"./checkHistroyItem.vue?vue&type=script&lang=js&\"\nexport * from \"./checkHistroyItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./checkHistroyItem.vue?vue&type=style&index=0&id=5a722e95&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a722e95\",\n  null\n  \n)\n\nexport default component.exports","/*\n * @Descripttion: 设备点检主页面js\n * @version: 0.1\n * @Author: ZJM\n * @Date: 2020-05-21 15:26:48\n * @LastEditors: ZJM\n * @LastEditTime: 2022-10-26 19:54:28\n */\n// 引入标题组件\nimport HeaderTitle from '@/components/common/PageNavBar/HeaderTitle';\n// 引入标题元素组件\nimport HeadOperationItem from '@/components/common/PageNavBar/HeadOperationItem';\nimport sHeader from '@/components/common/StationHeader/header.vue';\nimport HeaderAction from '@/components/common/StationHeader/headerAction.vue';\nimport moment from 'moment';\n// 引入ztree树形组件\nimport ZTree from '@/components/common/ZTree/ZTreeCheck';\n// 引入提示组件\nimport {\n  showSuccessMessage,\n  showWarningMessage\n} from '@/utils/message';\nimport { showErrorNotify } from '@/utils/notify';\nimport { TITLE, STATUS_CODE, BTN_TEXT, CONSTANTS_DEVICE_CONFIGURATION, DEVICE_CHECK, WORK_STATION } from '@/utils/constantsFile';\n// 引入类型信息组件\nimport checkItemList from '@/views/equipment/DeviceCheckManagement_rz/checkItemList.vue';\nimport checkHistroy from '@/views/equipment/DeviceCheckManagement_rz/checkHistroy.vue';\nimport checkHistroyItem from '@/views/equipment/DeviceCheckManagement_rz/checkHistroyItem.vue';\n// 导入所需接口\nimport {\n  checkGetListGroupTreeDeviceCheckByCurrentUserAction,\n  checkUpdateHolidayInspectionFreeAction,\n  checkGetListGroupTreeDeviceCheckAction\n} from '@/api/checkConfig';\nimport { getUrlKey } from '@/utils/common';\nexport default {\n  name: 'DeviceCheckManagement',\n  components: {\n    // 加载标题组件\n    HeaderTitle,\n    // 加载标题元素组件\n    HeadOperationItem,\n    // 加载树形组件\n    ZTree,\n    // 加载组件\n    checkItemList,\n    checkHistroy,\n    checkHistroyItem,\n    sHeader,\n    HeaderAction\n  },\n  data() {\n    return {\n      WORK_STATION: WORK_STATION,\n      DEVICE_CHECK: DEVICE_CHECK,\n      BTN_TEXT: BTN_TEXT,\n      CONSTANTS_DEVICE_CONFIGURATION: CONSTANTS_DEVICE_CONFIGURATION,\n      // 是否显示历史详情\n      showItem: false,\n      // table标题\n      HeadTitleName: CONSTANTS_DEVICE_CONFIGURATION.DEVICE_LIST,\n      tableName: 'device',\n      // tab切换\n      tabPosition: 'now',\n      // 新增时显示模板选择\n      showModelItem: false,\n      // 用于操作当前显示哪个组件 0：主页面 1：新增子节点参数\n      showPage: 0,\n      // ztree对象\n      ztreeObj: {},\n      // ztree选中节点对象\n      ztreeSelectedNode: {\n        id: '-1',\n        pId: '-1'\n      },\n      // ztree树形数据\n      nodeData: [],\n      nodeDataBf: [],\n      // 历史点击的日期\n      histroyDay: '',\n      // 历史日期年-月\n      histroyMonth: '',\n      searchInput: ''\n    };\n  },\n  computed: {},\n  created() {\n    // 调用查询树形数据接口\n    this.getTree();\n  },\n  watch: {\n    // 切换车间分组和设备类型查询\n    tabPosition(val) {\n      this.showItem = false;\n      // 当前班次\n      if (val === 'now') {\n        setTimeout(() => {\n          this.$refs.checkItemList.searchItem();\n        }, 0);\n      } else if (val === 'prev') { // 上一班次\n        setTimeout(() => {\n          this.$refs.checkItemList.searchItem();\n        }, 0);\n      } else if (val === 'histroy') { // 点检历史\n        setTimeout(() => {\n          this.$refs.checkHistroy.searchItem();\n        }, 0);\n      }\n    }\n  },\n  methods: {\n    showRole: function(val) {\n      const id = getUrlKey('id');\n      console.log(id);\n      var json = { ...this.$store.state.pageInfo[id] };\n      console.log('666', json.buttonList);\n      var arr = json.buttonList;\n      if (json.buttonList) {\n        for (var i = 0; i < arr.length; i++) {\n          if (val === Number(arr[i].type)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n    inputEven(e) {\n      console.log(e);\n      console.log(this.nodeData, this.nodeDataBf);\n      if (e) {\n        var jsonArr = [];\n        for (var i = 0; i < this.nodeData.length; i++) {\n          if (this.nodeData[i].name.indexOf(e) > -1) {\n            jsonArr.push(this.nodeData[i]);\n          }\n        }\n        this.nodeData = [...jsonArr];\n      } else {\n        this.nodeData = [...this.nodeDataBf];\n      }\n    },\n    /**\n     * @description: ztree单击事件\n     * @param event 事件对象\n     * @param nodes 选中数据对象\n     * @param obj ztree对象\n     * @return: 无\n     * @author: ZJM\n     */\n    ztreeOnClick(event, nodes, obj) {\n      // 获取选中数据\n      this.ztreeSelectedNode = nodes;\n      // 获取ztree对象\n      this.ztreeObj = obj;\n      // 当前班次\n      if (this.tabPosition === 'now') {\n        setTimeout(() => {\n          this.$refs.checkItemList.searchItem();\n        }, 0);\n      } else if (this.tabPosition === 'prev') { // 上一班次\n        setTimeout(() => {\n          this.$refs.checkItemList.searchItem();\n        }, 0);\n      } else if (this.tabPosition === 'histroy') { // 点检历史\n        // 是否显示点检详情\n        if (this.showItem) {\n          setTimeout(() => {\n            this.$refs.checkHistroyItem.searchItem();\n          }, 0);\n        } else { // 显示点检历史\n          setTimeout(() => {\n            this.$refs.checkHistroy.searchItem();\n          }, 0);\n        }\n      }\n    },\n    /**\n     * @description: ztree初始化完成事件\n     * @param obj ztree对象\n     * @return: 无\n     * @author: ZJM\n     */\n    ztreeHandleCreated(obj) {\n      // 获取ztree对象\n      this.ztreeObj = obj;\n    },\n    /**\n     * @description: 获取类型树数据\n     * @param 无\n     * @return: 无\n     * @author: ZJM\n     */\n    async getTree() {\n      try {\n        if (this.$route.query.isWorkstation) {\n          const res = await checkGetListGroupTreeDeviceCheckByCurrentUserAction();\n          if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n            // 将数据写入表单\n            var jsonArr = res.rows.map(item => {\n              if (item.code) {\n                if (item.type === 1) {\n                  item.iconSkin = 'yes';\n                  item.isChecked = true;\n                } else if (item.type === 0) {\n                  item.iconSkin = 'no';\n                  item.isChecked = false;\n                } else if (item.type === 6) {\n                  item.iconSkin = 'ing';\n                  item.isChecked = true;\n                }\n              }\n              return item;\n            });\n            this.nodeData = [...jsonArr];\n            this.nodeDataBf = [...jsonArr];\n            console.log(7788, this.nodeData, this.nodeDataBf);\n          } else {\n            // 提示异常信息\n            showWarningMessage(res.message);\n          }\n        } else {\n          const res = await checkGetListGroupTreeDeviceCheckAction();\n          if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n            // 将数据写入表单\n            // eslint-disable-next-line no-redeclare\n            var jsonArr = res.rows.map(item => {\n              if (item.code) {\n                if (item.type === 1) {\n                  item.iconSkin = 'yes';\n                  item.isChecked = true;\n                } else if (item.type === 0) {\n                  item.iconSkin = 'no';\n                  item.isChecked = false;\n                } else if (item.type === 6) {\n                  item.iconSkin = 'ing';\n                  item.isChecked = true;\n                }\n              }\n              return item;\n            });\n            this.nodeData = [...jsonArr];\n            this.nodeDataBf = [...jsonArr];\n            console.log(7788, this.nodeData, this.nodeDataBf);\n          } else {\n            // 提示异常信息\n            showWarningMessage(res.message);\n          }\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    /**\n     * @description: 改变设备的点检状态\n     * @param param 切换值\n     * @return: 无\n     * @author: ZJM\n     */\n    changeNode(param) {\n      if (!param) {\n        this.ztreeSelectedNode.iconSkin = 'no';\n        this.ztreeSelectedNode.isChecked = false;\n      } else {\n        this.ztreeSelectedNode.iconSkin = 'yes';\n        this.ztreeSelectedNode.isChecked = true;\n      }\n      this.ztreeObj.updateNode(this.ztreeSelectedNode);\n    },\n    /**\n     * @description: 切换显示历史和历史详情\n     * @param day 日期\n     * @param month 年月\n     * @return: 无\n     * @author: ZJM\n     */\n    toggleHistroyItem(day, month) {\n      this.histroyDay = day + '';\n      this.histroyMonth = month + '';\n      this.showItem = !this.showItem;\n      if (this.showItem) {\n        setTimeout(() => {\n          this.$refs.checkHistroyItem.searchItem();\n        }, 0);\n      } else {\n        setTimeout(() => {\n          this.$refs.checkHistroy.searchItem();\n        }, 0);\n      }\n    },\n    /**\n     * @description: 设备假日免检\n     * @param 无\n     * @return: 无\n     * @author: ZJM\n     */\n    async holidayFree() {\n      this.$confirm(DEVICE_CHECK.COMFIRM_HOLIDAY_FREE, TITLE.PROMPT, {\n        confirmButtonText: BTN_TEXT.CONFIRM,\n        cancelButtonText: BTN_TEXT.CANCEL,\n        type: 'warning'\n      })\n        .then(() => {\n          this.setHolidayFree();\n        })\n        .catch(() => { });\n    },\n    /**\n     * @description: 执行设备假日免检\n     * @param 无\n     * @return: 无\n     * @author: ZJM\n     */\n    async setHolidayFree() {\n      try {\n        const res = await checkUpdateHolidayInspectionFreeAction({\n          date: moment(new Date().getTime()).format('YYYY-MM-DD') + ' 00:00:00',\n          deviceCode: this.ztreeSelectedNode.code\n        });\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          // 将数据写入表单\n          showSuccessMessage(res.message);\n          this.changeNode(true);\n          this.$refs.checkItemList.searchItem();\n        } else {\n          // 提示异常信息\n          showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    /**\n     * @description: 全部设备假日免检\n     * @param 无\n     * @return: 无\n     * @author: ZJM\n     */\n    async holidayAllFree() {\n      this.$confirm(DEVICE_CHECK.COMFIRM_HOLIDAY_ALL_FREE, TITLE.PROMPT, {\n        confirmButtonText: BTN_TEXT.CONFIRM,\n        cancelButtonText: BTN_TEXT.CANCEL,\n        type: 'warning'\n      })\n        .then(() => {\n          this.setHolidayAllFree();\n        })\n        .catch(() => { });\n    },\n    /**\n     * @description: 执行全部设备假日免检\n     * @param 无\n     * @return: 无\n     * @author: ZJM\n     */\n    async setHolidayAllFree() {\n      try {\n        const res = await checkUpdateHolidayInspectionFreeAction({\n          date: moment(new Date().getTime()).format('YYYY-MM-DD') + ' 00:00:00'\n        });\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          // 将数据写入表单\n          showSuccessMessage(res.message);\n          for (var item in this.nodeData) {\n            if (this.nodeData[item].code) {\n              const node = this.ztreeObj.getNodeByParam('code', this.nodeData[item].code, null);\n              node.iconSkin = 'yes';\n              node.isChecked = true;\n              this.ztreeObj.updateNode(node);\n            }\n          }\n        } else {\n          // 提示异常信息\n          showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    goHome() {\n      this.$router.replace('/workstation/home');\n    }\n  }\n};\n","<!--\n * @Descripttion: 设备点检页面\n * @version:\n * @Author: ZJM\n * @Date: 2020-04-14 10:09:28\n * @LastEditors: ZJM\n * @LastEditTime: 2021-12-24 16:42:42\n -->\n<template>\n  <div class=\"h100\">\n  <sHeader v-if=\"$route.query.isWorkstation\" :titleName=\"WORK_STATION.EQUIPMENT_CHECKING\">\n    <div slot=\"header-action\" class=\"head-operation\">\n      <HeaderAction name=\"1\" @onOprationItem=\"goHome()\">\n        <el-button slot=\"action\" >\n          <i class=\"el-icon-d-arrow-left\"></i>{{BTN_TEXT.RETURN}}\n        </el-button>\n      </HeaderAction>\n    </div>\n  </sHeader>\n    <el-container :class=\"{'content':true,'content-workstation':$route.query.isWorkstation}\">\n      <el-header v-if=\"!$route.query.isWorkstation\">\n        <HeaderTitle class=\"header-title\"></HeaderTitle>\n      </el-header>\n\n      <el-main :class=\"{'el-main-workstation':$route.query.isWorkstation}\">\n        <div class=\"area-main\">\n          <div class=\"area-aside\">\n            <HeaderTitle class=\"header-title\" :titleName=\"DEVICE_CHECK.DEVICE_LIST\">\n              <div slot=\"head-operation\" class=\"head-operation\">\n                <el-button\n                  v-show=\"showRole(1)\"\n                  type=\"danger\"\n                  size=\"mini\"\n                  @click=\"holidayAllFree\"\n                >{{DEVICE_CHECK.HOLIDAY_ALL_FREE}}</el-button>\n              </div>\n            </HeaderTitle>\n            <div class=\"area-tree\">\n              <div class=\"area-zTree\">\n                <el-input v-model=\"searchInput\" @input=\"inputEven\" placeholder=\"请输入搜索值\" ></el-input>\n                <ZTree\n                  :isExpendAll=\"true\"\n                  :nodes=\"nodeData\"\n                  @ztreeOnClick=\"ztreeOnClick\"\n                  @ztreeHandleCreated=\"ztreeHandleCreated\"\n                ></ZTree>\n              </div>\n            </div>\n          </div>\n          <div class=\"area-info\">\n            <template>\n              <div class=\"userInformation\">\n                <el-radio-group v-model=\"tabPosition\">\n                  <el-radio-button label=\"prev\">{{DEVICE_CHECK.PREV_SHIFT}}</el-radio-button>\n                  <el-radio-button label=\"now\">{{DEVICE_CHECK.NOW_SHIFT}}</el-radio-button>\n                  <el-radio-button label=\"histroy\">{{DEVICE_CHECK.HISTROY_SHIFT}}</el-radio-button>\n                </el-radio-group>\n                <checkItemList\n                  ref=\"checkItemList\"\n                  :tabPosition=\"tabPosition\"\n                  :deviceCode=\"ztreeSelectedNode.code\"\n                  v-if=\"tabPosition!=='histroy'\"\n                  @changeNode=\"changeNode\"\n                  @holidayFree=\"holidayFree\"\n                ></checkItemList>\n                <checkHistroy\n                  ref=\"checkHistroy\"\n                  :deviceCode=\"ztreeSelectedNode.code\"\n                  v-show=\"tabPosition==='histroy' && !showItem \"\n                  @toggleHistroyItem=\"toggleHistroyItem\"\n                ></checkHistroy>\n                <checkHistroyItem\n                  ref=\"checkHistroyItem\"\n                  v-if=\"tabPosition==='histroy' && showItem \"\n                  :deviceCode=\"ztreeSelectedNode.code\"\n                  :yearMonthDay=\"histroyMonth +'-'+ histroyDay\"\n                  @toggleHistroyItem=\"toggleHistroyItem\"\n                ></checkHistroyItem>\n              </div>\n            </template>\n          </div>\n        </div>\n      </el-main>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport js from '@/assets/js/equipment/DeviceCheckManagement_rz/index';\nexport default js;\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../../assets/less/equipment/DeviceCheckManagement/index.less';\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=bb8ee110&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=bb8ee110&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bb8ee110\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkItemList.vue?vue&type=style&index=0&id=2b12ee32&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./checkItemList.vue?vue&type=style&index=0&id=2b12ee32&lang=less&scoped=true&\""],"sourceRoot":""}