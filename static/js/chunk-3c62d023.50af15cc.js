(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c62d023"],{"03f1":function(e,t,n){},7598:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"s",(function(){return f})),n.d(t,"y",(function(){return p})),n.d(t,"x",(function(){return v})),n.d(t,"w",(function(){return g})),n.d(t,"H",(function(){return m})),n.d(t,"I",(function(){return h})),n.d(t,"j",(function(){return y})),n.d(t,"m",(function(){return b})),n.d(t,"k",(function(){return T})),n.d(t,"l",(function(){return w})),n.d(t,"o",(function(){return k})),n.d(t,"J",(function(){return O})),n.d(t,"t",(function(){return x})),n.d(t,"E",(function(){return R})),n.d(t,"A",(function(){return C})),n.d(t,"F",(function(){return S})),n.d(t,"z",(function(){return D})),n.d(t,"p",(function(){return B})),n.d(t,"n",(function(){return j})),n.d(t,"v",(function(){return L})),n.d(t,"u",(function(){return F})),n.d(t,"a",(function(){return E})),n.d(t,"C",(function(){return _})),n.d(t,"r",(function(){return M})),n.d(t,"q",(function(){return A})),n.d(t,"G",(function(){return H})),n.d(t,"D",(function(){return z})),n.d(t,"B",(function(){return I}));var i=n("b775"),a=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceRealState.action?",e,t)},o=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceStateReportStatistics.action?",e,t)},r=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceManager/getCheckCount.action?",e,t)},c=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceManager/getRepairTaskCount.action?",e,t)},u=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceManager/getMaintainTaskCount.action?",e,t)},d=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceReport/getDeviceDayUtilization.action?",e,t)},s=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceEarlyWarning/getDeviceWarnRecord.action?",e,t)},l=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getPageByDevice.action?",e,t)},f=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceMonitorReport.action?",e,t)},p=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getGasHoursUseReportBoard.action?",e,t)},v=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getEnergyTodayUse.action?",e,t)},g=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getEnergyTodayAndWeek.action?",e,t)},m=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getTodayAndYesterdayElectricityRecord.action?",e,t)},h=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getTopTenElectricityDevices.action?",e,t)},y=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getElectricityEnergyReport.action?",e,t)},b=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getWaterEnergyReport.action?",e,t)},T=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getGasEnergyReport.action?",e,t)},w=function(e,t){return Object(i["k"])("open-api/TvBoard/energyReport/getRecentDayEnergyRecord.action?",e,t)},k=function(e,t){return Object(i["k"])("realUserWork/getAndonKanbanOfRiSheng.action?",e,t)},O=function(e,t,n){return Object(i["k"])("existFunctionUpdate/listDeviceExceptionCount.action",e,t,n)},x=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceReport/getDeviceStateReportStatistics.action?",e,t,n)},R=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceManager/getRepairTask.action?",e,t,n)},C=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceManager/getMaintainTask.action?",e,t,n)},S=function(e,t,n){return Object(i["d"])("open-api/getTime.action?",e,t,n)},D=function(e,t,n){return Object(i["k"])("open-api/getGroupTree.action?",e,t,n)},B=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceManager/getConfigurationByEnum.action?",e,t,n)},j=function(e,t,n){return Object(i["k"])("open-api/TvBoard/device/getAllGroupAndDevice.action?",e,t,n)},L=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeFluctuationRate.action?",e,t,n)},F=function(e,t,n){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeCapacityAndEnergyEfficiency.action?",e,t,n)},E=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getOneDayDetailStateClockInfo.action?",e,t)},_=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceReport/getOneDayDetailStateClock.action?",e,t)},M=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceInfo.action?",e,t)},A=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getDeviceHoursEffTrend.action?",e,t)},H=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getTimeDayTypeProduction.action?",e,t)},z=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceReport/getQueryDeviceStateTimeUtilization.action?",e,t)},I=function(e,t){return Object(i["k"])("open-api/TvBoard/deviceRealLive/getManyDeviceTimeFluctuationRate.action?",e,t)}},e465:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kanban"},[n("div",{staticClass:"titleHead"},[n("p",{attrs:{id:"pHead"}},[e._v(e._s(e.kanbanConfig.title))]),n("p",{attrs:{id:"time"}},[e._v(e._s(e.time))])]),n("div",{staticClass:"kanbanContent"},[n("div",{staticClass:"rightContent"},e._l(e.dataList,(function(t,i){return n("div",{key:i,staticClass:"right2"},[n("div",{staticClass:"right2title"},[e._v(" "+e._s(t.deviceName)+" "),n("div",{class:e.devClass(t)},[e._v(e._s(e.devStateName(t))),n("div")])]),n("div",{staticClass:"rightCard"},[n("div",{staticClass:"card card1"},[n("p",[e._v(e._s(e.valueFunc1(t.dayEnergyConsumption)))]),n("p",[e._v("当日流量")])]),n("div",{staticClass:"card card2"},[n("p",[e._v(e._s(e.valueFunc1(t.allConsumption)))]),n("p",[e._v("累计流量")])])]),n("div",{staticClass:"tableDiv"},e._l(t.xyVoList,(function(i,a){return n("div",{key:a,staticClass:"valueDiv"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.xyIf(a,t.xyVoList),expression:"xyIf(indexx,item.xyVoList)"}],staticClass:"valueDivx"},[n("span",[e._v(e._s(e.strFunc(i.x))+"时：")]),n("span",[e._v(e._s(e.valueFunc(i.y)))])])])})),0)])})),0)])])},a=[],o=(n("a9e3"),n("b680"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("96cf"),n("1da1")),r=n("1157"),c=n.n(r),u=n("582a"),d=n("99f6"),s=n("7598"),l={name:"kanban",data:function(){return{refList:[],time:"",kanbanConfig:{},dataList:[],dataTime:"",xyIndex:0,xyFirst:!0}},mounted:function(){var e=this;this.kanbanConfig=d["m"][this.getUrlKeyMain("cid",window.location.href)],setTimeout((function(){e.showEchartsData()}),500),setInterval((function(){e.showEchartsData()}),this.kanbanConfig.time),this.getDataTime()},created:function(){},methods:{devStateName:function(e){return 1===e.deviceRealState?"在线":3===e.deviceRealState?"离线":void 0},strFunc:function(e){return e.substring(11,13)},xyIf:function(e,t){return!0},devClass:function(e){return 1===e.deviceRealState?"devCricle run":3===e.deviceRealState?"devCricle noLine":void 0},valueFunc:function(e){return Number(e)?Number(Number(e).toFixed(3)):0},showEchartsData:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,i,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={startTime:"",endTime:""},i=new Date(e.dataTime).getHours(),console.log(i),i<7?(n.startTime=e.timeFunc(e.dataTime-432e5,"19"),n.endTime=e.timeFunc(e.dataTime,"07")):i>19?(n.startTime=e.timeFunc(e.dataTime,"19"),n.endTime=e.timeFunc(e.dataTime+432e5,"07")):(n.startTime=e.timeFunc(e.dataTime,"07"),n.endTime=e.timeFunc(e.dataTime,"19")),console.log(n),t.next=8,Object(s["y"])(n,{secretKey:e.kanbanConfig.key});case 8:if(a=t.sent,a.code===u["M"].OPERATION_SUCCESS)for(e.dataList=a.rows,o=0;o<e.dataList.length;o++)e.dataList[o].dayEnergyConsumption=Number(e.dataList[o].dayEnergyConsumption.toFixed(3)),e.dataList[o].allConsumption=Number(e.dataList[o].allConsumption.toFixed(3));t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](0);case 14:return t.prev=14,t.finish(14);case 16:case"end":return t.stop()}}),t,null,[[0,12,14,16]])})))()},setItemRef:function(e){this.refList.push(e)},drawOne:function(e,t,n,i){var a={a:12,b:35,c:18};window.screen.width<=1024?a={a:10,b:25,c:8}:window.screen.width<=1280&&(a={a:12,b:20,c:12});var o=this.$echarts.init(i),r={color:["#ddd","#fff"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:20,right:50,top:30,bottom:5,containLabel:!0},legend:{right:"20px",top:"10px",icon:"rect",itemGap:20,itemWidth:20,itemHeight:6,textStyle:{color:"#fff",fontSize:a.a}},calculable:!0,xAxis:[{name:"时间",nameTextStyle:{color:"#929ee6",fontSize:a.a,textShadowColor:"#000",textShadowOffsetY:2},boundaryGap:!1,type:"category",data:e,axisLine:{show:!0,lineStyle:{width:2,color:"#2077a3"},symbol:["none","arrow"]},axisLabel:{margin:10,color:"#929ee6",fontSize:a.a,textShadowColor:"#000",textShadowOffsetY:2}}],yAxis:{name:"m³",nameTextStyle:{color:"#929ee6",fontSize:a.a,textShadowColor:"#000",textShadowOffsetY:2},type:"value",splitLine:{show:!1,lineStyle:{color:"rgba(255,255,255,.2)"}},axisLine:{show:!0,lineStyle:{width:2,color:"#2077a3"},symbol:["none","arrow"]},axisTick:{show:!1},axisLabel:{color:"#929ee6",fontSize:a.a,textShadowColor:"#000",textShadowOffsetY:2},data:[]},series:[{name:"瞬时流量",type:"line",smooth:!0,showAllSymbol:!0,symbol:"circle",symbolSize:0,label:{show:!1,position:"top",textStyle:{color:"#1fd5d7"}},itemStyle:{color:"#1fd5d7",borderWidth:3,shadowColor:"rgba(0, 0, 0, .3)",shadowBlur:0,shadowOffsetY:2,shadowOffsetX:2},tooltip:{show:!1},areaStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgba(31,213,215,0.7)"},{offset:1,color:"rgba(31,213,215,0)"}],!1),shadowColor:"rgba(31,213,215, 0.9)",shadowBlur:20}},data:t},{name:"平均流量",type:"line",smooth:!0,showAllSymbol:!0,symbol:"circle",symbolSize:0,lineStyle:{normal:{color:"#FF6B72",shadowColor:"rgba(0, 0, 0, .3)",shadowBlur:0,shadowOffsetY:5,shadowOffsetX:5}},label:{show:!1,position:"top",textStyle:{color:"#FF6B72"}},itemStyle:{color:"#FF6B72",borderWidth:3,shadowColor:"rgba(0, 0, 0, .3)",shadowBlur:0,shadowOffsetY:2,shadowOffsetX:2},tooltip:{show:!1},data:n}]};o.setOption(r,!0),window.addEventListener("resize",(function(){o.resize()}))},getDataTime:function(){this.dataTime=new Date(c.a.ajax({type:"HEAD",async:!1}).getResponseHeader("Date")).getTime(),console.log("时间",c.a.ajax({type:"HEAD",async:!1}).getResponseHeader("Date")),this.toGetTime()},toGetTime:function(){var e=this;setInterval((function(){var t=new Date(e.dataTime),n=t.getFullYear(),i=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,a=t.getDate()<10?"0"+t.getDate():t.getDate(),o=t.getHours()<10?"0"+t.getHours():t.getHours(),r=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),c=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();e.time=n+" 年 "+i+" 月 "+a+" 日   "+o+":"+r+":"+c,e.dataTime+=1e3}),1e3)},timeFunc:function(e,t){var n=new Date(e),i=n.getFullYear(),a=n.getMonth()<9?"0"+(n.getMonth()+1):n.getMonth()+1,o=n.getDate()<10?"0"+n.getDate():n.getDate();return i+"-"+a+"-"+o+" "+t+":00:00"},getUrlKeyMain:function(e,t){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null},valueFunc1:function(e){return e||0}}},f=l,p=(n("e942"),n("2877")),v=Object(p["a"])(f,i,a,!1,null,"3dba6c24",null);t["default"]=v.exports},e942:function(e,t,n){"use strict";var i=n("03f1"),a=n.n(i);a.a}}]);
//# sourceMappingURL=chunk-3c62d023.50af15cc.js.map