(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-701655dd","chunk-b4183a42"],{"07ac":function(e,t,r){var n=r("23e7"),i=r("6f53").values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},1250:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"content"},[r("el-header",[r("header-buttons",{attrs:{cssType:"99",showBack:"true",showTitle:"true",titleName:"添加用户"},on:{buttonClickEvent:e.buttonClickEvent}})],1),r("el-main",[r("div",{staticClass:"area-main"},[r("vxe-grid",{ref:"xGrid",staticClass:"vxe-table-element",attrs:{border:"full",resizable:"","keep-source":"",height:"550","edit-rules":e.validRules,columns:e.tableColumns,data:e.tableDatas,"edit-config":{trigger:"click",mode:"row",showStatus:!0,icon:"fa fa-file-text-o"}}})],1)])],1)},i=[],o=(r("99af"),r("4160"),r("d81d"),r("fb6a"),r("d3b7"),r("07ac"),r("159b"),r("5530")),a=(r("96cf"),r("1da1")),s=r("85a8"),l=r("5861"),c=r("e072"),u=r("786f"),h=r("3fa5"),d=r("582a"),f=r("6464"),p={components:{HeaderTitle:s["a"],HeadOperationItem:l["a"]},props:{},data:function(){var e=this,t=this.$createElement,r=function(t){var r=t.column,n=(t.row,t.cellValue);return new Promise((function(t,i){return e.$options.filters.formatterTableValidate(r,n,e.extendPropertyValueVoList,t,i)}))},n=function(e){var t=e.cellValue;return new Promise((function(e,r){Object(c["Rb"])({userName:t}).then((function(t){t.code===d["M"].OPERATION_SUCCESS&&(t.rows?e():r(new Error(d["n"].RULES_USER_NAME)))}))}))},i=function(e){var t=e.cellValue;return new Promise((function(e,r){var n=/^([A-Za-z0-9_+-.])+@([A-Za-z0-9\-.])+\.([A-Za-z]{2,22})$/;t?n.test(t)?e():r(new Error(d["n"].RULES_EMAIL)):e()}))},o=function(e){var t=e.cellValue;return new Promise((function(e,r){var n=/(^(\d{3,4}-)?\d{7,8})$|(^1[34578]\d{9})$/;t?n.test(t)?e():r(new Error(d["n"].RULES_PHONE)):e()}))};return{setValidateForm:r,BTN_TEXT:d["c"],MSG:d["H"],imageUrl:"",titleName:d["n"].ADD_USER,validRules:{},OldRules:{userName:[{validator:n},{required:!0,message:d["H"].PLEASE_ENTER_CONTENT},{max:20,message:"长度不得大于20个字符"}],realName:[{required:!0,message:d["H"].PLEASE_ENTER_CONTENT},{max:10,message:"长度不得大于10个字符"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"不允许输入空格等特殊符号"}],operatorJorNumber:[{max:30,message:"长度不得大于30个字符"}],sex:[{required:!0,message:d["H"].PLEASE_CHOOSE_CONTENT}],password:[{required:!0,message:d["H"].PLEASE_ENTER_CONTENT}],wechatNickName:[{max:30,message:"长度不得大于30个字符"}],wechatOpenId:[{max:100,message:"长度不得大于100个字符"}],email:[{validator:i},{max:20,message:"长度不得大于20个字符"}],telephoneNumber:[{validator:o},{max:11,message:"长度不得大于11个字符"}]},tableDatas:[],tableColumns:[],tableColumns_old:[{field:"userName",title:d["n"].USERNAME,minWidth:"150",align:"center",editRender:{name:"input"}},{field:"operatorJorNumber",title:d["n"].OPERATOR_JOR_NUMBER,minWidth:"140",align:"center",editRender:{name:"input"}},{field:"wechatNickName",title:d["n"].WECHAT_NICK_NAME,minWidth:"140",align:"center",editRender:{name:"input"}},{field:"wechatOpenId",title:d["n"].WECHAT_OPEN_ID,minWidth:"140",align:"center",editRender:{name:"input"}},{field:"realName",title:d["n"].REALNAME,minWidth:"140",align:"center",editRender:{name:"input"}},{field:"sex",title:d["n"].SEX,minWidth:"140",align:"center",editRender:{name:"$select",options:[{label:d["P"].MAN,value:d["P"].ONE_NUMBER},{label:d["P"].WOMAN,value:d["P"].TWO_NUMBER}]}},{field:"telephoneNumber",title:d["n"].TELEPHONE_NUMBER,minWidth:"140",align:"center",editRender:{name:"input"}},{field:"email",title:d["n"].EMAIL,minWidth:"140",align:"center",editRender:{name:"input"}},{field:"role",title:d["n"].ROLE,minWidth:"140",align:"center",editRender:{name:"ElSelect",options:[],props:{multiple:!0}}},{field:"isBoss",title:"用户类型",minWidth:"140",align:"center",editRender:{name:"$select",options:[{label:"管理用户",value:1},{label:"普通用户",value:0},{label:"其他",value:2}]}},{field:"password",title:d["n"].PWD,minWidth:"140",align:"center",editRender:{name:"input"}},{field:"",title:d["c"].OPERATION,width:"100",fixed:"right",align:"center",slots:{default:function(r){var n=r.row,i=r.column;return[t("i",{on:{click:function(){return e.copyRow(n,i)}},class:"icon-table-addRow"}),t("i",{on:{click:function(){return e.deleteRow(n,i)}},class:"icon-table-delete"})]}}}],tableColumns_head:[],tableColumns_operation:[],extendPropertyValueVoList:[]}},computed:{},created:function(){this.initExtendTable()},mounted:function(){},methods:{buttonClickEvent:function(e){"exit"!==e?this["".concat(e)]():this.goBack()},initExtendTable:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(u["a"])({},{conditionJson1:[{column:"extendType",conditionJson1:[],conditionJson2:[],current:0,operator:1,operatorGroup:0,orderBy:{},ptype:"int",size:0,type:"eq",value:4}]});case 3:r=t.sent,r.code===d["M"].OPERATION_SUCCESS?(e.extendPropertyValueVoList=r.rows,e.setinitExtend(r.rows),e.extendRules(r.rows),e.insertEvent()):Object(h["c"])(r.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(f["a"])(d["N"].NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},setinitExtend:function(e){if(this.tableColumns=[],this.tableColumns_head=this.tableColumns_old.slice(0,this.tableColumns_old.length-1),this.tableColumns_operation=this.tableColumns_old[this.tableColumns_old.length-1],this.tableColumns=this.tableColumns.concat(this.tableColumns_head),e.length>0)for(var t=0;t<e.length;t++)if(1===e[t].propertyType)this.tableColumns.push({field:e[t].propertyCode,title:e[t].extendName,width:"160",align:"center",className:t,editRender:{name:"input"}});else if(2===e[t].propertyType)this.tableColumns.push({field:e[t].propertyCode,title:e[t].extendName,width:"160",align:"center",className:t,editRender:{name:"$input",props:{type:"number"}}});else if(3===e[t].propertyType){var r="0";1===e[t].propertyLength?r="220":(2===e[t].propertyLength||3===e[t].propertyLength)&&(r="160"),this.tableColumns.push({field:e[t].propertyCode,title:e[t].extendName,width:r,align:"center",className:t,editRender:{name:"ElDatePicker",props:{type:"datetime",format:d["D"][e[t].propertyLength]}}})}this.tableColumns=this.tableColumns.concat(this.tableColumns_operation),this.toSearchRole()},deleteRow:function(e,t){var r=this;this.$XModal.confirm(d["H"].CONFIRM_DELETE).then((function(t){"confirm"===t&&r.$refs.xGrid.remove(e)}))},insertEvent:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in r={sex:1,isBoss:0,role:[]},e.extendPropertyValueVoList)r[e.extendPropertyValueVoList[n].propertyCode]="";return t.next=4,e.$refs.xGrid.insertAt(r,-1);case 4:case"end":return t.stop()}}),t)})))()},copyRow:function(e,t){var r=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.$refs.xGrid.clearActived(),n=Object(o["a"])({},e),delete n._XID,t.next=5,r.$refs.xGrid.insertAt(n,e);case 5:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$refs.xGrid.getRecordset(),n=r.insertRecords,i=JSON.parse(JSON.stringify(n)),t.next=5,Object(c["Wb"])({},i);case 5:o=t.sent,o.code===d["M"].OPERATION_SUCCESS?(e.setUserReleRole(o.rows,n),setTimeout((function(){e.extendPropertyValueVoList.length>0?e.saveExtend(o.rows,n):e.goBack()}),0),Object(h["b"])(o.message)):Object(h["c"])(o.message),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),Object(f["a"])(d["N"].NOTIFY,t.t0);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[0,9,12,14]])})))()},setUserReleRole:function(e,t){return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,i,o,a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:for(i in n=[],t)if(t[i].role.length>0)for(o=0;o<t[i].role.length;o++)a={},a.userId=e[i].userId,a.roleId=t[i].role[o],n.push(a);if(!(n.length>0)){r.next=15;break}return r.prev=3,r.next=6,Object(c["Yb"])({},n);case 6:s=r.sent,s.code===d["M"].OPERATION_SUCCESS||Object(h["c"])(s.message),r.next=13;break;case 10:r.prev=10,r.t0=r["catch"](3),Object(f["a"])(d["N"].NOTIFY,r.t0);case 13:return r.prev=13,r.finish(13);case 15:case"end":return r.stop()}}),r,null,[[3,10,13,15]])})))()},fullValidEvent:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$createElement,t.next=3,e.$refs.xGrid.fullValidate().catch((function(e){return e}));case 3:n=t.sent,n?(i=[],Object.values(n).forEach((function(e){e.forEach((function(e,t){var r=e.column,n=e.rules;n.forEach((function(e){i.push("".concat(d["P"].THE," ").concat(t+1," ").concat(d["P"].ROW," ").concat(r.title," ").concat(d["H"].VALIDATION_FAILED,"：").concat(e.message))}))}))})),e.$XModal.alert({status:"error",message:function(){return[r("div",{class:"red",style:"max-height: 400px;overflow: auto;"},[i.map((function(e){return r("div",[e])}))])]}})):e.submit();case 5:case"end":return t.stop()}}),t)})))()},saveExtend:function(e,t){var r=[];for(var n in e)for(var i in this.extendPropertyValueVoList){var o={extendId:this.extendPropertyValueVoList[i].extendId,extendValue:t[n][this.extendPropertyValueVoList[i].propertyCode],propertyCode:this.extendPropertyValueVoList[i].propertyCode,relationshipTypeId:e[n].userId};r.push(o)}this.setSaveExtend(r)},setSaveExtend:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(u["b"])({},e);case 3:n=r.sent,n.code===d["M"].OPERATION_SUCCESS?t.goBack():Object(h["c"])(n.message),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),Object(f["a"])(d["N"].NOTIFY,r.t0);case 10:return r.prev=10,r.finish(10);case 12:case"end":return r.stop()}}),r,null,[[0,7,10,12]])})))()},extendRules:function(e){for(var t in this.validRules=this.OldRules,this.extendPropertyValueVoList)1===this.extendPropertyValueVoList[t].propertyIsNull?(this.extendPropertyValueVoList[t].propertyType,this.validRules[this.extendPropertyValueVoList[t].propertyCode]=[{required:!0,message:d["H"].PLEASE_ENTER_CONTENT},{validator:this.setValidateForm}]):(this.extendPropertyValueVoList[t].propertyType,this.validRules[this.extendPropertyValueVoList[t].propertyCode]=[{validator:this.setValidateForm}])},goBack:function(){this.$emit("goBack",d["P"].ZERO_NUMBER)},toSearchRole:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["Ob"])();case 3:r=t.sent,r.code===d["M"].OPERATION_SUCCESS?e.tableColumns[8].editRender.options=r.rows.map((function(e){return e.value=e.roleId,e.label=e.roleName,e})):Object(h["c"])(r.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(f["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()}}},m=p,g=m,b=(r("9aed"),r("2877")),v=Object(b["a"])(g,n,i,!1,null,"485dc947",null);t["a"]=v.exports},"1bb8":function(e,t,r){"use strict";var n=r("f356"),i=r.n(n);i.a},"2a88":function(e,t,r){"use strict";var n=r("f8d5"),i=r.n(n);i.a},"368a":function(e,t,r){},"39df":function(e,t,r){"use strict";var n=r("368a"),i=r.n(n);i.a},"3f2a":function(e,t,r){"use strict";r.d(t,"q",(function(){return i})),r.d(t,"u",(function(){return o})),r.d(t,"t",(function(){return a})),r.d(t,"A",(function(){return s})),r.d(t,"y",(function(){return l})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"g",(function(){return h})),r.d(t,"h",(function(){return d})),r.d(t,"b",(function(){return f})),r.d(t,"w",(function(){return p})),r.d(t,"d",(function(){return m})),r.d(t,"r",(function(){return g})),r.d(t,"v",(function(){return b})),r.d(t,"z",(function(){return v})),r.d(t,"c",(function(){return w})),r.d(t,"x",(function(){return y})),r.d(t,"i",(function(){return C})),r.d(t,"o",(function(){return E})),r.d(t,"j",(function(){return x})),r.d(t,"n",(function(){return T})),r.d(t,"k",(function(){return O})),r.d(t,"l",(function(){return R})),r.d(t,"m",(function(){return _})),r.d(t,"p",(function(){return P})),r.d(t,"s",(function(){return S})),r.d(t,"a",(function(){return k}));var n=r("b775"),i=function(e,t){return Object(n["a"])("export/exportUserTemplate.action?",e,t)},o=function(e,t){return Object(n["a"])("export/exportParameterWarningUnProcess.action?",e,t)},a=function(e,t){return Object(n["a"])("export/exportParameterWarningProcess.action?",e,t)},s=function(e,t){return Object(n["a"])("export/exportWarningUnprocessed.action?",e,t)},l=function(e,t){return Object(n["a"])("export/exportWarningProcessed.action?",e,t)},c=function(e,t){return Object(n["a"])("export/exportEnergyMonitor.action?",e,t)},u=function(e,t){return Object(n["a"])("export/exportEnergyMonitorHistory.action?",e,t)},h=function(e,t){return Object(n["a"])("export/exportCheckItemTemplate.action?",e,t)},d=function(e,t){return Object(n["a"])("export/exportDeviceTemplate.action?",e,t)},f=function(e,t){return Object(n["a"])("deviceAdmin/exportDeviceCollectTypeTemplate.action?",e,t)},p=function(e,t){return Object(n["a"])("export/exportStatisticsOfCropMovementRate.action?",e,t)},m=function(e,t){return Object(n["a"])("export/exportDevicesEfficiencyStatistics.action?",e,t)},g=function(e){return Object(n["c"])("template/MaintainDataTemplates.xlsx",e)},b=function(e,t){return Object(n["a"])("export/exportRepairTaskTemplate.action?",e,t)},v=function(e,t){return Object(n["a"])("export/exportWarningStatistics.action?",e,t)},w=function(e,t){return Object(n["a"])("export/exportDeviceOEE.action?",e,t)},y=function(e,t){return Object(n["a"])("export/exportWarningConfigTemplate.action?",e,t)},C=function(e,t){return Object(n["a"])("export/exportMaterialsTemplate.action?",e,t)},E=function(e,t){return Object(n["a"])("export/exportProductionTaskTemplate.action?",e,t)},x=function(e,t){return Object(n["a"])("export/exportProductionTask.action?",e,t)},T=function(e,t){return Object(n["a"])("export/exportProductionTaskStart.action?",e,t)},O=function(e,t){return Object(n["a"])("export/exportProductionTaskEnd.action?",e,t)},R=function(e,t){return Object(n["a"])("export/exportProductionTaskInspection.action?",e,t)},_=function(e,t){return Object(n["a"])("export/exportProductionTaskReportByCondition.action?",e,t)},P=function(e,t){return Object(n["a"])("export/exportToolTemplate.action?",e,t)},S=function(e,t){return Object(n["a"])("maintainPlan/exportMaintainPlanTemplate.action?",e,t)},k=function(e,t){return Object(n["a"])("export/exportDevice.action?",e,t)}},"41e3":function(e,t,r){"use strict";var n=r("cbff"),i=r.n(n);i.a},"4eee":function(e,t,r){"use strict";r.d(t,"h",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return a})),r.d(t,"j",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"f",(function(){return c})),r.d(t,"i",(function(){return u})),r.d(t,"d",(function(){return h})),r.d(t,"e",(function(){return d})),r.d(t,"g",(function(){return f})),r.d(t,"k",(function(){return p})),r.d(t,"l",(function(){return m}));var n=r("b775"),i=function(e,t,r){return Object(n["k"])("export/importUser.action?",e,t,r)},o=function(e,t,r){return Object(n["k"])("export/importCheckItem.action?",e,t,r)},a=function(e,t,r){return Object(n["k"])("export/importDevice.action?",e,t,r)},s=function(e,t,r){return Object(n["k"])("/deviceAdmin/importDeviceCollectTypeTemplate.action?",e,t,r)},l=function(e,t,r){return Object(n["k"])("export/importMaintainBaseData.action?",e,t,r)},c=function(e,t,r){return Object(n["k"])("export/importRepairTask.action?",e,t,r)},u=function(e,t,r){return Object(n["k"])("export/importWarningConfig.action?",e,t,r)},h=function(e,t,r){return Object(n["k"])("export/importMaterials.action?",e,t,r)},d=function(e,t,r){return Object(n["k"])("export/importProductionTask.action?",e,t,r)},f=function(e,t,r){return Object(n["k"])("export/importTool.action?",e,t,r)},p=function(e,t,r){return Object(n["k"])("maintainPlan/importMaintainPlan.action?",e,t,r)},m=function(e,t,r){return Object(n["k"])("export/importUpdateDevice.action?",e,t,r)}},"62ce":function(e,t,r){},"63ad":function(e,t,r){"use strict";var n=r("62ce"),i=r.n(n);i.a},"658f5":function(e,t,r){!function(t,r){e.exports=r()}(0,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s=13)}([function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){const n=r(20);t.parseFont=n,t.createCanvas=function(e,t){return Object.assign(document.createElement("canvas"),{width:e,height:t})},t.createImageData=function(e,t,r){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(e);case 2:return new ImageData(e,t);default:return new ImageData(e,t,r)}},t.loadImage=function(e,t){return new Promise((function(r,n){const i=Object.assign(document.createElement("img"),t);function o(){i.onload=null,i.onerror=null}i.onload=function(){o(),r(i)},i.onerror=function(){o(),n(new Error('Failed to load the image "'+e+'"'))},i.src=e}))}},function(e,t,r){e.exports=r(14)},function(e,t){function r(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?(e.exports=r=function(e){return typeof e},e.exports.default=e.exports,e.exports.__esModule=!0):(e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.default=e.exports,e.exports.__esModule=!0),r(t)}e.exports=r,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return f}));var n=r(0),i=r.n(n),o=r(1),a=r.n(o);function s(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=Number(e)?3:0)}var l=function(){function e(t){i()(this,e),this.mode=h.MODE_8BIT_BYTE,this.parsedData=[],this.data=t;for(var r=[],n=0,o=this.data.length;n<o;n++){var a=[],s=this.data.charCodeAt(n);s>65536?(a[0]=240|(1835008&s)>>>18,a[1]=128|(258048&s)>>>12,a[2]=128|(4032&s)>>>6,a[3]=128|63&s):s>2048?(a[0]=224|(61440&s)>>>12,a[1]=128|(4032&s)>>>6,a[2]=128|63&s):s>128?(a[0]=192|(1984&s)>>>6,a[1]=128|63&s):a[0]=s,r.push(a)}this.parsedData=Array.prototype.concat.apply([],r),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}return a()(e,[{key:"getLength",value:function(){return this.parsedData.length}},{key:"write",value:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}}]),e}(),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.L;i()(this,e),this.moduleCount=0,this.dataList=[],this.typeNumber=t,this.errorCorrectLevel=r,this.moduleCount=0,this.dataList=[]}return a()(e,[{key:"addData",value:function(e){if(this.typeNumber<=0)this.typeNumber=function(e,t){for(var r=1,n=s(e),i=0,o=v.length;i<o;i++){var a=0;switch(t){case u.L:a=v[i][0];break;case u.M:a=v[i][1];break;case u.Q:a=v[i][2];break;case u.H:a=v[i][3]}if(n<=a)break;r++}if(r>v.length)throw new Error("Too long data");return r}(e,this.errorCorrectLevel);else{if(this.typeNumber>40)throw new Error("Invalid QR version: ".concat(this.typeNumber));if(!function(e,t,r){var n=s(t),i=e-1,o=0;switch(r){case u.L:o=v[i][0];break;case u.M:o=v[i][1];break;case u.Q:o=v[i][2];break;case u.H:o=v[i][3]}return n<=o}(this.typeNumber,e,this.errorCorrectLevel))throw new Error("Data is too long for QR version: ".concat(this.typeNumber))}var t=new l(e);this.dataList.push(t),this.dataCache=void 0}},{key:"isDark",value:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error("".concat(e,",").concat(t));return this.modules[e][t]}},{key:"getModuleCount",value:function(){return this.moduleCount}},{key:"make",value:function(){this.makeImpl(!1,this.getBestMaskPattern())}},{key:"makeImpl",value:function(t,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++)this.modules[n][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,r),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)}},{key:"setupPositionProbePattern",value:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(this.modules[e+r][t+n]=0<=r&&r<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=n&&n<=4)}},{key:"getBestMaskPattern",value:function(){if(Number.isInteger(this.maskPattern)&&Object.values(d).includes(this.maskPattern))return this.maskPattern;for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=f.getLostPoint(this);(0==r||e>n)&&(e=n,t=r)}return t}},{key:"setupTimingPattern",value:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)}},{key:"setupPositionAdjustPattern",value:function(){for(var e=f.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(null==this.modules[n][i])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[n+o][i+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}}},{key:"setupTypeNumber",value:function(e){for(var t=f.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&1==(t>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(r=0;r<18;r++)n=!e&&1==(t>>r&1),this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},{key:"setupTypeInfo",value:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=f.getBCHTypeInfo(r),i=0;i<15;i++){var o=!e&&1==(n>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++)o=!e&&1==(n>>i&1),i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o;this.modules[this.moduleCount-8][8]=!e}},{key:"mapData",value:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[n][a-s]){var l=!1;o<e.length&&(l=1==(e[o]>>>i&1)),f.getMask(t,n,a-s)&&(l=!l),this.modules[n][a-s]=l,-1==--i&&(o++,i=7)}if((n+=r)<0||this.moduleCount<=n){n-=r,r=-r;break}}}}],[{key:"createData",value:function(t,r,n){for(var i=g.getRSBlocks(t,r),o=new b,a=0;a<n.length;a++){var s=n[a];o.put(s.mode,4),o.put(s.getLength(),f.getLengthInBits(s.mode,t)),s.write(o)}var l=0;for(a=0;a<i.length;a++)l+=i[a].dataCount;if(o.getLengthInBits()>8*l)throw new Error("code length overflow. (".concat(o.getLengthInBits(),">").concat(8*l,")"));for(o.getLengthInBits()+4<=8*l&&o.put(0,4);o.getLengthInBits()%8!=0;)o.putBit(!1);for(;!(o.getLengthInBits()>=8*l||(o.put(e.PAD0,8),o.getLengthInBits()>=8*l));)o.put(e.PAD1,8);return e.createBytes(o,i)}},{key:"createBytes",value:function(e,t){for(var r=0,n=0,i=0,o=new Array(t.length),a=new Array(t.length),s=0;s<t.length;s++){var l=t[s].dataCount,c=t[s].totalCount-l;n=Math.max(n,l),i=Math.max(i,c),o[s]=new Array(l);for(var u=0;u<o[s].length;u++)o[s][u]=255&e.buffer[u+r];r+=l;var h=f.getErrorCorrectPolynomial(c),d=new m(o[s],h.getLength()-1).mod(h);for(a[s]=new Array(h.getLength()-1),u=0;u<a[s].length;u++){var p=u+d.getLength()-a[s].length;a[s][u]=p>=0?d.get(p):0}}var g=0;for(u=0;u<t.length;u++)g+=t[u].totalCount;var b=new Array(g),v=0;for(u=0;u<n;u++)for(s=0;s<t.length;s++)u<o[s].length&&(b[v++]=o[s][u]);for(u=0;u<i;u++)for(s=0;s<t.length;s++)u<a[s].length&&(b[v++]=a[s][u]);return b}}]),e}();c.PAD0=236,c.PAD1=17;var u={L:1,M:0,Q:3,H:2},h={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},d={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},f=function(){function e(){i()(this,e)}return a()(e,null,[{key:"getBCHTypeInfo",value:function(t){for(var r=t<<10;e.getBCHDigit(r)-e.getBCHDigit(e.G15)>=0;)r^=e.G15<<e.getBCHDigit(r)-e.getBCHDigit(e.G15);return(t<<10|r)^e.G15_MASK}},{key:"getBCHTypeNumber",value:function(t){for(var r=t<<12;e.getBCHDigit(r)-e.getBCHDigit(e.G18)>=0;)r^=e.G18<<e.getBCHDigit(r)-e.getBCHDigit(e.G18);return t<<12|r}},{key:"getBCHDigit",value:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t}},{key:"getPatternPosition",value:function(t){return e.PATTERN_POSITION_TABLE[t-1]}},{key:"getMask",value:function(e,t,r){switch(e){case d.PATTERN000:return(t+r)%2==0;case d.PATTERN001:return t%2==0;case d.PATTERN010:return r%3==0;case d.PATTERN011:return(t+r)%3==0;case d.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case d.PATTERN101:return t*r%2+t*r%3==0;case d.PATTERN110:return(t*r%2+t*r%3)%2==0;case d.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:".concat(e))}}},{key:"getErrorCorrectPolynomial",value:function(e){for(var t=new m([1],0),r=0;r<e;r++)t=t.multiply(new m([1,p.gexp(r)],0));return t}},{key:"getLengthInBits",value:function(e,t){if(1<=t&&t<10)switch(e){case h.MODE_NUMBER:return 10;case h.MODE_ALPHA_NUM:return 9;case h.MODE_8BIT_BYTE:case h.MODE_KANJI:return 8;default:throw new Error("mode:".concat(e))}else if(t<27)switch(e){case h.MODE_NUMBER:return 12;case h.MODE_ALPHA_NUM:return 11;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 10;default:throw new Error("mode:".concat(e))}else{if(!(t<41))throw new Error("type:".concat(t));switch(e){case h.MODE_NUMBER:return 14;case h.MODE_ALPHA_NUM:return 13;case h.MODE_8BIT_BYTE:return 16;case h.MODE_KANJI:return 12;default:throw new Error("mode:".concat(e))}}}},{key:"getLostPoint",value:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var o=0,a=e.isDark(n,i),s=-1;s<=1;s++)if(!(n+s<0||t<=n+s))for(var l=-1;l<=1;l++)i+l<0||t<=i+l||0==s&&0==l||a==e.isDark(n+s,i+l)&&o++;o>5&&(r+=3+o-5)}for(n=0;n<t-1;n++)for(i=0;i<t-1;i++){var c=0;e.isDark(n,i)&&c++,e.isDark(n+1,i)&&c++,e.isDark(n,i+1)&&c++,e.isDark(n+1,i+1)&&c++,0!=c&&4!=c||(r+=3)}for(n=0;n<t;n++)for(i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(i=0;i<t;i++)for(n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);var u=0;for(i=0;i<t;i++)for(n=0;n<t;n++)e.isDark(n,i)&&u++;return r+Math.abs(100*u/t/t-50)/5*10}}]),e}();f.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],f.G15=1335,f.G18=7973,f.G15_MASK=21522;var p=function(){function e(){i()(this,e)}return a()(e,null,[{key:"glog",value:function(t){if(t<1)throw new Error("glog(".concat(t,")"));return e.LOG_TABLE[t]}},{key:"gexp",value:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e.EXP_TABLE[t]}}]),e}();p.EXP_TABLE=new Array(256),p.LOG_TABLE=new Array(256),p._constructor=function(){for(var e=0;e<8;e++)p.EXP_TABLE[e]=1<<e;for(e=8;e<256;e++)p.EXP_TABLE[e]=p.EXP_TABLE[e-4]^p.EXP_TABLE[e-5]^p.EXP_TABLE[e-6]^p.EXP_TABLE[e-8];for(e=0;e<255;e++)p.LOG_TABLE[p.EXP_TABLE[e]]=e}();var m=function(){function e(t,r){if(i()(this,e),null==t.length)throw new Error("".concat(t.length,"/").concat(r));for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+r);for(var o=0;o<t.length-n;o++)this.num[o]=t[o+n]}return a()(e,[{key:"get",value:function(e){return this.num[e]}},{key:"getLength",value:function(){return this.num.length}},{key:"multiply",value:function(t){for(var r=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var i=0;i<t.getLength();i++)r[n+i]^=p.gexp(p.glog(this.get(n))+p.glog(t.get(i)));return new e(r,0)}},{key:"mod",value:function(t){if(this.getLength()-t.getLength()<0)return this;for(var r=p.glog(this.get(0))-p.glog(t.get(0)),n=new Array(this.getLength()),i=0;i<this.getLength();i++)n[i]=this.get(i);for(i=0;i<t.getLength();i++)n[i]^=p.gexp(p.glog(t.get(i))+r);return new e(n,0).mod(t)}}]),e}(),g=function(){function e(t,r){i()(this,e),this.totalCount=t,this.dataCount=r}return a()(e,null,[{key:"getRSBlocks",value:function(t,r){var n=e.getRsBlockTable(t,r);if(null==n)throw new Error("bad rs block @ typeNumber:".concat(t,"/errorCorrectLevel:").concat(r));for(var i=n.length/3,o=[],a=0;a<i;a++)for(var s=n[3*a+0],l=n[3*a+1],c=n[3*a+2],u=0;u<s;u++)o.push(new e(l,c));return o}},{key:"getRsBlockTable",value:function(t,r){switch(r){case u.L:return e.RS_BLOCK_TABLE[4*(t-1)+0];case u.M:return e.RS_BLOCK_TABLE[4*(t-1)+1];case u.Q:return e.RS_BLOCK_TABLE[4*(t-1)+2];case u.H:return e.RS_BLOCK_TABLE[4*(t-1)+3];default:return}}}]),e}();g.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];var b=function(){function e(){i()(this,e),this.buffer=[],this.length=0}return a()(e,[{key:"get",value:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)}},{key:"put",value:function(e,t){for(var r=0;r<t;r++)this.putBit(1==(e>>>t-r-1&1))}},{key:"getLengthInBits",value:function(){return this.length}},{key:"putBit",value:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}}]),e}(),v=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loop=t.conditional=t.parse=void 0,t.parse=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;if(Array.isArray(r))r.forEach((function(r){return e(t,r,n,i)}));else if("function"==typeof r)r(t,n,i,e);else{var o=Object.keys(r)[0];Array.isArray(r[o])?(i[o]={},e(t,r[o],n,i[o])):i[o]=r[o](t,n,i,e)}return n},t.conditional=function(e,t){return function(r,n,i,o){t(r,n,i)&&o(r,e,n,i)}},t.loop=function(e,t){return function(r,n,i,o){for(var a=[];t(r,n,i);){var s={};o(r,e,n,s),a.push(s)}return a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readBits=t.readArray=t.readUnsigned=t.readString=t.peekBytes=t.readBytes=t.peekByte=t.readByte=t.buildStream=void 0,t.buildStream=function(e){return{data:e,pos:0}};var n=function(){return function(e){return e.data[e.pos++]}};t.readByte=n,t.peekByte=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return t.data[t.pos+e]}};var i=function(e){return function(t){return t.data.subarray(t.pos,t.pos+=e)}};t.readBytes=i,t.peekBytes=function(e){return function(t){return t.data.subarray(t.pos,t.pos+e)}},t.readString=function(e){return function(t){return Array.from(i(e)(t)).map((function(e){return String.fromCharCode(e)})).join("")}},t.readUnsigned=function(e){return function(t){var r=i(2)(t);return e?(r[1]<<8)+r[0]:(r[0]<<8)+r[1]}},t.readArray=function(e,t){return function(r,n,o){for(var a="function"==typeof t?t(r,n,o):t,s=i(e),l=new Array(a),c=0;c<a;c++)l[c]=s(r);return l}},t.readBits=function(e){return function(t){for(var r=function(e){return e.data[e.pos++]}(t),n=new Array(8),i=0;i<8;i++)n[7-i]=!!(r&1<<i);return Object.keys(e).reduce((function(t,r){var i=e[r];return i.length?t[r]=function(e,t,r){for(var n=0,i=0;i<r;i++)n+=e[t+i]&&Math.pow(2,r-i-1);return n}(n,i.index,i.length):t[r]=n[i.index],t}),{})}}},function(e,t){function r(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,r){"use strict";r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return c}));var n=r(11),i=r.n(n),o=r(6),a=r(7),s=function(e){var t=new Uint8Array(e);return Object(o.parse)(Object(a.buildStream)(t),i.a)},l=function(e,t,r){if(e.image){var n=e.image,i=n.descriptor.width*n.descriptor.height,o=function(e,t,r){var n,i,o,a,s,l,c,u,h,d,f,p,m,g,b,v,w=r,y=new Array(r),C=new Array(4096),E=new Array(4096),x=new Array(4097);for(s=1+(i=1<<(d=e)),n=i+2,c=-1,o=(1<<(a=d+1))-1,u=0;u<i;u++)C[u]=0,E[u]=u;for(f=p=m=g=b=v=0,h=0;h<w;){if(0===g){if(p<a){f+=t[v]<<p,p+=8,v++;continue}if(u=f&o,f>>=a,p-=a,u>n||u==s)break;if(u==i){o=(1<<(a=d+1))-1,n=i+2,c=-1;continue}if(-1==c){x[g++]=E[u],c=u,m=u;continue}for(l=u,u==n&&(x[g++]=m,u=c);u>i;)x[g++]=E[u],u=C[u];m=255&E[u],x[g++]=m,n<4096&&(C[n]=c,E[n]=m,0==(++n&o)&&n<4096&&(a++,o+=n)),c=l}g--,y[b++]=x[g],h++}for(h=b;h<w;h++)y[h]=0;return y}(n.data.minCodeSize,n.data.blocks,i);n.descriptor.lct.interlaced&&(o=function(e,t){for(var r=new Array(e.length),n=e.length/t,i=function(n,i){var o=e.slice(i*t,(i+1)*t);r.splice.apply(r,[n*t,t].concat(o))},o=[0,4,2,1],a=[8,8,4,2],s=0,l=0;l<4;l++)for(var c=o[l];c<n;c+=a[l])i(c,s),s++;return r}(o,n.descriptor.width));var a={pixels:o,dims:{top:e.image.descriptor.top,left:e.image.descriptor.left,width:e.image.descriptor.width,height:e.image.descriptor.height}};return n.descriptor.lct&&n.descriptor.lct.exists?a.colorTable=n.lct:a.colorTable=t,e.gce&&(a.delay=10*(e.gce.delay||10),a.disposalType=e.gce.extras.disposal,e.gce.extras.transparentColorGiven&&(a.transparentIndex=e.gce.transparentColorIndex)),r&&(a.patch=function(e){for(var t=e.pixels.length,r=new Uint8ClampedArray(4*t),n=0;n<t;n++){var i=4*n,o=e.pixels[n],a=e.colorTable[o];r[i]=a[0],r[i+1]=a[1],r[i+2]=a[2],r[i+3]=o!==e.transparentIndex?255:0}return r}(a)),a}console.warn("gif frame does not have associated image.")},c=function(e,t){return e.frames.filter((function(e){return e.image})).map((function(r){return l(r,e.gct,t)}))}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return b}));var n=r(4),i=r.n(n),o=r(0),a=r.n(o),s=r(1),l=r.n(s),c=r(3),u=r.n(c),h=r(2),d=r(9),f=r(5),p=r(12),m=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))};function g(e){if(e)return new Promise((function(r,n){if("data"==e.slice(0,4)){var i=new Image;return i.onload=function(){r(i),t(i)},i.onerror=function(){n("Image load error"),t(i)},void(i.src=e)}var o=new Image;o.setAttribute("crossOrigin","Anonymous"),o.onload=function(){r(o)},o.onerror=function(){n("Image load error")},o.src=e}));function t(e){e.onload=null,e.onerror=null}}var b=function(){function t(e){a()(this,t);var r=Object.assign({},e);if(Object.keys(t.defaultOptions).forEach((function(e){e in r||Object.defineProperty(r,e,{value:t.defaultOptions[e],enumerable:!0,writable:!0})})),r.components?"object"===i()(r.components)&&Object.keys(t.defaultComponentOptions).forEach((function(e){e in r.components?Object.defineProperty(r.components,e,{value:Object.assign(Object.assign({},t.defaultComponentOptions[e]),r.components[e]),enumerable:!0,writable:!0}):Object.defineProperty(r.components,e,{value:t.defaultComponentOptions[e],enumerable:!0,writable:!0})})):r.components=t.defaultComponentOptions,null!==r.dotScale&&void 0!==r.dotScale){if(r.dotScale<=0||r.dotScale>1)throw new Error("dotScale should be in range (0, 1].");r.components.data.scale=r.dotScale,r.components.timing.scale=r.dotScale,r.components.alignment.scale=r.dotScale}this.options=r,this.canvas=Object(h.createCanvas)(e.size,e.size),this.canvasContext=this.canvas.getContext("2d"),this.qrCode=new f.a(-1,this.options.correctLevel),Number.isInteger(this.options.maskPattern)&&(this.qrCode.maskPattern=this.options.maskPattern),Number.isInteger(this.options.version)&&(this.qrCode.typeNumber=this.options.version),this.qrCode.addData(this.options.text),this.qrCode.make()}return l()(t,[{key:"draw",value:function(){var e=this;return new Promise((function(t){return e._draw().then(t)}))}},{key:"_clear",value:function(){this.canvasContext.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"_draw",value:function(){var r,n,i,o,a,s,l,c,b,w,y,C,E,x,T,O,R,_,P;return m(this,void 0,void 0,u.a.mark((function m(){var S,k,N,A,I,L,D,B,j,M,U,V,F,$,z,H,G,Y,W,J,q,X,Q,K,Z,ee,te,re,ne,ie,oe,ae,se,le,ce,ue,he,de,fe,pe,me,ge,be,ve,we,ye,Ce,Ee,xe,Te,Oe,Re,_e,Pe,Se,ke,Ne,Ae,Ie,Le,De,Be,je,Me,Ue,Ve,Fe,$e,ze,He,Ge;return u.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:if(S=null===(r=this.qrCode)||void 0===r?void 0:r.moduleCount,k=this.options.size,((N=this.options.margin)<0||2*N>=k)&&(N=0),A=Math.ceil(N),I=k-2*N,L=this.options.whiteMargin,D=this.options.backgroundDimming,B=Math.ceil(I/S),M=(j=B*S)+2*A,U=Object(h.createCanvas)(M,M),V=U.getContext("2d"),this._clear(),V.save(),V.translate(A,A),F=Object(h.createCanvas)(M,M),$=F.getContext("2d"),z=null,H=[],!this.options.gifBackground){u.next=47;break}if(G=Object(d.b)(this.options.gifBackground),z=G,H=Object(d.a)(G,!0),!this.options.autoColor){u.next=45;break}Y=0,W=0,J=0,q=0,X=0;case 28:if(!(X<H[0].colorTable.length)){u.next=41;break}if(!((Q=H[0].colorTable[X])[0]>200||Q[1]>200||Q[2]>200)){u.next=32;break}return u.abrupt("continue",38);case 32:if(0!==Q[0]||0!==Q[1]||0!==Q[2]){u.next=34;break}return u.abrupt("continue",38);case 34:q++,Y+=Q[0],W+=Q[1],J+=Q[2];case 38:X++,u.next=28;break;case 41:Y=~~(Y/q),W=~~(W/q),J=~~(J/q),this.options.colorDark="rgb(".concat(Y,",").concat(W,",").concat(J,")");case 45:u.next=61;break;case 47:if(!this.options.backgroundImage){u.next=58;break}return u.next=50,g(this.options.backgroundImage);case 50:K=u.sent,this.options.autoColor&&(Z=t._getAverageRGB(K),this.options.colorDark="rgb(".concat(Z.r,",").concat(Z.g,",").concat(Z.b,")")),$.drawImage(K,0,0,K.width,K.height,0,0,M,M),$.rect(0,0,M,M),$.fillStyle=D,$.fill(),u.next=61;break;case 58:$.rect(0,0,M,M),$.fillStyle=this.options.colorLight,$.fill();case 61:for(ee=f.c.getPatternPosition(this.qrCode.typeNumber),te=(null===(i=null===(n=this.options.components)||void 0===n?void 0:n.data)||void 0===i?void 0:i.scale)||.4,re=.5*(1-te),ne=0;ne<S;ne++)for(ie=0;ie<S;ie++){for(oe=this.qrCode.isDark(ne,ie),ae=6==ne&&ie>=8&&ie<=S-8||6==ie&&ne>=8&&ne<=S-8,se=ie<8&&(ne<8||ne>=S-8)||ie>=S-8&&ne<8||ae,le=1;le<ee.length-1;le++)se=se||ne>=ee[le]-2&&ne<=ee[le]+2&&ie>=ee[le]-2&&ie<=ee[le]+2;ce=ie*B+(se?0:re*B),ue=ne*B+(se?0:re*B),V.strokeStyle=oe?this.options.colorDark:this.options.colorLight,V.lineWidth=.5,V.fillStyle=oe?this.options.colorDark:this.options.colorLight,0===ee.length?se||V.fillRect(ce,ue,(se?1:te)*B,(se?1:te)*B):(he=ie<S-4&&ie>=S-4-5&&ne<S-4&&ne>=S-4-5,se||he||V.fillRect(ce,ue,(se?1:te)*B,(se?1:te)*B))}if(de=ee[ee.length-1],fe=this.options.colorLight,V.fillStyle=fe,V.fillRect(0,0,8*B,8*B),V.fillRect(0,(S-8)*B,8*B,8*B),V.fillRect((S-8)*B,0,8*B,8*B),(null===(a=null===(o=this.options.components)||void 0===o?void 0:o.timing)||void 0===a?void 0:a.protectors)&&(V.fillRect(8*B,6*B,(S-8-8)*B,B),V.fillRect(6*B,8*B,B,(S-8-8)*B)),(null===(l=null===(s=this.options.components)||void 0===s?void 0:s.cornerAlignment)||void 0===l?void 0:l.protectors)&&t._drawAlignProtector(V,de,de,B),!(null===(b=null===(c=this.options.components)||void 0===c?void 0:c.alignment)||void 0===b?void 0:b.protectors)){u.next=99;break}pe=0;case 75:if(!(pe<ee.length)){u.next=99;break}me=0;case 77:if(!(me<ee.length)){u.next=96;break}if(ge=ee[me],be=ee[pe],6!==ge||6!==be&&be!==de){u.next=84;break}return u.abrupt("continue",93);case 84:if(6!==be||6!==ge&&ge!==de){u.next=88;break}return u.abrupt("continue",93);case 88:if(ge!==de||be!==de){u.next=92;break}return u.abrupt("continue",93);case 92:t._drawAlignProtector(V,ge,be,B);case 93:me++,u.next=77;break;case 96:pe++,u.next=75;break;case 99:for(V.fillStyle=this.options.colorDark,V.fillRect(0,0,7*B,B),V.fillRect((S-7)*B,0,7*B,B),V.fillRect(0,6*B,7*B,B),V.fillRect((S-7)*B,6*B,7*B,B),V.fillRect(0,(S-7)*B,7*B,B),V.fillRect(0,(S-7+6)*B,7*B,B),V.fillRect(0,0,B,7*B),V.fillRect(6*B,0,B,7*B),V.fillRect((S-7)*B,0,B,7*B),V.fillRect((S-7+6)*B,0,B,7*B),V.fillRect(0,(S-7)*B,B,7*B),V.fillRect(6*B,(S-7)*B,B,7*B),V.fillRect(2*B,2*B,3*B,3*B),V.fillRect((S-7+2)*B,2*B,3*B,3*B),V.fillRect(2*B,(S-7+2)*B,3*B,3*B),ve=(null===(y=null===(w=this.options.components)||void 0===w?void 0:w.timing)||void 0===y?void 0:y.scale)||.4,we=.5*(1-ve),ye=0;ye<S-8;ye+=2)t._drawDot(V,8+ye,6,B,we,ve),t._drawDot(V,6,8+ye,B,we,ve);Ce=(null===(E=null===(C=this.options.components)||void 0===C?void 0:C.cornerAlignment)||void 0===E?void 0:E.scale)||.4,Ee=.5*(1-Ce),t._drawAlign(V,de,de,B,Ee,Ce,this.options.colorDark,(null===(T=null===(x=this.options.components)||void 0===x?void 0:x.cornerAlignment)||void 0===T?void 0:T.protectors)||!1),xe=(null===(R=null===(O=this.options.components)||void 0===O?void 0:O.alignment)||void 0===R?void 0:R.scale)||.4,Te=.5*(1-xe),Oe=0;case 124:if(!(Oe<ee.length)){u.next=148;break}Re=0;case 126:if(!(Re<ee.length)){u.next=145;break}if(_e=ee[Re],Pe=ee[Oe],6!==_e||6!==Pe&&Pe!==de){u.next=133;break}return u.abrupt("continue",142);case 133:if(6!==Pe||6!==_e&&_e!==de){u.next=137;break}return u.abrupt("continue",142);case 137:if(_e!==de||Pe!==de){u.next=141;break}return u.abrupt("continue",142);case 141:t._drawAlign(V,_e,Pe,B,Te,xe,this.options.colorDark,(null===(P=null===(_=this.options.components)||void 0===_?void 0:_.alignment)||void 0===P?void 0:P.protectors)||!1);case 142:Re++,u.next=126;break;case 145:Oe++,u.next=124;break;case 148:if(L&&(V.fillStyle=this.options.backgroundColor,V.fillRect(-A,-A,M,A),V.fillRect(-A,j,M,A),V.fillRect(j,-A,A,M),V.fillRect(-A,-A,A,M)),!this.options.logoImage){u.next=179;break}return u.next=152,g(this.options.logoImage);case 152:Se=u.sent,ke=this.options.logoScale,Ne=this.options.logoMargin,Ae=this.options.logoCornerRadius,(ke<=0||ke>=1)&&(ke=.2),Ne<0&&(Ne=0),Ae<0&&(Ae=0),De=Le=.5*(M-(Ie=j*ke)),V.restore(),V.fillStyle=this.options.logoBackgroundColor,V.save(),t._prepareRoundedCornerClip(V,Le-Ne,De-Ne,Ie+2*Ne,Ie+2*Ne,Ae+Ne),V.clip(),Be=V.globalCompositeOperation,V.globalCompositeOperation="destination-out",V.fill(),V.globalCompositeOperation=Be,V.restore(),V.save(),t._prepareRoundedCornerClip(V,Le,De,Ie,Ie,Ae),V.clip(),V.drawImage(Se,Le,De,Ie,Ie),V.restore(),V.save(),V.translate(A,A);case 179:if(!z){u.next=191;break}if(H.forEach((function(e){je||((je=new p.a(k,k)).setDelay(e.delay),je.setRepeat(0));var t=e.dims,r=t.width,n=t.height;Me||(Me=Object(h.createCanvas)(r,n),(Ue=Me.getContext("2d")).rect(0,0,Me.width,Me.height),Ue.fillStyle="#ffffff",Ue.fill()),Ve&&$e&&r===Ve.width&&n===Ve.height||(Ve=Object(h.createCanvas)(r,n),Fe=Ve.getContext("2d"),$e=Fe.createImageData(r,n)),$e.data.set(e.patch),Fe.putImageData($e,0,0),Ue.drawImage(Ve,e.dims.left,e.dims.top);var i=Object(h.createCanvas)(M,M),o=i.getContext("2d");o.drawImage(Me,0,0,M,M),o.rect(0,0,M,M),o.fillStyle=D,o.fill(),o.drawImage(U,0,0,M,M);var a=Object(h.createCanvas)(k,k),s=a.getContext("2d");s.drawImage(i,0,0,k,k),je.addFrame(s.getImageData(0,0,a.width,a.height).data)})),je){u.next=183;break}throw new Error("No frames.");case 183:if(je.finish(),!v(this.canvas)){u.next=188;break}return ze=je.stream().toFlattenUint8Array(),He=ze.reduce((function(e,t){return e+String.fromCharCode(t)}),""),u.abrupt("return",Promise.resolve("data:image/gif;base64,".concat(window.btoa(He))));case 188:return u.abrupt("return",Promise.resolve(e.from(je.stream().toFlattenUint8Array())));case 191:if($.drawImage(U,0,0,M,M),V.drawImage(F,-A,-A,M,M),Ge=Object(h.createCanvas)(k,k),Ge.getContext("2d").drawImage(U,0,0,k,k),this.canvas=Ge,!v(this.canvas)){u.next=199;break}return u.abrupt("return",Promise.resolve(this.canvas.toDataURL()));case 199:return u.abrupt("return",Promise.resolve(this.canvas.toBuffer()));case 200:case"end":return u.stop()}}),m,this)})))}}],[{key:"_prepareRoundedCornerClip",value:function(e,t,r,n,i,o){e.beginPath(),e.moveTo(t,r),e.arcTo(t+n,r,t+n,r+i,o),e.arcTo(t+n,r+i,t,r+i,o),e.arcTo(t,r+i,t,r,o),e.arcTo(t,r,t+n,r,o),e.closePath()}},{key:"_getAverageRGB",value:function(e){var t,r,n={r:0,g:0,b:0},i=-4,o={r:0,g:0,b:0},a=0;r=e.naturalHeight||e.height,t=e.naturalWidth||e.width;var s,l=Object(h.createCanvas)(t,r).getContext("2d");if(!l)return n;l.drawImage(e,0,0);try{s=l.getImageData(0,0,t,r)}catch(e){return n}for(;(i+=20)<s.data.length;)s.data[i]>200||s.data[i+1]>200||s.data[i+2]>200||(++a,o.r+=s.data[i],o.g+=s.data[i+1],o.b+=s.data[i+2]);return o.r=~~(o.r/a),o.g=~~(o.g/a),o.b=~~(o.b/a),o}},{key:"_drawDot",value:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;e.fillRect((t+i)*n,(r+i)*n,o*n,o*n)}},{key:"_drawAlignProtector",value:function(e,t,r,n){e.clearRect((t-2)*n,(r-2)*n,5*n,5*n),e.fillRect((t-2)*n,(r-2)*n,5*n,5*n)}},{key:"_drawAlign",value:function(e,r,n,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,c=e.fillStyle;e.fillStyle=s,new Array(4).fill(0).map((function(s,l){t._drawDot(e,r-2+l,n-2,i,o,a),t._drawDot(e,r+2,n-2+l,i,o,a),t._drawDot(e,r+2-l,n+2,i,o,a),t._drawDot(e,r-2,n+2-l,i,o,a)})),t._drawDot(e,r,n,i,o,a),l||(e.fillStyle="rgba(255, 255, 255, 0.6)",new Array(2).fill(0).map((function(s,l){t._drawDot(e,r-1+l,n-1,i,o,a),t._drawDot(e,r+1,n-1+l,i,o,a),t._drawDot(e,r+1-l,n+1,i,o,a),t._drawDot(e,r-1,n+1-l,i,o,a)}))),e.fillStyle=c}}]),t}();function v(e){try{return e instanceof HTMLElement}catch(t){return"object"===i()(e)&&1===e.nodeType&&"object"===i()(e.style)&&"object"===i()(e.ownerDocument)}}b.CorrectLevel=f.b,b.defaultComponentOptions={data:{scale:.4},timing:{scale:.5,protectors:!1},alignment:{scale:.5,protectors:!1},cornerAlignment:{scale:.5,protectors:!0}},b.defaultOptions={text:"",size:400,margin:20,colorDark:"#000000",colorLight:"rgba(255, 255, 255, 0.6)",correctLevel:f.b.M,backgroundImage:void 0,backgroundDimming:"rgba(0,0,0,0)",logoImage:void 0,logoScale:.2,logoMargin:4,logoCornerRadius:8,whiteMargin:!0,components:b.defaultComponentOptions,autoColor:!0,logoBackgroundColor:"#ffffff",backgroundColor:"#ffffff"}}).call(this,r(15).Buffer)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(6),i=r(7),o={blocks:function(e){for(var t=[],r=e.data.length,n=0,o=(0,i.readByte)()(e);0!==o;o=(0,i.readByte)()(e)){if(e.pos+o>=r){var a=r-e.pos;t.push((0,i.readBytes)(a)(e)),n+=a;break}t.push((0,i.readBytes)(o)(e)),n+=o}for(var s=new Uint8Array(n),l=0,c=0;c<t.length;c++)s.set(t[c],l),l+=t[c].length;return s}},a=(0,n.conditional)({gce:[{codes:(0,i.readBytes)(2)},{byteSize:(0,i.readByte)()},{extras:(0,i.readBits)({future:{index:0,length:3},disposal:{index:3,length:3},userInput:{index:6},transparentColorGiven:{index:7}})},{delay:(0,i.readUnsigned)(!0)},{transparentColorIndex:(0,i.readByte)()},{terminator:(0,i.readByte)()}]},(function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&249===t[1]})),s=(0,n.conditional)({image:[{code:(0,i.readByte)()},{descriptor:[{left:(0,i.readUnsigned)(!0)},{top:(0,i.readUnsigned)(!0)},{width:(0,i.readUnsigned)(!0)},{height:(0,i.readUnsigned)(!0)},{lct:(0,i.readBits)({exists:{index:0},interlaced:{index:1},sort:{index:2},future:{index:3,length:2},size:{index:5,length:3}})}]},(0,n.conditional)({lct:(0,i.readArray)(3,(function(e,t,r){return Math.pow(2,r.descriptor.lct.size+1)}))},(function(e,t,r){return r.descriptor.lct.exists})),{data:[{minCodeSize:(0,i.readByte)()},o]}]},(function(e){return 44===(0,i.peekByte)()(e)})),l=(0,n.conditional)({text:[{codes:(0,i.readBytes)(2)},{blockSize:(0,i.readByte)()},{preData:function(e,t,r){return(0,i.readBytes)(r.text.blockSize)(e)}},o]},(function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&1===t[1]})),c=(0,n.conditional)({application:[{codes:(0,i.readBytes)(2)},{blockSize:(0,i.readByte)()},{id:function(e,t,r){return(0,i.readString)(r.blockSize)(e)}},o]},(function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&255===t[1]})),u=(0,n.conditional)({comment:[{codes:(0,i.readBytes)(2)},o]},(function(e){var t=(0,i.peekBytes)(2)(e);return 33===t[0]&&254===t[1]})),h=[{header:[{signature:(0,i.readString)(3)},{version:(0,i.readString)(3)}]},{lsd:[{width:(0,i.readUnsigned)(!0)},{height:(0,i.readUnsigned)(!0)},{gct:(0,i.readBits)({exists:{index:0},resolution:{index:1,length:3},sort:{index:4},size:{index:5,length:3}})},{backgroundColorIndex:(0,i.readByte)()},{pixelAspectRatio:(0,i.readByte)()}]},(0,n.conditional)({gct:(0,i.readArray)(3,(function(e,t){return Math.pow(2,t.lsd.gct.size+1)}))},(function(e,t){return t.lsd.gct.exists})),{frames:(0,n.loop)([a,c,u,s,l],(function(e){var t=(0,i.peekByte)()(e);return 33===t||44===t}))}];t.default=h},function(e,t,r){"use strict";var n=function(e,t){var r,n,i,o,a;function s(e,t,n,i,o){r[t][0]-=e*(r[t][0]-n)/1024,r[t][1]-=e*(r[t][1]-i)/1024,r[t][2]-=e*(r[t][2]-o)/1024}function l(e,t,n,i,o){for(var s,l,c=Math.abs(t-e),u=Math.min(t+e,256),h=t+1,d=t-1,f=1;h<u||d>c;)l=a[f++],h<u&&((s=r[h++])[0]-=l*(s[0]-n)/(1<<18),s[1]-=l*(s[1]-i)/(1<<18),s[2]-=l*(s[2]-o)/(1<<18)),d>c&&((s=r[d--])[0]-=l*(s[0]-n)/(1<<18),s[1]-=l*(s[1]-i)/(1<<18),s[2]-=l*(s[2]-o)/(1<<18))}function c(e,t,n){var a,s,l,c,u,h=~(1<<31),d=h,f=-1,p=f;for(a=0;a<256;a++)s=r[a],(l=Math.abs(s[0]-e)+Math.abs(s[1]-t)+Math.abs(s[2]-n))<h&&(h=l,f=a),(c=l-(i[a]>>12))<d&&(d=c,p=a),u=o[a]>>10,o[a]-=u,i[a]+=u<<10;return o[f]+=64,i[f]-=65536,p}this.buildColormap=function(){!function(){var e,t;for(r=[],n=new Int32Array(256),i=new Int32Array(256),o=new Int32Array(256),a=new Int32Array(32),e=0;e<256;e++)t=(e<<12)/256,r[e]=new Float64Array([t,t,t,0]),o[e]=256,i[e]=0}(),function(){var r,n,i,o,u,h,d=e.length,f=30+(t-1)/3,p=d/(3*t),m=~~(p/100),g=1024,b=2048,v=b>>6;for(v<=1&&(v=0),r=0;r<v;r++)a[r]=g*(256*(v*v-r*r)/(v*v));d<1509?(t=1,n=3):n=d%499!=0?1497:d%491!=0?1473:d%487!=0?1461:1509;var w=0;for(r=0;r<p;)if(s(g,h=c(i=(255&e[w])<<4,o=(255&e[w+1])<<4,u=(255&e[w+2])<<4),i,o,u),0!==v&&l(v,h,i,o,u),(w+=n)>=d&&(w-=d),0===m&&(m=1),++r%m==0)for(g-=g/f,(v=(b-=b/30)>>6)<=1&&(v=0),h=0;h<v;h++)a[h]=g*(256*(v*v-h*h)/(v*v))}(),function(){for(var e=0;e<256;e++)r[e][0]>>=4,r[e][1]>>=4,r[e][2]>>=4,r[e][3]=e}(),function(){var e,t,i,o,a,s,l=0,c=0;for(e=0;e<256;e++){for(a=e,s=(i=r[e])[1],t=e+1;t<256;t++)(o=r[t])[1]<s&&(a=t,s=o[1]);if(o=r[a],e!=a&&(t=o[0],o[0]=i[0],i[0]=t,t=o[1],o[1]=i[1],i[1]=t,t=o[2],o[2]=i[2],i[2]=t,t=o[3],o[3]=i[3],i[3]=t),s!=l){for(n[l]=c+e>>1,t=l+1;t<s;t++)n[t]=e;l=s,c=e}}for(n[l]=c+255>>1,t=l+1;t<256;t++)n[t]=255}()},this.getColormap=function(){for(var e=[],t=[],n=0;n<256;n++)t[r[n][3]]=n;for(var i=0,o=0;o<256;o++){var a=t[o];e[i++]=r[a][0],e[i++]=r[a][1],e[i++]=r[a][2]}return e},this.lookupRGB=function(e,t,i){for(var o,a,s,l=1e3,c=-1,u=n[t],h=u-1;u<256||h>=0;)u<256&&((s=(a=r[u])[1]-t)>=l?u=256:(u++,s<0&&(s=-s),(o=a[0]-e)<0&&(o=-o),(s+=o)<l&&((o=a[2]-i)<0&&(o=-o),(s+=o)<l&&(l=s,c=a[3])))),h>=0&&((s=t-(a=r[h])[1])>=l?h=-1:(h--,s<0&&(s=-s),(o=a[0]-e)<0&&(o=-o),(s+=o)<l&&((o=a[2]-i)<0&&(o=-o),(s+=o)<l&&(l=s,c=a[3]))));return c}},i=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],o=function(e,t,r,n){var o,a,s,l,c,u,h,d,f,p=Math.max(2,n),m=new Uint8Array(256),g=new Int32Array(5003),b=new Int32Array(5003),v=0,w=0,y=!1;function C(e,t){m[a++]=e,a>=254&&T(t)}function E(e){x(5003),w=c+2,y=!0,_(c,e)}function x(e){for(var t=0;t<e;++t)g[t]=-1}function T(e){a>0&&(e.writeByte(a),e.writeBytes(m,0,a),a=0)}function O(e){return(1<<e)-1}function R(){return 0===h?-1:(--h,255&r[d++])}function _(e,t){for(o&=i[v],v>0?o|=e<<v:o=e,v+=f;v>=8;)C(255&o,t),o>>=8,v-=8;if((w>s||y)&&(y?(s=O(f=l),y=!1):(++f,s=12==f?4096:O(f))),e==u){for(;v>0;)C(255&o,t),o>>=8,v-=8;T(t)}}this.encode=function(r){r.writeByte(p),h=e*t,d=0,function(e,t){var r,n,i,o,h,d;for(y=!1,s=O(f=l=e),u=1+(c=1<<e-1),w=c+2,a=0,o=R(),d=0,r=5003;r<65536;r*=2)++d;d=8-d,x(5003),_(c,t);e:for(;-1!=(n=R());)if(r=(n<<12)+o,g[i=n<<d^o]!==r){if(g[i]>=0){h=5003-i,0===i&&(h=1);do{if((i-=h)<0&&(i+=5003),g[i]===r){o=b[i];continue e}}while(g[i]>=0)}_(o,t),o=n,w<4096?(b[i]=w++,g[i]=r):E(t)}else o=b[i];_(o,t),_(u,t)}(p+1,r),r.writeByte(0)}};function a(){this.page=-1,this.pages=[],this.newPage()}a.pageSize=4096,a.charMap={};for(var s=0;s<256;s++)a.charMap[s]=String.fromCharCode(s);function l(e,t){this.width=~~e,this.height=~~t,this.transparent=null,this.transIndex=0,this.repeat=-1,this.delay=0,this.image=null,this.pixels=null,this.indexedPixels=null,this.colorDepth=null,this.colorTab=null,this.neuQuant=null,this.usedEntry=new Array,this.palSize=7,this.dispose=-1,this.firstFrame=!0,this.sample=10,this.dither=!1,this.globalPalette=!1,this.out=new a}a.prototype.newPage=function(){this.pages[++this.page]=new Uint8Array(a.pageSize),this.cursor=0},a.prototype.getData=function(){for(var e="",t=0;t<this.pages.length;t++)for(var r=0;r<a.pageSize;r++)e+=a.charMap[this.pages[t][r]];return e},a.prototype.toFlattenUint8Array=function(){for(var e=[],t=0;t<this.pages.length;t++)if(t===this.pages.length-1){var r=Uint8Array.from(this.pages[t].slice(0,this.cursor));e.push(r)}else e.push(this.pages[t]);var n=new Uint8Array(e.reduce((function(e,t){return e+t.length}),0));return e.reduce((function(e,t){return n.set(t,e),e+t.length}),0),n},a.prototype.writeByte=function(e){this.cursor>=a.pageSize&&this.newPage(),this.pages[this.page][this.cursor++]=e},a.prototype.writeUTFBytes=function(e){for(var t=e.length,r=0;r<t;r++)this.writeByte(e.charCodeAt(r))},a.prototype.writeBytes=function(e,t,r){for(var n=r||e.length,i=t||0;i<n;i++)this.writeByte(e[i])},l.prototype.setDelay=function(e){this.delay=Math.round(e/10)},l.prototype.setFrameRate=function(e){this.delay=Math.round(100/e)},l.prototype.setDispose=function(e){e>=0&&(this.dispose=e)},l.prototype.setRepeat=function(e){this.repeat=e},l.prototype.setTransparent=function(e){this.transparent=e},l.prototype.addFrame=function(e){this.image=e,this.colorTab=this.globalPalette&&this.globalPalette.slice?this.globalPalette:null,this.getImagePixels(),this.analyzePixels(),!0===this.globalPalette&&(this.globalPalette=this.colorTab),this.firstFrame&&(this.writeHeader(),this.writeLSD(),this.writePalette(),this.repeat>=0&&this.writeNetscapeExt()),this.writeGraphicCtrlExt(),this.writeImageDesc(),this.firstFrame||this.globalPalette||this.writePalette(),this.writePixels(),this.firstFrame=!1},l.prototype.finish=function(){this.out.writeByte(59)},l.prototype.setQuality=function(e){e<1&&(e=1),this.sample=e},l.prototype.setDither=function(e){!0===e&&(e="FloydSteinberg"),this.dither=e},l.prototype.setGlobalPalette=function(e){this.globalPalette=e},l.prototype.getGlobalPalette=function(){return this.globalPalette&&this.globalPalette.slice&&this.globalPalette.slice(0)||this.globalPalette},l.prototype.writeHeader=function(){this.out.writeUTFBytes("GIF89a")},l.prototype.analyzePixels=function(){this.colorTab||(this.neuQuant=new n(this.pixels,this.sample),this.neuQuant.buildColormap(),this.colorTab=this.neuQuant.getColormap()),this.dither?this.ditherPixels(this.dither.replace("-serpentine",""),null!==this.dither.match(/-serpentine/)):this.indexPixels(),this.pixels=null,this.colorDepth=8,this.palSize=7,null!==this.transparent&&(this.transIndex=this.findClosest(this.transparent,!0))},l.prototype.indexPixels=function(e){var t=this.pixels.length/3;this.indexedPixels=new Uint8Array(t);for(var r=0,n=0;n<t;n++){var i=this.findClosestRGB(255&this.pixels[r++],255&this.pixels[r++],255&this.pixels[r++]);this.usedEntry[i]=!0,this.indexedPixels[n]=i}},l.prototype.ditherPixels=function(e,t){var r={FalseFloydSteinberg:[[3/8,1,0],[3/8,0,1],[2/8,1,1]],FloydSteinberg:[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]],Stucki:[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]],Atkinson:[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]]};if(!e||!r[e])throw"Unknown dithering kernel: "+e;var n=r[e],i=0,o=this.height,a=this.width,s=this.pixels,l=t?-1:1;this.indexedPixels=new Uint8Array(this.pixels.length/3);for(var c=0;c<o;c++){t&&(l*=-1);for(var u=1==l?0:a-1,h=1==l?a:0;u!==h;u+=l){var d=3*(i=c*a+u),f=s[d],p=s[d+1],m=s[d+2];d=this.findClosestRGB(f,p,m),this.usedEntry[d]=!0,this.indexedPixels[i]=d,d*=3;for(var g=f-this.colorTab[d],b=p-this.colorTab[d+1],v=m-this.colorTab[d+2],w=1==l?0:n.length-1,y=1==l?n.length:0;w!==y;w+=l){var C=n[w][1],E=n[w][2];if(C+u>=0&&C+u<a&&E+c>=0&&E+c<o){var x=n[w][0];d=i+C+E*a,s[d*=3]=Math.max(0,Math.min(255,s[d]+g*x)),s[d+1]=Math.max(0,Math.min(255,s[d+1]+b*x)),s[d+2]=Math.max(0,Math.min(255,s[d+2]+v*x))}}}}},l.prototype.findClosest=function(e,t){return this.findClosestRGB((16711680&e)>>16,(65280&e)>>8,255&e,t)},l.prototype.findClosestRGB=function(e,t,r,n){if(null===this.colorTab)return-1;if(this.neuQuant&&!n)return this.neuQuant.lookupRGB(e,t,r);for(var i=0,o=16777216,a=this.colorTab.length,s=0,l=0;s<a;l++){var c=e-(255&this.colorTab[s++]),u=t-(255&this.colorTab[s++]),h=r-(255&this.colorTab[s++]),d=c*c+u*u+h*h;(!n||this.usedEntry[l])&&d<o&&(o=d,i=l)}return i},l.prototype.getImagePixels=function(){var e=this.width,t=this.height;this.pixels=new Uint8Array(e*t*3);for(var r=this.image,n=0,i=0,o=0;o<t;o++)for(var a=0;a<e;a++)this.pixels[i++]=r[n++],this.pixels[i++]=r[n++],this.pixels[i++]=r[n++],n++},l.prototype.writeGraphicCtrlExt=function(){var e,t;this.out.writeByte(33),this.out.writeByte(249),this.out.writeByte(4),null===this.transparent?(e=0,t=0):(e=1,t=2),this.dispose>=0&&(t=7&this.dispose),t<<=2,this.out.writeByte(0|t|e),this.writeShort(this.delay),this.out.writeByte(this.transIndex),this.out.writeByte(0)},l.prototype.writeImageDesc=function(){this.out.writeByte(44),this.writeShort(0),this.writeShort(0),this.writeShort(this.width),this.writeShort(this.height),this.firstFrame||this.globalPalette?this.out.writeByte(0):this.out.writeByte(128|this.palSize)},l.prototype.writeLSD=function(){this.writeShort(this.width),this.writeShort(this.height),this.out.writeByte(240|this.palSize),this.out.writeByte(0),this.out.writeByte(0)},l.prototype.writeNetscapeExt=function(){this.out.writeByte(33),this.out.writeByte(255),this.out.writeByte(11),this.out.writeUTFBytes("NETSCAPE2.0"),this.out.writeByte(3),this.out.writeByte(1),this.writeShort(this.repeat),this.out.writeByte(0)},l.prototype.writePalette=function(){this.out.writeBytes(this.colorTab);for(var e=768-this.colorTab.length,t=0;t<e;t++)this.out.writeByte(0)},l.prototype.writeShort=function(e){this.out.writeByte(255&e),this.out.writeByte(e>>8&255)},l.prototype.writePixels=function(){new o(this.width,this.height,this.indexedPixels,this.colorDepth).encode(this.out)},l.prototype.stream=function(){return this.out},t.a=l},function(e,t,r){e.exports=r(21)},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new x(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return O()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=y(a,r);if(s){if(s===u)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=c(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,a),o}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function h(){}function d(){}function f(){}var p={};s(p,i,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&r.call(g,i)&&(p=g);var b=f.prototype=h.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){var n;this._invoke=function(i,o){function a(){return new t((function(n,a){!function n(i,o,a,s){var l=c(e[i],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}(i,o,n,a)}))}return n=n?n.then(a,a):a()}}function y(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,y(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:void 0,done:!0}}return d.prototype=f,s(b,"constructor",f),s(f,"constructor",d),d.displayName=s(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new w(l(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(b),s(b,a,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;E(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}(e.exports);try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(17),i=r(18),o=r(19);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,r);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw new RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if("string"==typeof r&&""!==r||(r="utf8"),!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=s(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(l.isBuffer(t)){var r=0|f(t.length);return 0===(e=s(e,r)).length||t.copy(e,0,0,r),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(n=t.length)!=n?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function d(e,t){var r=t.length<0?0:0|f(t.length);e=s(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(n)return V(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return S(this,t,r);case"utf8":case"utf-8":return R(this,t,r);case"ascii":return _(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=l.from(t,n)),l.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){h=!1;break}if(h)return o}return-1}function w(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[r+a]=s}return a}function y(e,t,r,n){return $(V(t,e.length-r),e,r,n)}function C(e,t,r,n){return $(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return C(e,t,r,n)}function x(e,t,r,n){return $(F(t),e,r,n)}function T(e,t,r,n){return $(function(e,t){for(var r,n,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function R(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=r)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=h}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function _(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function S(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=U(e[o]);return i}function k(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function N(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function A(e,t,r,n,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function I(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function L(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>8*(n?i:3-i)&255}function D(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,n,o){return o||D(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function j(e,t,r,n,o){return o||D(e,0,r,8),i.write(e,t,r,n,52,8),r+8}t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,r){return c(null,e,t,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,r){return function(e,t,r,n){return u(t),t<=0?s(e,t):void 0!==r?"string"==typeof n?s(e,t).fill(r,n):s(e,t).fill(r):s(e,t)}(null,e,t,r)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=l.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var a=e[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,r,n,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(n,i),u=e.slice(t,r),h=0;h<s;++h)if(c[h]!==u[h]){o=c[h],a=u[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},l.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},l.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},l.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return y(this,e,t,r);case"ascii":return C(this,e,t,r);case"latin1":case"binary":return E(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},l.prototype.slice=function(e,t){var r,n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;r=new l(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},l.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},l.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},l.prototype.readUInt8=function(e,t){return t||N(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||N(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||N(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},l.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||N(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||N(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(e,t){t||N(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(e,t){return t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||N(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||N(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,r,n){e=+e,t|=0,r|=0,n||A(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},l.prototype.writeUIntBE=function(e,t,r,n){e=+e,t|=0,r|=0,n||A(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},l.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);A(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);A(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},l.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):I(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):I(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,r){return B(this,e,t,!0,r)},l.prototype.writeFloatBE=function(e,t,r){return B(this,e,t,!1,r)},l.prototype.writeDoubleLE=function(e,t,r){return j(this,e,t,!0,r)},l.prototype.writeDoubleBE=function(e,t,r){return j(this,e,t,!1,r)},l.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},l.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=l.isBuffer(e)?e:V(new l(e,n).toString()),s=a.length;for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function U(e){return e<16?"0"+e.toString(16):e.toString(16)}function V(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function F(e){return n.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(M,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function $(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}}).call(this,r(16))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=c(e),a=n[0],s=n[1],l=new o(function(e,t,r){return 3*(t+r)/4-r}(0,a,s)),u=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,l[u++]=255&t),1===s&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,n),o-=c}return(f?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:o-1,p=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+f]=255&a,f+=p,a/=256,c-=8);e[r+f-p]|=128*m}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){"use strict";const n="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",i=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),o=new RegExp("(italic|oblique) +","i"),a=new RegExp("(small-caps) +","i"),s=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),l=new RegExp(`([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:${n})( *, *(?:${n}))*)`),c={};e.exports=e=>{if(c[e])return c[e];const t=l.exec(e);if(!t)return;const r={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")};let n,u,h,d;const f=e.substring(0,t.index);switch((n=i.exec(f))&&(r.weight=n[1]),(u=o.exec(f))&&(r.style=u[1]),(h=a.exec(f))&&(r.variant=h[1]),(d=s.exec(f))&&(r.stretch=d[1]),r.unit){case"pt":r.size/=.75;break;case"pc":r.size*=16;break;case"in":r.size*=96;break;case"cm":r.size*=96/2.54;break;case"mm":r.size*=96/25.4;break;case"%":break;case"em":case"rem":r.size*=16/.75;break;case"q":r.size*=96/25.4/4}return c[e]=r}},function(e,t,r){"use strict";r.r(t);var n=r(8),i=r.n(n),o=r(3),a=r.n(o);function s(e){return""===e?e:"true"===e||"1"==e}var l=function(e,t){return new Promise((function(t,r){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsArrayBuffer(n.response)},n.open("GET",e),n.send()}))},c=r(10),u=function(e,t,r,n,i,o,a,s){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=r,c._compiled=!0),n&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}({props:{text:{type:String,required:!0},qid:{type:String},correctLevel:{type:Number,default:1},size:{type:Number,default:200},margin:{type:Number,default:20},colorDark:{type:String,default:"#000000"},colorLight:{type:String,default:"#FFFFFF"},bgSrc:{type:String,default:void 0},background:{type:String,default:"rgba(0,0,0,0)"},backgroundDimming:{type:String,default:"rgba(0,0,0,0)"},logoSrc:{type:String,default:void 0},logoBackgroundColor:{type:String,default:"rgba(255,255,255,1)"},gifBgSrc:{type:String,default:void 0},logoScale:{type:Number,default:.2},logoMargin:{type:Number,default:0},logoCornerRadius:{type:Number,default:8},whiteMargin:{type:[Boolean,String],default:!0},dotScale:{type:Number,default:1},autoColor:{type:[Boolean,String],default:!0},binarize:{type:[Boolean,String],default:!1},binarizeThreshold:{type:Number,default:128},callback:{type:Function,default:function(){}},bindElement:{type:Boolean,default:!0},backgroundColor:{type:String,default:"#FFFFFF"},components:{default:function(){return{data:{scale:1},timing:{scale:1,protectors:!1},alignment:{scale:1,protectors:!1},cornerAlignment:{scale:1,protectors:!0}}}}},name:"vue-qr",data:function(){return{imgUrl:""}},watch:{$props:{deep:!0,handler:function(){this.main()}}},mounted:function(){this.main()},methods:{main:function(){var e=this;return i()(a.a.mark((function t(){var r,n,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.gifBgSrc){t.next=7;break}return t.next=3,l(e.gifBgSrc);case 3:return r=t.sent,n=e.logoSrc,e.render(void 0,n,r),t.abrupt("return");case 7:i=e.bgSrc,o=e.logoSrc,e.render(i,o);case 10:case"end":return t.stop()}}),t)})))()},render:function(e,t,r){var n=this;return i()(a.a.mark((function i(){var o;return a.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:o=n,new c.a({gifBackground:r,text:o.text,size:o.size,margin:o.margin,colorDark:o.colorDark,colorLight:o.colorLight,backgroundColor:o.backgroundColor,backgroundImage:e,backgroundDimming:o.backgroundDimming,logoImage:t,logoScale:o.logoScale,logoBackgroundColor:o.logoBackgroundColor,correctLevel:o.correctLevel,logoMargin:o.logoMargin,logoCornerRadius:o.logoCornerRadius,whiteMargin:s(o.whiteMargin),dotScale:o.dotScale,autoColor:s(o.autoColor),binarize:s(o.binarize),binarizeThreshold:o.binarizeThreshold,components:o.components}).draw().then((function(e){n.imgUrl=e,o.callback&&o.callback(e,o.qid)}));case 2:case"end":return i.stop()}}),i)})))()}}},(function(){var e=this.$createElement,t=this._self._c||e;return this.bindElement?t("img",{staticStyle:{display:"inline-block"},attrs:{src:this.imgUrl}}):this._e()}),[],!1,null,null,null).exports;u.install=function(e){return e.component(u.name,u)};var h=u,d=[h];"undefined"!=typeof window&&window.Vue&&function(e){d.map((function(t){e.component(t.name,t)}))}(window.Vue),t.default=h}])}))},"68f5":function(e,t,r){},"6d5b":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"content"},[r("el-main",[r("header-search",{attrs:{"show-primary-search":!0,cssType:"8"},on:{refreshTableData:e.refreshTableData}}),r("div",{staticClass:"area-main"},[r("div",{staticClass:"area-aside"},[r("div",{staticClass:"area-tree"},[r("div",{staticClass:"area-tabs"},[r("el-radio-group",{model:{value:e.tabPosition,callback:function(t){e.tabPosition=t},expression:"tabPosition"}},[r("el-radio-button",{attrs:{label:"group"}},[e._v(e._s(e.CONSTANTS_DEVICE_CONFIGURATION.WORKSHOP_GROUP))]),r("el-radio-button",{attrs:{label:"type"}},[e._v(e._s(e.CONSTANTS_DEVICE_CONFIGURATION.DEVICE_TYPE))])],1)],1),r("div",{staticClass:"area-zTree"},[r("ZTree",{attrs:{nodes:e.nodeData},on:{ztreeOnClick:e.ztreeOnClick,ztreeHandleCreated:e.ztreeHandleCreated}})],1)])]),r("div",{staticClass:"area-info"},[[r("div",{staticClass:"userInformation"},[r("HeaderTitle",{staticClass:"header-title",attrs:{titleName:e.HeadTitleName}},[r("div",{staticClass:"head-search",attrs:{slot:"head-search"},slot:"head-search"},[e._v(e._s(e.HeadTitleUrl))])]),r("VXETable",{ref:"xGrid",attrs:{id:"table",tableName:e.tableName,tableLoading:e.tableLoading,"pager-config":e.tablePage,tableDatas:e.tableDatas,tableColumns:e.tableColumns,tablePage:e.tablePage},on:{sortChange:e.sortChange,onTablePageChange:e.onTablePageChange,chooseCheck:e.tableChooseCheck}}),r("div",{staticClass:"btnDiv"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitEdit}},[e._v(e._s(e.buttonName))]),r("el-button",{on:{click:e.cancelBtnClick}},[e._v(e._s(e.BTN_TEXT.CANCEL))])],1)],1)]],2)])],1)],1)},i=[],o=(r("a15b"),r("b0c0"),r("96cf"),r("1da1")),a=r("2909"),s=r("85a8"),l=r("5861"),c=r("6f32"),u=r("cf46"),h=r("3fa5"),d=r("6464"),f=r("582a"),p=r("c1df"),m=r.n(p),g=r("e072"),b=r("f82c"),v={components:{HeaderTitle:s["a"],HeadOperationItem:l["a"],VXETable:u["a"],ZTree:c["a"]},props:{currentChangeRow:{type:Object,default:function(){return{}}},isFunc:{type:Boolean,default:!1},isMainTain:{type:Boolean,default:!1},buttonName:{type:String,default:f["c"].SAVE}},data:function(){return{BTN_TEXT:f["c"],CONSTANTS_DEVICE_CONFIGURATION:f["i"],deviceName:"",HeadTitleUrl:"",HeadTitleName:f["i"].DEVICE_LIST,searchIdArr:[],deviceChecks:[],tableName:"device",tabPosition:"group",showModelItem:!1,fatherNodeData:[],showPage:0,modelOptions:[],formParams:{model:null},devForm:{devName:"",devCode:""},formInline:{cnName:"",shortName:"",parameterName:"",isWarning:"null"},rules:{name:[{required:!0,message:f["H"].PLEASE_ENTER_CONTENT,trigger:"blur"}]},operaType:1,formLabelWidth:"150px",formLabelWidthShort:"50px",rightMenu:[],form:{name:""},titlename:"",dialogVisibleQrCode:!1,dialogVisibleUpdate:!1,dialogVisible:!1,ztreeObj:{},ztreeSelectedNode:{id:"-1",pId:"-1"},nodeData:[],tableLoading:!1,tablePage:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,1e3,1e4],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0,slots:{left:"pager_left"}},tableDatas:[],tableColumns:[{type:"checkbox",width:"50",fixed:"left",align:"center"},{field:"deviceName",title:f["i"].DEVICE_NAME,width:"150",align:"center"},{field:"deviceCode",title:f["i"].DEVICE_CODE,width:"200",align:"center",sortable:!0},{field:"devicePriCode",visible:!0,title:f["i"].DEVICE_PRCODE,minWidth:"200",align:"center",sortable:!0},{field:"number",visible:!0,title:f["i"].DEVICE_EXTEND,minWidth:"200",align:"center",sortable:!0},{field:"details",visible:!0,title:"设备描述详情",minWidth:"200",align:"center",sortable:!0},{field:"mode",title:f["i"].MODE,width:"150",align:"center"},{field:"typeName",title:f["i"].TYPE,width:"150",align:"center"},{field:"groupName",title:f["i"].GROUP_NAME,width:"150",align:"center"},{field:"commissioningDate",title:f["i"].COMMISSIONING_DATE,width:"150",align:"center",formatter:function(e){var t=e.cellValue;e.row,e.column;return t?m()(t).format("YYYY-MM-DD"):""}},{field:"manufacturer",title:f["i"].MANUFACTURER,width:"150",align:"center"}],contrastData:[],filterName:[],savedSearchCondition:[],orderByData:{}}},computed:{},created:function(){this.getTree(),this.findList()},watch:{tabPosition:function(){this.form={name:""},this.ztreeSelectedNode={id:"-1",pId:"-1"},this.getTree()}},methods:{sortChange:function(e,t){this.orderByData={},this.orderByData[e]=t,this.onTablePageChange(1,this.tablePage.pageSize)},tableChooseCheck:function(){},ztreeOnClick:function(e,t,r){this.searchIdArr=[];var n=[];n.push(t.name);var i=t.getParentNode();while(i)n.push(i.name),i=i.getParentNode();this.HeadTitleUrl=n.reverse().join(" / "),this.searchIdArr=this.getChildren(this.searchIdArr,t),this.ztreeSelectedNode=t,this.ztreeObj=r,this.tablePage.currentPage=1,this.findList()},getChildren:function(e,t){if(e.push(t.id),t.isParent)for(var r in t.children)this.getChildren(e,t.children[r]);return e},ztreeHandleCreated:function(e){this.ztreeObj=e},onTablePageChange:function(e,t){this.tablePage.currentPage=e,this.tablePage.pageSize=t,this.findList()},refreshTableData:function(e){e&&(this.savedSearchCondition=Object(a["a"])(e),this.tablePage.currentPage=1),this.findList()},findList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.tableLoading=!0,r={current:e.tablePage.currentPage,size:e.tablePage.pageSize},n={conditionJson1:[],operatorGroup:1,conditionJson2:[],orderBy:e.orderByData},e.savedSearchCondition.length>0&&(n=b["l"].apply(void 0,Object(a["a"])(e.savedSearchCondition))),e.searchIdArr.length>0&&("group"===e.tabPosition?n.conditionJson1.push({column:"groupId",operator:1,ptype:"list",type:"in",value:e.searchIdArr.join(",")}):"type"===e.tabPosition&&n.conditionJson1.push({column:"typeId",operator:1,ptype:"list",type:"in",value:e.searchIdArr.join(",")})),t.next=8,Object(g["P"])(r,n);case 8:i=t.sent,i.code===f["M"].OPERATION_SUCCESS?(e.tableDatas=i.rows,e.tablePage.total=i.total,e.tableLoading=!1,e.isFunc&&e.toFindCheck(i.rows)):Object(h["c"])(i.message),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),Object(d["a"])(f["N"].NOTIFY,t.t0);case 15:return t.prev=15,t.finish(15);case 17:case"end":return t.stop()}}),t,null,[[0,12,15,17]])})))()},getTree:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("group"!==e.tabPosition){t.next=15;break}return t.prev=1,t.next=4,Object(g["R"])();case 4:r=t.sent,r.code===f["M"].OPERATION_SUCCESS?e.nodeData=r.rows:Object(h["c"])(r.message),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(d["a"])(f["N"].NOTIFY,t.t0);case 11:return t.prev=11,t.finish(11);case 13:t.next=28;break;case 15:if("type"!==e.tabPosition){t.next=28;break}return t.prev=16,t.next=19,Object(g["tb"])();case 19:n=t.sent,n.code===f["M"].OPERATION_SUCCESS?e.nodeData=n.rows:Object(h["c"])(n.message),t.next=26;break;case 23:t.prev=23,t.t1=t["catch"](16),Object(d["a"])(f["N"].NOTIFY,t.t1);case 26:return t.prev=26,t.finish(26);case 28:case"end":return t.stop()}}),t,null,[[1,8,11,13],[16,23,26,28]])})))()},toFindCheck:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,i,o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,n={userId:t.currentChangeRow.userId},!0===t.isMainTain&&(n.deviceUserRelationshipEnum="MAINTAIN"),r.next=5,Object(g["pb"])(n);case 5:if(i=r.sent,i.code===f["M"].OPERATION_SUCCESS)for(o in t.contrastData=i.rows,e)for(a in i.rows)e[o].deviceCode===i.rows[a].deviceCode&&t.$refs.xGrid.toggleCheckboxRow(e[o]);else Object(h["c"])(i.message);r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),Object(d["a"])(f["N"].NOTIFY,r.t0);case 12:return r.prev=12,r.finish(12);case 14:case"end":return r.stop()}}),r,null,[[0,9,12,14]])})))()},submitEdit:function(){var e=this.$refs.xGrid.getCheckboxRecords();this.isFunc?this.$emit("saveRelatedDevice",e,this.tableDatas,this.contrastData):this.$emit("saveRelatedDevice",e,this.tableDatas)},cancelBtnClick:function(){this.$emit("hiddenRelated")}}},w=v,y=w,C=(r("8405"),r("2877")),E=Object(C["a"])(y,n,i,!1,null,"49158492",null);t["a"]=E.exports},"6f32":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("tree",{attrs:{nodes:e.nodes,setting:e.setting},on:{onCreated:e.handleCreated}})],1)},i=[],o=r("f419"),a=r.n(o),s={components:{tree:a.a},props:{isCheck:{type:Boolean,default:!1},isExpendAll:{type:Boolean,default:!1},isOneExpendAll:{type:Boolean,default:!1},nodes:{type:Array,default:function(){return[{}]}}},data:function(){return{selectedNode:null,ztreeObj:null,setting:{check:{enable:this.isCheck},data:{simpleData:{enable:!0,idKey:"id",pIdKey:"pId",rootPId:"0"}},callback:{onClick:this.onClick,onCheck:this.onCheck,onRightClick:this.onRightClick}}}},computed:{},created:function(){},methods:{onClick:function(e,t,r){this.selectedNode=r,this.$emit("ztreeOnClick",e,r,this.ztreeObj)},onCheck:function(e,t,r){this.$emit("ztreeOnCheck",e,r,this.ztreeObj)},handleCreated:function(e){if(this.ztreeObj=e,this.isExpendAll)e.expandAll(!0);else if(this.isOneExpendAll){var t=e.transformToArray(e.getNodes());e.expandNode(t[0],!0)}this.$emit("ztreeHandleCreated",e)},onRightClick:function(e,t,r){var n={};null===r?n=this.selectedNode:(this.selectedNode=r,n=r),this.ztreeObj.selectNode(n),this.$emit("ztreeOnRightClick",e,n,this.ztreeObj)},getNodesByParam:function(e,t,r){this.ztreeObj.expandAll(!0)},selectNode:function(e,t,r){this.ztreeObj.selectNode(e,t,r)}}},l=s,c=(r("39df"),r("2877")),u=Object(c["a"])(l,n,i,!1,null,"812aacfc",null);t["a"]=u.exports},"6f53":function(e,t,r){var n=r("83ab"),i=r("df75"),o=r("fc6a"),a=r("d1e7").f,s=function(e){return function(t){var r,s=o(t),l=i(s),c=l.length,u=0,h=[];while(c>u)r=l[u++],n&&!a.call(s,r)||h.push(e?[r,s[r]]:s[r]);return h}};e.exports={entries:s(!0),values:s(!1)}},"786f":function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o}));var n=r("b775"),i=function(e,t){return Object(n["k"])("extendPropertyValue/insertOrUpdateBatch.action?",e,t)},o=function(e,t){return Object(n["k"])("extendProperty/getList.action?",e,t)}},"81a4":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{directives:[{name:"show",rawName:"v-show",value:0===e.showPage,expression:"showPage === 0"}]},[r("el-container",{staticClass:"content"},[r("el-header",[r("header-buttons",{attrs:{cssType:"1"},on:{buttonClickEvent:e.buttonClickEvent}})],1),r("header-search",{attrs:{"show-primary-search":!0,cssType:"1"},on:{refreshTableData:e.refreshTableData}}),r("el-main",[r("div",{staticClass:"area-main"},[r("div",{staticClass:"area-info"},[[r("div",{staticClass:"userInformation"},[r("VXETable",{ref:"xGrid",attrs:{id:"table",resizable:!0,autoResize:!0,tableName:"user",height:e.$options.filters.getTableHeight(200),tableLoading:e.tableLoading,"pager-config":e.tablePage,tableDatas:e.tableDatas,tableColumns:e.myTableColumns,tablePage:e.tablePage,highlightCurrentRow:!0},on:{onTablePageChange:e.onTablePageChange,chooseCheck:e.tableChooseCheck,clickRows:e.clickRows,dbclickRows:e.dbclickRows}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.currentChangeRow.userId,expression:"currentChangeRow.userId"}],staticClass:"userInformationx"},[r("relatedDevice",{ref:"relatedDevice",attrs:{currentChangeRow:e.currentChangeRow},on:{relatedDevice:e.relatedDevice}})],1)]],2)])])],1)],1),1===e.showPage?r("div",[r("addUser",{on:{goBack:e.goBack}})],1):e._e(),r("el-dialog",{class:["relaDevice",e.$store.state.dialogMarginClass],attrs:{width:"80%",title:e.CONSTANTS_USER.RELATED_DEVICE,visible:e.dialogVisibleRelated},on:{"update:visible":function(t){e.dialogVisibleRelated=t}}},[e.dialogVisibleRelated?r("deviceDialog",{ref:"deviceDialog",attrs:{isFunc:!0,currentChangeRow:e.currentChangeRow},on:{hiddenRelated:e.hiddenRelated,saveRelatedDevice:e.saveRelatedDevice}}):e._e()],1),r("el-dialog",{class:[e.$store.state.dialogMarginClass],attrs:{title:e.titleName,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"editCodeForm",attrs:{model:e.tempRow,rules:e.rules}},[r("el-row",{attrs:{gutter:22}},[r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:e.CONSTANTS_USER.USERNAME,"label-width":e.formLabelWidth,prop:"userName"}},[r("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.tempRow.userName,callback:function(t){e.$set(e.tempRow,"userName",t)},expression:"tempRow.userName"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:e.CONSTANTS_USER.WECHAT_OPEN_ID,"label-width":e.formLabelWidth,prop:"wechatOpenId"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.tempRow.wechatOpenId,callback:function(t){e.$set(e.tempRow,"wechatOpenId",t)},expression:"tempRow.wechatOpenId"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:e.CONSTANTS_USER.PWD,"label-width":e.formLabelWidth,prop:"password"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.tempRow.newPassword,callback:function(t){e.$set(e.tempRow,"newPassword",t)},expression:"tempRow.newPassword"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:e.CONSTANTS_USER.REALNAME,"label-width":e.formLabelWidth,prop:"realName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.tempRow.realName,callback:function(t){e.$set(e.tempRow,"realName",t)},expression:"tempRow.realName"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:e.CONSTANTS_USER.TELEPHONE_NUMBER,"label-width":e.formLabelWidth,prop:"telephoneNumber",rules:e.filter_rules({type:"phone"})}},[r("el-input",{attrs:{autocomplete:"off"},on:{input:e.change},model:{value:e.tempRow.telephoneNumber,callback:function(t){e.$set(e.tempRow,"telephoneNumber",t)},expression:"tempRow.telephoneNumber"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:e.CONSTANTS_USER.SEX,"label-width":e.formLabelWidth,prop:"sex"}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.VARIABLE.PLEASE_CHOOSE},model:{value:e.tempRow.sex,callback:function(t){e.$set(e.tempRow,"sex",t)},expression:"tempRow.sex"}},e._l(e.sexOptions,(function(e){return r("el-option",{key:e.id,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:e.CONSTANTS_USER.EMAIL,"label-width":e.formLabelWidth,prop:"email"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.tempRow.email,callback:function(t){e.$set(e.tempRow,"email",t)},expression:"tempRow.email"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:e.CONSTANTS_USER.OPERATOR_JOR_NUMBER,"label-width":e.formLabelWidth,prop:"operatorJorNumber"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.tempRow.operatorJorNumber,callback:function(t){e.$set(e.tempRow,"operatorJorNumber",t)},expression:"tempRow.operatorJorNumber"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:e.CONSTANTS_USER.WECHAT_NICK_NAME,"label-width":e.formLabelWidth,prop:"wechatNickName"}},[r("el-input",{attrs:{autocomplete:"off"},model:{value:e.tempRow.wechatNickName,callback:function(t){e.$set(e.tempRow,"wechatNickName",t)},expression:"tempRow.wechatNickName"}})],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:e.CONSTANTS_USER.ROLE,"label-width":e.formLabelWidth}},[r("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:e.VARIABLE.PLEASE_CHOOSE},model:{value:e.tempRow.roleIdList,callback:function(t){e.$set(e.tempRow,"roleIdList",t)},expression:"tempRow.roleIdList"}},e._l(e.roleOptions,(function(e){return r("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId}})})),1)],1)],1),r("el-col",{attrs:{span:11}},[r("el-form-item",{attrs:{label:"用户类型","label-width":e.formLabelWidth}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:e.VARIABLE.PLEASE_CHOOSE},model:{value:e.tempRow.isBoss,callback:function(t){e.$set(e.tempRow,"isBoss",t)},expression:"tempRow.isBoss"}},e._l(e.isBossOption,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),e._l(e.extendPropertyValueVoList,(function(t,n){return r("el-col",{key:n,attrs:{span:11}},[r("el-form-item",{class:{requiredStar:1===t.propertyIsNull},attrs:{label:t.extendName,"label-width":e.formLabelWidth,prop:"extendPropertyValueVoList."+n+".extendValue",rules:e.rules[t.propertyCode]}},[3!==t.propertyType?r("el-input",{model:{value:t.extendValue,callback:function(r){e.$set(t,"extendValue",r)},expression:"item.extendValue"}}):r("el-date-picker",{attrs:{type:"datetime",format:e.FORM_CONFIG_DATE[t.propertyLength],"value-format":e.FORM_CONFIG_DATE[t.propertyLength]},model:{value:t.extendValue,callback:function(r){e.$set(t,"extendValue",r)},expression:"item.extendValue"}})],1)],1)}))],2)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitEdit()}}},[e._v(e._s(e.BTN_TEXT.SAVE))]),r("el-button",{attrs:{type:"warning"},on:{click:e.resetEdit}},[e._v(e._s(e.BTN_TEXT.RESET))]),r("el-button",{on:{click:e.cancelBtnClick}},[e._v(e._s(e.BTN_TEXT.CANCEL))])],1)],1),r("el-dialog",{class:[e.$store.state.dialogMarginClass],attrs:{"append-to-body":"",title:e.CONSTANTS_USER.PRINT_QRCODE,width:"350px",visible:e.dialogVisibleQrCode},on:{"update:visible":function(t){e.dialogVisibleQrCode=t}}},[r("div",{attrs:{id:"printDiv"}},[r("vue-qr",{attrs:{logoSrc:e.imageUrl,text:e.qrCode,size:200}}),r("div",{staticClass:"printName"},[e._v(e._s(e.userName))])],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{directives:[{name:"print",rawName:"v-print",value:"#printDiv",expression:"'#printDiv'"}],attrs:{type:"primary"}},[e._v(e._s(e.BTN_TEXT.PRINT))]),r("el-button",{on:{click:function(t){e.dialogVisibleQrCode=!1}}},[e._v(e._s(e.BTN_TEXT.CANCEL))])],1)]),r("dialog-setting-column",{attrs:{"show-setting-dialog":e.isSettingCustomDialogShow,"default-columns":e.tableColumns_old2,"page-columns":e.myTableColumns},on:{"update:showSettingDialog":function(t){e.isSettingCustomDialogShow=t},"update:show-setting-dialog":function(t){e.isSettingCustomDialogShow=t},saveMyColumnSetting:e.handleSaveColumnSetting}}),e.isImportDialogShow?r("ImportDialog",{ref:"ImportDialog",attrs:{importDialogName:e.EXPORT_NAME.USER_TITLE,exportFileName:e.EXPORT_NAME.USER_TEMPLATE},on:{exportTemplate:e.exportTemplate,submitImportFile:e.submitImportFile,findTableList:e.findTableList,closeImportDialog:e.closeImportDialog}}):e._e()],1)},i=[],o=(r("99af"),r("d81d"),r("fb6a"),r("a434"),r("d3b7"),r("4d63"),r("ac1f"),r("25f0"),r("5319"),r("2909")),a=r("5530"),s=(r("96cf"),r("1da1")),l=r("85a8"),c=r("5861"),u=r("cf46"),h=r("1250"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"content"},[r("el-main",[r("div",{staticClass:"area-main"},[r("div",{staticClass:"area-info"},[[r("div",{staticClass:"userInformation"},[r("HeaderTitle",{staticClass:"header-title",attrs:{titleName:e.userListTitle}},[r("div",{staticClass:"head-operation",attrs:{slot:"head-operation"},slot:"head-operation"},[r("HeadOperationItem",{attrs:{name:"addDevice"},on:{onOprationItem:e.togglePage}},[r("i",{staticClass:"icon-add",attrs:{slot:"operation-icon"},slot:"operation-icon"}),r("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.CONSTANTS_USER.RELATED_DEVICE))])])],1)]),r("VXETable",{ref:"xGrid",attrs:{id:"table",tableName:"",maxHeight:"500px",tableLoading:e.tableLoading,"pager-config":e.tablePage,tableDatas:e.tableDatas,tableColumns:e.tableColumns,tablePage:e.tablePage},on:{onTablePageChange:e.onTablePageChange,chooseCheck:e.tableChooseCheck}})],1)]],2)])])],1)},f=[],p=r("e072"),m=r("582a"),g=r("3fa5"),b=r("6464"),v={props:{currentChangeRow:{type:Object,default:function(){return{}}}},data:function(){var e=this,t=this.$createElement;return{CONSTANTS_USER:m["n"],BTN_TEXT:m["c"],VARIABLE:m["P"],deviceChecks:[],userListTitle:m["n"].RELATED_LIST,titleName:m["n"].TITLE_MODIFY_USER_DIALOG,tableLoading:!1,dialogVisible:!1,tableDatas:[],tablePage:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[5,10,20,30,50],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0,slots:{left:"pager_left"}},tableColumns:[{field:"deviceName",title:m["i"].DEVICE_NAME,align:"center"},{field:"deviceCode",title:m["i"].DEVICE_CODE,align:"center"},{field:"devicePriCode",visible:!0,title:m["i"].DEVICE_PRCODE,align:"center"},{field:"number",visible:!0,title:m["i"].DEVICE_EXTEND,align:"center"},{field:"details",visible:!0,title:"设备描述详情",align:"center"},{field:"mode",title:m["i"].MODE,align:"center"},{field:"typeName",title:m["i"].TYPE,align:"center"},{field:"groupName",title:m["i"].GROUP_NAME,align:"center"},{title:m["c"].OPERATION,width:"120",align:"center",fixed:"right",slots:{default:function(r){var n=r.row,i=r.column;return[t("el-button",{on:{click:function(){return e.toDelete(n,i)}},attrs:{type:"text"}},[m["c"].DELETE])]}}}]}},components:{HeaderTitle:l["a"],HeadOperationItem:c["a"],VXETable:u["a"],addUser:h["a"]},methods:{deteleall:function(){var e=this;if(0===this.tableChecks.length)this.$message.error(m["H"].PLEASE_CHOOSE_DELETE);else{var t=[];this.tableChecks.map((function(e){return t.push(e.relationshipId)})),this.$confirm(m["H"].CONFIRM_CHOOSE_DELETE,m["N"].PROMPT,{confirmButtonText:m["c"].CONFIRM,cancelButtonText:m["c"].CANCEL,type:"warning"}).then((function(){e.setDeleteChecks(t)})).catch((function(){}))}},setDeleteChecks:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p["ob"])({ids:e});case 3:n=r.sent,n.code===m["M"].OPERATION_SUCCESS?(Object(g["b"])(n.message),t.findTableList()):Object(g["c"])(n.message),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),Object(b["a"])(m["N"].NOTIFY,r.t0);case 10:return r.prev=10,r.finish(10);case 12:case"end":return r.stop()}}),r,null,[[0,7,10,12]])})))()},tableChooseCheck:function(e){this.tableChecks=e},toDelete:function(e){var t=this;this.$confirm(m["H"].CONFIRM_DELETE,m["N"].PROMPT,{confirmButtonText:m["c"].CONFIRM,cancelButtonText:m["c"].CANCEL,type:"warning"}).then((function(){t.setDeleteChecks([e.relationshipId])})).catch((function(){}))},showDialog:function(e){this.dialogVisible=!0,this.tempRow=JSON.parse(JSON.stringify(e)),this.initRow=e},findTableList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableChecks=[],t.prev=1,e.tableLoading=!0,r={userId:e.currentChangeRow.userId,current:e.tablePage.currentPage,deviceUserRelationshipEnum:"GENERAL",size:e.tablePage.pageSize},t.next=6,Object(p["pb"])(r);case 6:n=t.sent,n.code===m["M"].OPERATION_SUCCESS&&(e.tableDatas=n.rows,e.tablePage.total=n.total),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](1),Object(b["a"])(m["N"].NOTIFY,t.t0);case 13:return t.prev=13,e.tableLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})))()},onTablePageChange:function(e,t){this.tablePage.currentPage=e,this.tablePage.pageSize=t,this.findTableList()},clearCheckboxRow:function(){this.$refs.xGrid.clearCheckboxRow(),this.$refs.xGrid.selectRecords=[]},togglePage:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$emit("relatedDevice");case 1:case"end":return t.stop()}}),t)})))()}},created:function(){this.findTableList()}},w=v,y=w,C=(r("c0e8"),r("2877")),E=Object(C["a"])(y,d,f,!1,null,"66be89f2",null),x=E.exports,T=r("6d5b"),O=r("eec9"),R=r("bcc1"),_=r("b314"),P=r("be7c"),S=r("786f"),k=r("3f2a"),N=r("4eee"),A=r("cf45"),I=r("f82c"),L=r("b82e"),D=r("658f5"),B=r.n(D),j={name:"UserConfiguration",data:function(){var e=this,t=this.$createElement,r=function(t,r,n){return e.$options.filters.formatterFormValidate(t,r,n,e.extendPropertyValueVoList)},n=function(t,r,n){var i=new RegExp("(?=.*[0-9])(?=.*[A-Z])(?=.*[a-z])(?=.*[^a-zA-Z0-9]).{8,30}");e.tempRow.newPassword?i.test(r)?""!==e.tempRow.newPassword&&e.tempRow.newPassword!==r?n(new Error("两次密码不一致")):n():n(new Error("密码字母大小写、数字特殊符号至少8位")):n()};return{setValidateForm:r,EXPORT_NAME:m["y"],FORM_CONFIG_DATE:m["D"],CONSTANTS_USER:m["n"],BTN_TEXT:m["c"],VARIABLE:m["P"],showPage:0,userListTitle:m["n"].USER_LIST,titleName:m["n"].TITLE_MODIFY_USER_DIALOG,initRow:null,tempRow:{isBoss:null},currentChangeRow:{},isBossOption:[{label:"普通用户",value:0},{label:"管理用户",value:1},{label:"其他",value:2}],sexOptions:[{label:m["P"].MAN,value:m["P"].ONE_NUMBER},{label:m["P"].WOMAN,value:m["P"].TWO_NUMBER}],newPasswordRules:[{validator:n,trigger:"blur"}],rules:{},OldRules:{userName:[{required:!0,trigger:"blur",message:m["H"].PLEASE_ENTER_CONTENT},{max:20,message:"长度不得大于20个字符"}],realName:[{required:!0,trigger:"blur",message:m["H"].PLEASE_ENTER_CONTENT},{max:10,message:"长度不得大于10个字符"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"不允许输入空格等特殊符号"}],operatorJorNumber:[{max:30,message:"长度不得大于30个字符"}],sex:[{required:!0,trigger:"change",message:m["H"].PLEASE_CHOOSE_CONTENT}],email:[{type:"email",message:m["n"].RULES_EMAIL,trigger:["blur"]},{max:20,message:"长度不得大于20个字符"}],userCrad:[{validator:this.isIdCardValid,trigger:"change"},{max:20,message:"长度不得大于20个字符"}],newPassword:[{max:12,message:"长度不得大于12个字符"}],wechatNickName:[{max:30,message:"长度不得大于30个字符"}],wechatOpenId:[{max:100,message:"长度不得大于100个字符"}]},tableLoading:!1,dialogVisible:!1,dialogVisibleRelated:!1,dialogVisibleQrCode:!1,formLabelWidth:"100px",userQRcode:"",userName:"",tableDatas:[],tablePage:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[5,10,20,30,50],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0,slots:{left:"pager_left"}},tableColumns:[],tableColumns_old:[{type:"radio",align:"center",visible:!0,width:"50"},{field:"userName",title:m["n"].USERNAME,visible:!0,minWidth:"100",align:"center"},{field:"operatorJorNumber",title:m["n"].OPERATOR_JOR_NUMBER,visible:!0,minWidth:"140",align:"center"},{field:"sex",title:m["n"].SEX,visible:!0,minWidth:"140",align:"center",formatter:function(e){var t=e.cellValue;e.row,e.column;return 1===t?m["P"].MAN:2===t?m["P"].WOMAN:void 0}},{field:"wechatNickName",title:m["n"].WECHAT_NICK_NAME,visible:!0,minWidth:"160",align:"center"},{field:"wechatOpenId",title:m["n"].WECHAT_OPEN_ID,visible:!0,minWidth:"150",align:"center"},{field:"realName",title:m["n"].REALNAME,visible:!0,minWidth:"160",align:"center"},{field:"telephoneNumber",title:m["n"].TELEPHONE_NUMBER,visible:!0,minWidth:"160",align:"center"},{field:"email",title:m["n"].EMAIL,visible:!0,minWidth:"160",align:"center"},{field:"roleNameList",title:m["n"].ROLE,visible:!0,minWidth:"160",align:"center"},{field:"isBoss",title:"用户类型",visible:!0,minWidth:"160",align:"center",formatter:function(e){var t=e.cellValue;e.row,e.column;return 0===t?"普通用户":1===t?"管理用户":2===t?"其他":void 0}},{field:"",title:m["c"].OPERATION,visible:!0,width:"50",align:"center",fixed:"right",slots:{header:function(r){r.column;return[t("span",[t("i",{on:{click:function(){return e.showCustomColumn()}},class:"el-icon-s-tools set-btn"})])]}}}],tableColumns_old2:[],tableColumns_head:[],tableColumns_operation:[],extendPropertyValueVoList:[],isSearchBoxShow:!1,searchList:[],searchData:[],dialogVisibleCustomColumn:!1,isImportDialogShow:!1,roleOptions:[],savedSearchCondition:[],savedCustomColumns:[],isSettingCustomDialogShow:!1,imageUrl:"",qrCode:""}},watch:{},computed:{myTableColumns:function(){return Array.isArray(this.savedCustomColumns)&&this.savedCustomColumns.length>0?(console.log(this.savedCustomColumns),this.savedCustomColumns):this.tableColumns_old2}},components:{vueQr:B.a,HeaderTitle:l["a"],HeadOperationItem:c["a"],VXETable:u["a"],addUser:h["a"],relatedDevice:x,SearchBox:O["a"],deviceDialog:T["a"],CustomColumn:R["a"],ImportDialog:_["a"],DialogSettingColumn:P["a"]},methods:{buttonClickEvent:function(e){this["".concat(e)]()},handleCommand:function(e,t){switch(e){case"info":this.showDialog(t);break;case"delete":this.toDelete(t);break;case"qrcode":this.setQrCode(t);break;default:break}},deteleall:function(){var e=this;if(0===this.tableChecks.length)this.$message.error(m["H"].PLEASE_CHOOSE_DELETE);else{var t=[];this.tableChecks.map((function(e){return t.push(e.userId)})),this.$confirm(m["H"].CONFIRM_CHOOSE_DELETE,m["N"].PROMPT,{confirmButtonText:m["c"].CONFIRM,cancelButtonText:m["c"].CANCEL,type:"warning"}).then((function(){e.setDeleteChecks(t)})).catch((function(){}))}},setDeleteChecks:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(p["Sb"])({ids:e});case 3:n=r.sent,n.code===m["M"].OPERATION_SUCCESS?(Object(g["b"])(n.message),t.currentChangeRow={},t.findTableList()):Object(g["c"])(n.message),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),Object(b["a"])(m["N"].NOTIFY,r.t0);case 10:return r.prev=10,r.finish(10);case 12:case"end":return r.stop()}}),r,null,[[0,7,10,12]])})))()},tableChooseCheck:function(e){this.tableChecks=e},toDelete:function(){var e=this,t={};if(!this.$refs.xGrid.getRadioRecord())return Object(g["c"])("请选择要操作的数据！"),!1;t=this.$refs.xGrid.getRadioRecord(),this.$confirm(m["H"].CONFIRM_DELETE,m["N"].PROMPT,{confirmButtonText:m["c"].CONFIRM,cancelButtonText:m["c"].CANCEL,type:"warning"}).then((function(){e.setDeleteChecks([t.userId])})).catch((function(){}))},dbclickRows:function(){this.showDialog()},showDialog:function(){var e={};if(!this.$refs.xGrid.getRadioRecord())return Object(g["c"])("请选择要操作的数据！"),!1;e=this.$refs.xGrid.getRadioRecord(),void 0===e.isBoss&&(e.isBoss=0),this.toSearchRole(),this.toExtendRulesAndShow(e),this.tempRow=JSON.parse(JSON.stringify(e)),this.dialogVisible=!0,console.log(this.tempRow),this.initRow=e},submitEdit:function(){var e=this;this.$refs.editCodeForm.validate((function(t){t&&e.setSubmitEdit()}))},setSubmitEdit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=JSON.parse(JSON.stringify(e.tempRow)),console.log(e.tempRow),delete r.userName,delete r.createTime,delete r.updateTime,delete r.extendPropertyValueVoList,delete r.companyId,delete r._XID,delete r.isNewPassword,""!==r.newPassword&&(r.password=r.newPassword),t.next=13,Object(p["ac"])(r);case 13:n=t.sent,n.code===m["M"].OPERATION_SUCCESS?(Object(g["b"])(n.message),e.dialogVisible=!1,e.initRow=null,e.setUserReleRole(),setTimeout((function(){e.extendPropertyValueVoList.length>0?e.saveExtendValue():e.findTableList()}),0)):Object(g["c"])(n.message),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](0),e.$notify.error({title:m["N"].ERROR,message:t.t0,showClose:!1,duration:2e3,position:"bottom-right"});case 20:case"end":return t.stop()}}),t,null,[[0,17]])})))()},setUserReleRole:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={userId:e.tempRow.userId},e.tempRow.roleIdList&&e.tempRow.roleIdList.length>0&&(r.roleIdList=e.tempRow.roleIdList),t.prev=2,t.next=5,Object(p["Zb"])(r);case 5:n=t.sent,n.code===m["M"].OPERATION_SUCCESS||Object(g["c"])(n.message),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),Object(b["a"])(m["N"].NOTIFY,t.t0);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[2,9,12,14]])})))()},resetEdit:function(){this.tempRow=Object(a["a"])({},this.initRow),this.showDialog(this.initRow),this.$refs.editCodeForm.resetFields()},cancelBtnClick:function(){this.$refs.editCodeForm.resetFields(),this.dialogVisible=!1},clickRows:function(e){var t=this;this.currentChangeRow=Object(a["a"])({},e),setTimeout((function(){t.$refs.relatedDevice.findTableList()}),0)},findTableList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableChecks=[],t.prev=1,e.tableLoading=!0,r={current:e.tablePage.currentPage,size:e.tablePage.pageSize},n={conditionJson1:[],operatorGroup:1,conditionJson2:[]},e.savedSearchCondition.length>0&&(n=I["l"].apply(void 0,Object(o["a"])(e.savedSearchCondition))),t.next=8,Object(p["Ub"])(r,n);case 8:i=t.sent,i.code===m["M"].OPERATION_SUCCESS&&(console.log(i),e.tableDatas=i.rows,e.tablePage.total=i.total),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),Object(b["a"])(m["N"].NOTIFY,t.t0);case 15:return t.prev=15,e.tableLoading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))()},onTablePageChange:function(e,t){this.tablePage.currentPage=e,this.tablePage.pageSize=t,this.findTableList()},relatedDevice:function(){this.dialogVisibleRelated=!0},hiddenRelated:function(){this.dialogVisibleRelated=!1,this.$refs.relatedDevice.clearCheckboxRow(),this.$refs.relatedDevice.deviceChecks=[]},saveRelatedDevice:function(e,t,r){var n=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var o,a,s,l,c,u,h,d,f,v,w,y;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(console.log(e,t,r),i.prev=1,o=[],a=[],0===e.length)for(s in t)a.push(t[s].deviceCode);else{for(l in t){for(u in c=0,e)t[l].deviceCode===e[u].deviceCode&&c++;if(0===c){for(h=0,d=0;d<r.length;d++)t[l].deviceCode===r[d].deviceCode&&(h=1);1===h&&a.push(t[l].deviceCode)}}for(f in e){if(v=0,r.length>0)for(w in r)e[f].deviceCode===r[w].deviceCode&&v++;0===v&&o.push(e[f].deviceCode)}}return i.next=7,Object(p["rb"])({},{userId:n.currentChangeRow.userId,relationshipDeviceCodeList:o,deviceUserRelationshipEnum:"GENERAL",deleteDeviceCodeList:a});case 7:y=i.sent,y.code===m["M"].OPERATION_SUCCESS?(Object(g["b"])(y.message),n.$refs.relatedDevice.findTableList(),n.$refs.relatedDevice.clearCheckboxRow(),n.$refs.relatedDevice.deviceChecks=[],n.$refs.deviceDialog.findList()):Object(g["c"])(y.message),i.next=14;break;case 11:i.prev=11,i.t0=i["catch"](1),Object(b["a"])(m["N"].NOTIFY,i.t0);case 14:return i.prev=14,n.tableLoading=!1,i.finish(14);case 17:case"end":return i.stop()}}),i,null,[[1,11,14,17]])})))()},togglePage:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showPage=1;case 1:case"end":return t.stop()}}),t)})))()},goBack:function(e){this.showPage=e,this.findTableList()},setQrCode:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r={},e.$refs.xGrid.getRadioRecord()){t.next=6;break}return Object(g["c"])("请选择要操作的数据！"),t.abrupt("return",!1);case 6:r=e.$refs.xGrid.getRadioRecord();case 7:e.dialogVisibleQrCode=!0,e.qrCode=r.userName,e.userName=r.realName+"("+r.userName+")";case 10:case"end":return t.stop()}}),t)})))()},isIdCardValid:function(e,t,r){t?/^[1-9]\d{5}(19|20)\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/.test(t)||/^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$/.test(t)?r():r(new Error("身份证号格式错误！")):r()},change:function(){this.$forceUpdate()},setTableColume:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e,t.prev=1,t.next=4,Object(S["a"])({},{conditionJson1:[{column:"extendType",conditionJson1:[],conditionJson2:[],current:0,operator:1,operatorGroup:0,orderBy:{},ptype:"int",size:0,type:"eq",value:4}]});case 4:if(n=t.sent,n.code===m["M"].OPERATION_SUCCESS){if(e.extendPropertyValueVoList=n.rows,e.tableColumns=[],e.tableColumns_head=e.tableColumns_old.slice(0,e.tableColumns_old.length-1),e.tableColumns_operation=e.tableColumns_old[e.tableColumns_old.length-1],e.tableColumns=e.tableColumns.concat(e.tableColumns_head),e.extendPropertyValueVoList.length>0)for(i=e.extendPropertyValueVoList,o=0;o<i.length;o++)e.tableColumns.push({field:i[o].propertyCode,title:i[o].extendName,width:"160",align:"center",visible:!0,eType:!0,formatter:e.$options.filters.formatterExtendValue});e.tableColumns=e.tableColumns.concat(e.tableColumns_operation),e.tableColumns_old2=e.tableColumns,setTimeout((function(){r.getCustomColumn(1)}),0)}t.next=10;break;case 8:t.prev=8,t.t0=t["catch"](1);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[1,8,10,12]])})))()},saveExtendValue:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.extendPropertyValueVoList.map((function(e){return null===e.extendValue&&(e.extendValue=""),e})),t.prev=1,t.next=4,Object(S["b"])({},r);case 4:n=t.sent,n.code===m["M"].OPERATION_SUCCESS?e.findTableList():Object(g["c"])(n.message),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(b["a"])(m["N"].NOTIFY,t.t0);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[1,8,11,13]])})))()},toExtendRulesAndShow:function(e){var t=e.extendPropertyValueVoList.map((function(t){return t.relationshipTypeId=e.userId,t}));for(var r in this.extendPropertyValueVoList=t,this.rules=JSON.parse(JSON.stringify(this.OldRules)),this.extendPropertyValueVoList)3===this.extendPropertyValueVoList[r].propertyType?this.rules[this.extendPropertyValueVoList[r].propertyCode]=[{validator:this.setValidateForm,trigger:["blur","change"]}]:this.rules[this.extendPropertyValueVoList[r].propertyCode]=[{validator:this.setValidateForm,trigger:"blur"}]},getSearchList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(p["Eb"])({});case 3:r=t.sent,r.code===m["M"].OPERATION_SUCCESS?e.searchList=r.rows:Object(g["c"])(r.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(b["a"])(m["N"].NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},showSearchCard:function(){this.isSearchBoxShow=!this.isSearchBoxShow,this.isSearchBoxShow||this.onTablePageChange(1,this.tablePage.pageSize)},findTable:function(e,t,r){if(this.searchData=[],void 0!==e)for(var n in this.searchData.conditionArr1=JSON.parse(JSON.stringify(e)),this.searchData.conditionArr1)this.searchData.conditionArr1[n].value=this.searchData.conditionArr1[n].value.toString();if(void 0!==t&&(this.searchData.groupOperator=t),void 0!==r)for(var i in this.searchData.conditionArr2=JSON.parse(JSON.stringify(r)),this.searchData.conditionArr2)this.searchData.conditionArr2[i].value=this.searchData.conditionArr2[i].value.toString();this.onTablePageChange(1,this.tablePage.pageSize)},showCustomColumn:function(){this.isSettingCustomDialogShow=!this.isSettingCustomDialogShow},exportTable:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,i,a,s,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e,t.prev=1,n={current:1,size:99999999},i={conditionJson1:[],operatorGroup:1,conditionJson2:[]},e.savedSearchCondition.length>0&&(i=I["l"].apply(void 0,Object(o["a"])(e.savedSearchCondition))),t.next=7,Object(p["Ub"])(n,i);case 7:if(a=t.sent,a.code===m["M"].OPERATION_SUCCESS){for(s=[],s=Array.isArray(r.savedCustomColumns)&&r.savedCustomColumns.length>0?r.savedCustomColumns:r.tableColumns_old2,l=[],c=[],u=0;u<s.length;u++)"radio"!==s[u].type&&"checkbox"!==s[u].type&&""!==s[u].type&&(l.push(s[u].field),c.push(s[u].title));setTimeout((function(){console.log(a.rows,l),r.$refs.xGrid.exportData("用户列表",a.rows,l)}),300)}else Object(g["c"])(a.message);t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),Object(b["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 14:return t.prev=14,t.finish(14);case 16:case"end":return t.stop()}}),t,null,[[1,11,14,16]])})))()},refreshTable:function(){this.findTableList()},importTable:function(){var e=this;this.isImportDialogShow=!0,setTimeout((function(){e.$refs.ImportDialog.isShow=!0,e.$refs.ImportDialog.resetUploadProgressBar()}),0)},exportTemplate:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(k["q"])();case 3:r=t.sent,void 0!==r.data.code?Object(g["c"])(r.message):e.$options.filters.setExportFunc(r,m["y"].USER_TEMPLATE),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(b["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},submitImportFile:function(e){var t=this,r=e.file,n=new FormData;n.append("file",r),Object(N["h"])({},n,{onUploadProgress:function(e){var r=Math.floor(100*e.loaded/e.total);t.$refs.ImportDialog.uploadPercent=r}}).then((function(r){r.code===m["M"].OPERATION_SUCCESS?(e.onSuccess(r),t.$refs.ImportDialog.cleanFile2()):(e.onError(r),t.$refs.ImportDialog.cleanFile2())})).catch((function(t){Object(g["c"])(t),e.onError(t)}))},closeImportDialog:function(){this.findTableList(),this.isImportDialogShow=!1},toSearchRole:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(p["Ob"])();case 3:r=t.sent,r.code===m["M"].OPERATION_SUCCESS?e.roleOptions=r.rows:Object(g["c"])(r.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(b["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},handleSaveColumnSetting:function(e){var t=arguments,r=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i,o,a,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.length>1&&void 0!==t[1]?t[1]:r.cssType,i=r.$loading({body:!0,lock:!0,text:"自定列配置提交中..."}),n.prev=2,o=Object(A["c"])("id"),a=window.localStorage.getItem("account").replace(/"/g,""),s={account:a,cssType:1,menuId:o},n.next=8,Object(L["b"])(s,e);case 8:l=n.sent,"0000"===l.code?(i.close(),Object(g["b"])(l.message),r.refreshTableColumns()):(i.close(),Object(g["a"])(l.message||"操作失败！")),n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](2),i.close(),Object(g["a"])(n.t0+"666");case 16:return n.prev=16,r.isSettingCustomDialogShow=!1,n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[2,12,16,19]])})))()},getCustomColumn:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,i,a,s,l,c;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,n=Object(A["c"])("id"),i=window.localStorage.getItem("account").replace(/"/g,""),a={account:i,cssType:e,menuId:n},r.next=6,Object(L["a"])(a);case 6:s=r.sent,Array.isArray(s)&&s.length>0&&(c=Object(I["k"])(s,t.tableColumns_old2),t.savedCustomColumns.length>0&&t.savedCustomColumns.splice(0),(l=t.savedCustomColumns).push.apply(l,Object(o["a"])(c))),r.next=12;break;case 10:r.prev=10,r.t0=r["catch"](0);case 12:case"end":return r.stop()}}),r,null,[[0,10]])})))()},refreshTableColumns:function(){this.getCustomColumn(1),this.refreshTableData()},refreshTableData:function(e){e&&(this.savedSearchCondition=Object(o["a"])(e),this.tablePage.currentPage=1),this.findTableList()}},created:function(){this.setTableColume(),this.findTableList()}},M=j,U=M,V=(r("41e3"),r("63ad"),Object(C["a"])(U,n,i,!1,null,"5c562652",null));t["default"]=V.exports},8405:function(e,t,r){"use strict";var n=r("68f5"),i=r.n(n);i.a},"857a":function(e,t,r){var n=r("1d80"),i=/"/g;e.exports=function(e,t,r,o){var a=String(n(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+t+">"}},9460:function(e,t,r){},9887:function(e,t,r){},9914:function(e,t,r){"use strict";var n=r("f8f0"),i=r.n(n);i.a},"9aed":function(e,t,r){"use strict";var n=r("9460"),i=r.n(n);i.a},af03:function(e,t,r){var n=r("d039");e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},b314:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{class:[e.$store.state.dialogMarginClass,"import-dialog"],attrs:{title:e.importDialogName,visible:e.isShow},on:{"update:visible":function(t){e.isShow=t}}},[r("span",{staticClass:"display-flex"},[r("el-link",{staticClass:"width-120 margin-right-10",attrs:{underline:!1},on:{click:e.exportTemplate}},[e._v(e._s(e.exportFileName))]),r("el-input",{staticClass:"margin-right-10",attrs:{size:"small",disabled:""},model:{value:e.importFileName,callback:function(t){e.importFileName=t},expression:"importFileName"}}),r("el-upload",{ref:"upload",staticClass:"display-flex file-upload",attrs:{action:"","auto-upload":!1,accept:".xlsx, .xls","http-request":e.submitFile,"file-list":e.importFiles,"show-file-list":!1,"on-change":e.selectFile,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError}},[r("el-button",{staticClass:"margin-right-10",attrs:{slot:"trigger",size:"small"},slot:"trigger"},[e._v(e._s(e.BTN_TEXT.CHOOSE_FILE))]),r("el-button",{staticClass:"custom-button",attrs:{size:"small",type:"primary",disabled:0===e.importFiles.length},on:{click:e.uploadBtnClick}},[e._v(e._s(e.BTN_TEXT.IMPORT))]),r("el-button",{staticClass:"custom-button",attrs:{size:"small",type:"danger"},on:{click:e.cleanFile}},[e._v("清空")])],1)],1),r("span",{directives:[{name:"show",rawName:"v-show",value:e.isUploadProgressShow,expression:"isUploadProgressShow"}],staticClass:"display-flex margin-top-15"},[r("span",[e._v(e._s(e.VARIABLE.UPLOAD_PROGRESS)+":")]),r("el-progress",{attrs:{"text-inside":!0,percentage:e.uploadPercent,"stroke-width":22,format:e.formatText,color:e.uploadProgressColor}})],1),e.errorList.length>0?r("div",{staticClass:"errorDiv"},[r("div",{staticClass:"errorTitle"},[e._v(e._s(e.VARIABLE.ERROR_INFO)+":"+e._s(e.errorList.length)+e._s(e.VARIABLE.ARTICLE))]),r("div",{staticClass:"errorListDiv"},e._l(e.errorList,(function(e,t){return r("el-alert",{key:t,attrs:{title:e.failData+"  "+e.failReason,type:"error","show-icon":""}})})),1)]):e._e()])},i=[],o=(r("b0c0"),r("582a")),a=r("3fa5"),s={components:{},props:{importDialogName:{type:String,default:""},exportFileName:{type:String,default:""}},data:function(){return{BTN_TEXT:o["c"],VARIABLE:o["P"],importFileName:"",importFiles:[],uploadPercent:0,isUploadProgressShow:!1,uploadProgressColor:"#0871dc",errorList:[],isShow:!1,limit:1}},computed:{},created:function(){},methods:{exportTemplate:function(){this.$emit("exportTemplate")},submitFile:function(e){this.isUploadProgressShow=!1,this.uploadPercent=0,this.errorList=[],this.$emit("submitImportFile",e)},selectFile:function(e,t){this.importFileName=e.name,this.importFiles=t},handleUploadSuccess:function(e){e.rows&&e.rows.length>0?(this.isUploadProgressShow=!1,this.uploadPercent=0,Object(a["a"])(o["H"].IMPORT_ERROR),e.rows&&(this.errorList=e.rows)):(this.isShow=!1,console.log("成功",e),Object(a["b"])(o["H"].IMPORT_SUCCESS),this.$emit("closeImportDialog"))},handleUploadError:function(e){console.log("失败",e),this.isUploadProgressShow=!1,this.uploadPercent=0,Object(a["a"])(e),e.rows&&(this.errorList=e.rows,console.log(this.errorList))},uploadBtnClick:function(){this.$refs.upload.submit(),this.uploadPercent=0},formatText:function(e){return"".concat(e,"%")},resetUploadProgressBar:function(){var e=this;this.isUploadProgressShow=!1,this.uploadPercent=0,this.$nextTick((function(){e.importFileName=""})),this.importFileName="",this.errorList=[]},cleanFile:function(){var e=this;this.$nextTick((function(){e.importFileName="",e.importFiles=[],e.$refs.upload.clearFiles(),e.errorList=[],e.isUploadProgressShow=!1,e.uploadPercent=0}))},cleanFile2:function(){var e=this;this.$nextTick((function(){e.importFileName="",e.importFiles=[],e.$refs.upload.clearFiles()}))}}},l=s,c=(r("2a88"),r("2877")),u=Object(c["a"])(l,n,i,!1,null,"a8356c7a",null);t["a"]=u.exports},b82e:function(e,t,r){"use strict";r.d(t,"b",(function(){return i})),r.d(t,"a",(function(){return o}));var n=r("b775"),i=function(e,t){return Object(n["m"])("/configure/pageUserCustom/savePageUserCustomInfo.action?",e,t)},o=function(e,t){return Object(n["m"])("/configure/pageUserCustom/getPageUserCustomDetails.action?",e,t)}},bcc1:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("vue-draggable",{staticClass:"draggable",attrs:{animation:"380",ghostClass:"ghost",handle:".move-row"},model:{value:e.headColumn,callback:function(t){e.headColumn=t},expression:"headColumn"}},e._l(e.headColumn,(function(t){return r("li",{key:t.field,staticClass:"node-row"},[r("el-checkbox",{attrs:{disabled:!0,checked:t.visible}}),r("div",{staticClass:"headProess move-row"},[r("div",{staticClass:"title move-row"},[e._v(" "+e._s(t.title)+" "),r("i",{staticClass:"icon-button",attrs:{icon:"node-move"}})]),r("div",{staticClass:"proess",style:"width:"+t.width})]),r("el-input",{model:{value:t.width,callback:function(r){e.$set(t,"width",r)},expression:"item.width"}},[r("template",{slot:"append"},[e._v("px")])],2)],1)})),0),r("vue-draggable",{staticClass:"draggable",attrs:{animation:"380",ghostClass:"ghost",handle:".move-row"},model:{value:e.middleColumn,callback:function(t){e.middleColumn=t},expression:"middleColumn"}},e._l(e.middleColumn,(function(t){return r("li",{key:t.field,staticClass:"node-row move-row"},[r("el-checkbox",{attrs:{checked:t.visible},on:{change:function(r){return e.checkChange(t)}}}),r("div",{staticClass:"headProess move-row"},[r("div",{staticClass:"title"},[e._v(" "+e._s(t.title)+" "),r("i",{staticClass:"icon-button",attrs:{icon:"node-move"}})]),r("div",{staticClass:"proess",style:"width:"+t.width})]),r("el-input",{model:{value:t.width,callback:function(r){e.$set(t,"width",r)},expression:"item.width"}},[r("template",{slot:"append"},[e._v("px")])],2)],1)})),0),r("vue-draggable",{staticClass:"draggable",attrs:{animation:"380",ghostClass:"ghost",handle:".move-row"},model:{value:e.operationColumn,callback:function(t){e.operationColumn=t},expression:"operationColumn"}},e._l(e.operationColumn,(function(t){return r("li",{key:t.field,staticClass:"node-row"},[r("el-checkbox",{attrs:{disabled:!0,checked:t.visible}}),r("div",{staticClass:"headProess move-row"},[r("div",{staticClass:"title"},[e._v(" "+e._s(t.title)+" "),r("i",{staticClass:"icon-button",attrs:{icon:"node-move"}})]),r("div",{staticClass:"proess",style:"width:"+t.width})]),r("el-input",{model:{value:t.width,callback:function(r){e.$set(t,"width",r)},expression:"item.width"}},[r("template",{slot:"append"},[e._v("px")])],2)],1)})),0),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:e.saveCustomColumn}},[e._v(e._s(e.BTN_TEXT.CONFIRM))]),r("el-button",{on:{click:e.canleCustomColumn}},[e._v(e._s(e.BTN_TEXT.CLOSE))]),r("el-button",{on:{click:e.resetCustomColumn}},[e._v(e._s(e.BTN_TEXT.RESTORE_DEFAULT))])],1)],1)},i=[],o=(r("99af"),r("c7cd"),r("53ca")),a=r("582a"),s=r("310e"),l=r.n(s),c={components:{VueDraggable:l.a},props:{nowColumns:{type:Array,default:function(){return[]}}},data:function(){return{first:!1,BTN_TEXT:a["c"],checkColumn:[],headColumn:[],middleColumn:[],operationColumn:[],columns:[],oldColumns:[],width:[]}},computed:{},created:function(){var e=this;this.$nextTick((function(){e.oldColumns=e.deepClone(e.nowColumns),e.checkColumn=[],e.headColumn=[],e.middleColumn=[],e.operationColumn=[],e.columns=[];for(var t=0;t<e.nowColumns.length;t++)if("checkbox"!==e.nowColumns[t].type){void 0===e.nowColumns[t].visible&&(e.nowColumns[t].visible=!0);var r={};void 0===e.nowColumns[t].width?(e.nowColumns[t].width="auto",r.width="auto",r.field=e.nowColumns[t].field):(r.width=e.nowColumns[t].width,r.field=e.nowColumns[t].field),e.width.push(r),"left"===e.nowColumns[t].fixed?e.headColumn.push(e.deepClone(e.nowColumns[t])):"right"===e.nowColumns[t].fixed?e.operationColumn.push(e.deepClone(e.nowColumns[t])):e.middleColumn.push(e.deepClone(e.nowColumns[t]))}else e.checkColumn.push(e.deepClone(e.nowColumns[t]))}))},methods:{init:function(e){var t=this;this.$nextTick((function(){t.checkColumn=[],t.headColumn=[],t.middleColumn=[],t.operationColumn=[],t.columns=[],setTimeout((function(){for(var r=0;r<e.length;r++)if("checkbox"!==e[r].type){for(var n in void 0===e[r].visible&&(e[r].visible=!0),t.width)t.width[n].field===e[r].field&&(e[r].width=t.width[n].width);"left"===e[r].fixed?t.headColumn.push(e[r]):"right"===e[r].fixed?t.operationColumn.push(e[r]):t.middleColumn.push(e[r])}else t.checkColumn.push(e[r])}),0)}))},saveCustomColumn:function(){var e=this;this.columns=[],this.columns=this.columns.concat(this.checkColumn).concat(this.headColumn).concat(this.middleColumn).concat(this.operationColumn),setTimeout((function(){for(var t in e.oldColumns=e.deepClone(e.columns),e.width=[],e.columns){var r={};r.width=e.nowColumns[t].width,r.field=e.nowColumns[t].field,e.width.push(r)}e.$emit("saveCustomColumn",e.columns)}),150)},deepClone:function(e){var t=Array.isArray(e)?[]:{};if(e&&"object"===Object(o["a"])(e))for(var r in e)e.hasOwnProperty(r)&&(e[r]&&"object"===Object(o["a"])(e[r])?t[r]=this.deepClone(e[r]):t[r]=e[r]);return t},checkChange:function(e){e.visible=!e.visible},canleCustomColumn:function(){this.$emit("showCustomColumn")},resetCustomColumn:function(){this.$emit("resetCustomColumn")}}},u=c,h=(r("9914"),r("2877")),d=Object(h["a"])(u,n,i,!1,null,"17e8e46c",null);t["a"]=d.exports},be7c:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{staticClass:"customize-column-dialog",attrs:{"show-close":!1,visible:e.isDialogShow,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isDialogShow=t}}},[r("span",{attrs:{slot:"title"},slot:"title"},[r("span",{staticClass:"customize-column-dialog__title"},[e._v(e._s(e.dialogTitle))]),r("span",{staticClass:"customize-column-dialog__prompt"},[e._v("勾选需要显示的列，拖动列名进行排序")])]),r("div",{staticStyle:{height:"400px",overflow:"auto"}},[r("vue-draggable",{attrs:{animation:"380",ghostClass:"ghost",handle:".move-row",scroll:""},model:{value:e.tempTableColumns,callback:function(t){e.tempTableColumns=t},expression:"tempTableColumns"}},e._l(e.tempTableColumns,(function(t,n){return r("li",{key:n,staticClass:"column-row"},[r("el-checkbox",{staticClass:"column-row__checkbox",attrs:{disabled:t.required},model:{value:t.visible,callback:function(r){e.$set(t,"visible",r)},expression:"column.visible"}}),r("span",{staticClass:"column-row__tilte",class:t.required?"":"move-row"},[e._v(e._s(t.title))]),r("el-input",{staticClass:"column-low__input",attrs:{size:"mini"},model:{value:t.width,callback:function(r){e.$set(t,"width",r)},expression:"column.width"}}),r("span",{staticClass:"column-row__unit"},[e._v("px")])],1)})),0)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"custom-button",attrs:{plain:""},on:{click:e.handleResetEvent}},[e._v(" 恢复默认 ")]),r("el-button",{staticClass:"custom-button",attrs:{plain:""},on:{click:e.handleCloseEvent}},[e._v(" 关闭 ")]),r("el-button",{staticClass:"custom-button",attrs:{type:"primary"},on:{click:e.handleSaveEvent}},[e._v(" 保存 ")])],1)])},i=[],o=(r("a434"),r("b85c")),a=r("310e"),s=r.n(a),l={name:"dialogCustomizeColumnsDialogSettingColumn",components:{VueDraggable:s.a},props:{pageColumns:{type:Array,default:function(){return[]},required:!0},showSettingDialog:{type:Boolean,default:function(){return!1}},defaultColumns:{type:Array,default:function(){return[]},required:!0}},watch:{pageColumns:{handler:function(e){var t,r;this.tempTableColumns.splice(0);var n,i=[],a=Object(o["a"])(e);try{for(a.s();!(n=a.n()).done;){var s=n.value;s.field&&s.title&&i.push({field:s.field,title:s.title,width:s.minWidth||"100",visible:s.visible,required:s.required})}}catch(l){a.e(l)}finally{a.f()}(t=this.tempTableColumns).push.apply(t,i),(r=this.initTableColumns).push.apply(r,i)},immediate:!0,deep:!0},defaultColumns:{handler:function(e){var t;this.defaultTableColumns.splice(0);var r,n=[],i=Object(o["a"])(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;a.field&&n.push({field:a.field,title:a.title,width:a.minWidth||"100",visible:a.visible,required:a.required})}}catch(s){i.e(s)}finally{i.f()}(t=this.defaultTableColumns).push.apply(t,n)},immediate:!0,deep:!0},showSettingDialog:{handler:function(e){this.isDialogShow=e},immediate:!0}},data:function(){return{dialogTitle:"自定义列",isDialogShow:!1,tempTableColumns:[],initTableColumns:[],defaultTableColumns:[]}},methods:{handleSaveEvent:function(){this.$emit("saveMyColumnSetting",this.tempTableColumns)},handleCloseEvent:function(){for(var e=this.tempTableColumns.length,t=!0,r=0;r<e;r++){var n=this.tempTableColumns[r],i=this.initTableColumns[r];if(n.field!==i.field){t=!1;break}if(n.width!==i.width){t=!1;break}if(n.visible!==i.visible){t=!1;break}}if(!t){var a,s,l=[],c=Object(o["a"])(this.pageColumns);try{for(c.s();!(s=c.n()).done;){var u=s.value;u.field&&l.push({field:u.field,title:u.title,width:u.minWidth||"100",visible:u.visible,required:u.required})}}catch(h){c.e(h)}finally{c.f()}this.tempTableColumns.splice(0),(a=this.tempTableColumns).push.apply(a,l)}this.$emit("update:showSettingDialog",!1)},handleResetEvent:function(){var e,t,r=[],n=Object(o["a"])(this.defaultColumns);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.field&&r.push({field:i.field,title:i.title,width:i.minWidth||"100",visible:i.visible,required:i.required})}}catch(a){n.e(a)}finally{n.f()}this.tempTableColumns.splice(0),(e=this.tempTableColumns).push.apply(e,r)}}},c=l,u=(r("1bb8"),r("2877")),h=Object(u["a"])(c,n,i,!1,null,"2d822b9c",null);t["a"]=h.exports},c0e8:function(e,t,r){"use strict";var n=r("9887"),i=r.n(n);i.a},c7cd:function(e,t,r){"use strict";var n=r("23e7"),i=r("857a"),o=r("af03");n({target:"String",proto:!0,forced:o("fixed")},{fixed:function(){return i(this,"tt","","")}})},cbff:function(e,t,r){},f356:function(e,t,r){},f8d5:function(e,t,r){},f8f0:function(e,t,r){}}]);
//# sourceMappingURL=chunk-701655dd.e4e39ed2.js.map