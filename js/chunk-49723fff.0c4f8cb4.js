(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49723fff"],{"0d95":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("div",{staticClass:"main"},[i("el-header",[i("header-buttons",{attrs:{cssType:"1"},on:{buttonClickEvent:e.buttonClickEvent}})],1),i("el-main",[i("Div",[i("div",{attrs:{id:"tabs"}},[i("ul",e._l(e.tabs,(function(t,n){return i("li",{key:n,class:{active:e.active==n},on:{click:function(i){return e.toggle(n,t.views)}}},[e._v(e._s(t.name))])})),0),0===e.active?i("ul",{staticClass:"tabUl"},e._l(e.selectTabs,(function(t,n){return i("li",{key:n,class:{activeN:e.activeN==n},on:{click:function(i){return e.toggleN(n,t.type)}}},[e._v(e._s(t.name))])})),0):e._e()]),i(e.currentView,{ref:e.currentView,tag:"component",attrs:{type:e.type}})],1)],1)],1)])},a=[],s=i("6de3"),r=s["a"],o=r,l=(i("14c9"),i("2877")),c=Object(l["a"])(o,n,a,!1,null,"160d6d56",null);t["default"]=c.exports},"14c9":function(e,t,i){"use strict";var n=i("a82a"),a=i.n(n);a.a},"1bb8":function(e,t,i){"use strict";var n=i("f356"),a=i.n(n);a.a},"2b0f":function(e,t,i){"use strict";var n=i("831e"),a=i.n(n);a.a},"2eea":function(e,t,i){},"3f2a":function(e,t,i){"use strict";i.d(t,"q",(function(){return a})),i.d(t,"u",(function(){return s})),i.d(t,"t",(function(){return r})),i.d(t,"A",(function(){return o})),i.d(t,"y",(function(){return l})),i.d(t,"e",(function(){return c})),i.d(t,"f",(function(){return u})),i.d(t,"g",(function(){return d})),i.d(t,"h",(function(){return p})),i.d(t,"b",(function(){return m})),i.d(t,"w",(function(){return g})),i.d(t,"d",(function(){return h})),i.d(t,"r",(function(){return v})),i.d(t,"v",(function(){return f})),i.d(t,"z",(function(){return b})),i.d(t,"c",(function(){return T})),i.d(t,"x",(function(){return C})),i.d(t,"i",(function(){return O})),i.d(t,"o",(function(){return w})),i.d(t,"j",(function(){return E})),i.d(t,"n",(function(){return N})),i.d(t,"k",(function(){return I})),i.d(t,"l",(function(){return _})),i.d(t,"m",(function(){return y})),i.d(t,"p",(function(){return S})),i.d(t,"s",(function(){return x})),i.d(t,"a",(function(){return R}));var n=i("b775"),a=function(e,t){return Object(n["a"])("export/exportUserTemplate.action?",e,t)},s=function(e,t){return Object(n["a"])("export/exportParameterWarningUnProcess.action?",e,t)},r=function(e,t){return Object(n["a"])("export/exportParameterWarningProcess.action?",e,t)},o=function(e,t){return Object(n["a"])("export/exportWarningUnprocessed.action?",e,t)},l=function(e,t){return Object(n["a"])("export/exportWarningProcessed.action?",e,t)},c=function(e,t){return Object(n["a"])("export/exportEnergyMonitor.action?",e,t)},u=function(e,t){return Object(n["a"])("export/exportEnergyMonitorHistory.action?",e,t)},d=function(e,t){return Object(n["a"])("export/exportCheckItemTemplate.action?",e,t)},p=function(e,t){return Object(n["a"])("export/exportDeviceTemplate.action?",e,t)},m=function(e,t){return Object(n["a"])("deviceAdmin/exportDeviceCollectTypeTemplate.action?",e,t)},g=function(e,t){return Object(n["a"])("export/exportStatisticsOfCropMovementRate.action?",e,t)},h=function(e,t){return Object(n["a"])("export/exportDevicesEfficiencyStatistics.action?",e,t)},v=function(e){return Object(n["c"])("template/MaintainDataTemplates.xlsx",e)},f=function(e,t){return Object(n["a"])("export/exportRepairTaskTemplate.action?",e,t)},b=function(e,t){return Object(n["a"])("export/exportWarningStatistics.action?",e,t)},T=function(e,t){return Object(n["a"])("export/exportDeviceOEE.action?",e,t)},C=function(e,t){return Object(n["a"])("export/exportWarningConfigTemplate.action?",e,t)},O=function(e,t){return Object(n["a"])("export/exportMaterialsTemplate.action?",e,t)},w=function(e,t){return Object(n["a"])("export/exportProductionTaskTemplate.action?",e,t)},E=function(e,t){return Object(n["a"])("export/exportProductionTask.action?",e,t)},N=function(e,t){return Object(n["a"])("export/exportProductionTaskStart.action?",e,t)},I=function(e,t){return Object(n["a"])("export/exportProductionTaskEnd.action?",e,t)},_=function(e,t){return Object(n["a"])("export/exportProductionTaskInspection.action?",e,t)},y=function(e,t){return Object(n["a"])("export/exportProductionTaskReportByCondition.action?",e,t)},S=function(e,t){return Object(n["a"])("export/exportToolTemplate.action?",e,t)},x=function(e,t){return Object(n["a"])("maintainPlan/exportMaintainPlanTemplate.action?",e,t)},R=function(e,t){return Object(n["a"])("export/exportDevice.action?",e,t)}},4997:function(e,t,i){"use strict";var n=i("8eef"),a=i.n(n);a.a},"55d6":function(e,t,i){"use strict";i.d(t,"c",(function(){return a})),i.d(t,"b",(function(){return s})),i.d(t,"d",(function(){return r})),i.d(t,"e",(function(){return o})),i.d(t,"a",(function(){return l}));var n=i("b775"),a=function(e,t){return Object(n["k"])("deviceGroup/getList.action?",e,t)},s=function(e,t){return Object(n["k"])("deviceMonitorReport/getDeviceInfo.action?",e,t)},r=function(e,t){return Object(n["k"])("deviceMonitorReport/getStatisticsOfCropMovementRate.action?",e,t)},o=function(e,t){return Object(n["k"])("deviceMonitorReport/warningStatistics.action?",e,t)},l=function(e,t){return Object(n["k"])("deviceMonitorReport/deviceOEE.action?",e,t)}},6464:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var n=i("5c96");function a(e,t){n["Notification"].error({title:e,message:t,duration:2e3,position:"bottom-right",showClose:!0})}},"6de3":function(e,t,i){"use strict";var n=i("85a8"),a=i("5861"),s=i("582a"),r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-main",[i("div",{staticClass:"searchDiv"},[i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.WORKSHOP_NAME)+":")]),i("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}},e._l(e.groupOptions,(function(e){return i("el-option",{key:e.groupId,attrs:{label:e.groupName,value:e.groupId}})})),1)],1),3===e.type||99===e.type?i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.LINE_NAME)+":")]),i("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.lineId,callback:function(t){e.lineId=t},expression:"lineId"}},e._l(e.lineOptions,(function(e){return i("el-option",{key:e.groupId,attrs:{label:e.groupName,value:e.groupId}})})),1)],1):e._e(),99===e.type?i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.DEVICE_NAME)+":")]),i("el-input",{attrs:{size:"mini"},model:{value:e.deviceName,callback:function(t){e.deviceName=t},expression:"deviceName"}})],1):e._e(),i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.DATE_RANGE)+":")]),i("el-date-picker",{staticClass:"dateTime",attrs:{type:"daterange",size:"mini","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}})],1),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.search}},[e._v(e._s(e.BTN_TEXT.SEARCH))]),i("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v(e._s(e.BTN_TEXT.RESET))])],1),i("VXETable",{ref:"xGrid",staticStyle:{padding:"0 10px"},attrs:{id:"table",height:e.$options.filters.getTableHeight(240),tableName:"",tableLoading:e.tableLoadings,tableDatas:e.tableDatas,tableColumns:e.myTableColumns,tablePage:e.tablePages,"edit-config":e.editConfig},on:{onTablePageChange:e.onTablePageChanges}}),i("dialog-setting-column",{attrs:{"show-setting-dialog":e.isSettingCustomDialogShow,"default-columns":e.tableColumns,"page-columns":e.myTableColumns},on:{"update:showSettingDialog":function(t){e.isSettingCustomDialogShow=t},"update:show-setting-dialog":function(t){e.isSettingCustomDialogShow=t},saveMyColumnSetting:e.handleSaveColumnSetting}})],1)},o=[],l=(i("a434"),i("a9e3"),i("ac1f"),i("5319"),i("2909")),c=(i("96cf"),i("1da1")),u=i("cf46"),d=i("3fa5"),p=i("6464"),m=i("be7c"),g=i("cf45"),h=i("f82c"),v=i("b82e"),f=i("55d6"),b=i("3f2a"),T={components:{VXETable:u["a"],DialogSettingColumn:m["a"]},props:{type:Number},data:function(){var e=this,t=this.$createElement;return{EQUIPMENT_MONITORING:s["v"],BTN_TEXT:s["c"],deviceName:"",lineOptions:[],groupOptions:[],dateTime:"",groupId:"",lineId:"",editConfig:{trigger:"click",mode:"row",showStatus:!1},showTable:!0,tableLoadings:!1,outData:[],tableDatas:[],tableColumns:[],tableColumns1:[{field:"workshop",title:s["v"].WORKSHOP_NAME,visible:!0,width:"160",align:"center"},{field:"dayProduction",title:s["v"].PLANNED_PRODUCTION,visible:!0,width:"160",align:"center"},{field:"actualProduction",title:s["v"].ACTUAL_PRODUCTION,visible:!0,width:"160",align:"center"},{field:"difference",title:s["v"].DIFFERENCE,visible:!0,width:"160",align:"center"},{field:"okNumber",title:"良品数",visible:!0,width:"160",align:"center"},{field:"runTimeHour",title:s["v"].UNNING_TIME,visible:!0,width:"160",align:"center"},{field:"freeTimeHour",title:s["v"].FREE_TIME,visible:!0,width:"160",align:"center"},{field:"warningCount",title:"告警次数",visible:!0,width:"160",align:"center"},{field:"warnTimeHour",title:s["v"].ALARM_TIME,visible:!0,width:"160",align:"center"},{field:"offlineTimeHour",title:s["v"].OFFLINE_TIME,visible:!0,width:"160",align:"center"},{field:"timeActivation",title:s["v"].TIME_RATE,visible:!0,width:"160",align:"center"},{field:"performanceActivation",title:s["v"].PERFORMANCE_RATE,visible:!0,width:"160",align:"center"},{field:"yield",title:s["v"].YIELD_RATE,visible:!0,width:"160",align:"center"},{field:"oee",title:s["v"].OEE,visible:!0,width:"160",align:"center"},{field:"",title:s["c"].OPERATION,visible:!0,width:"50",align:"center",fixed:"right",slots:{header:function(i){i.column;return[t("span",[t("i",{on:{click:function(){return e.showCustomColumn()}},class:"el-icon-s-tools set-btn"})])]}}}],tableColumns2:[{field:"workshop",title:s["v"].WORKSHOP_NAME,visible:!0,width:"160",align:"center"},{field:"productionLine",title:s["v"].LINE_NAME,visible:!0,width:"160",align:"center"},{field:"dayProduction",title:s["v"].PLANNED_PRODUCTION,visible:!0,width:"160",align:"center"},{field:"actualProduction",title:s["v"].ACTUAL_PRODUCTION,visible:!0,width:"160",align:"center"},{field:"difference",title:s["v"].DIFFERENCE,visible:!0,width:"160",align:"center"},{field:"okNumber",title:"良品数",visible:!0,width:"160",align:"center"},{field:"runTimeHour",title:s["v"].UNNING_TIME,visible:!0,width:"160",align:"center"},{field:"freeTimeHour",title:s["v"].FREE_TIME,visible:!0,width:"160",align:"center"},{field:"warningCount",title:"告警次数",visible:!0,width:"160",align:"center"},{field:"warnTimeHour",title:s["v"].ALARM_TIME,visible:!0,width:"160",align:"center"},{field:"offlineTimeHour",title:s["v"].OFFLINE_TIME,visible:!0,width:"160",align:"center"},{field:"timeActivation",title:s["v"].TIME_RATE,visible:!0,width:"160",align:"center"},{field:"performanceActivation",title:s["v"].PERFORMANCE_RATE,visible:!0,width:"160",align:"center"},{field:"yield",title:s["v"].YIELD_RATE,visible:!0,width:"160",align:"center"},{field:"oee",title:s["v"].OEE,visible:!0,width:"160",align:"center"},{field:"",title:s["c"].OPERATION,visible:!0,width:"50",align:"center",fixed:"right",slots:{header:function(i){i.column;return[t("span",[t("i",{on:{click:function(){return e.showCustomColumn()}},class:"el-icon-s-tools set-btn"})])]}}}],tableColumns3:[{field:"workshop",title:s["v"].WORKSHOP_NAME,visible:!0,width:"160",align:"center"},{field:"productionLine",title:s["v"].LINE_NAME,visible:!0,width:"160",align:"center"},{field:"deviceName",title:s["v"].DEVICE_NAME,visible:!0,width:"160",align:"center"},{field:"dayProduction",title:s["v"].PLANNED_PRODUCTION,visible:!0,width:"160",align:"center"},{field:"actualProduction",title:s["v"].ACTUAL_PRODUCTION,visible:!0,width:"160",align:"center"},{field:"difference",title:s["v"].DIFFERENCE,visible:!0,width:"160",align:"center"},{field:"okNumber",title:"良品数",visible:!0,width:"160",align:"center"},{field:"runTimeHour",title:s["v"].UNNING_TIME,visible:!0,width:"160",align:"center"},{field:"freeTimeHour",title:s["v"].FREE_TIME,visible:!0,width:"160",align:"center"},{field:"warningCount",title:"告警次数",visible:!0,width:"160",align:"center"},{field:"warnTimeHour",title:s["v"].ALARM_TIME,visible:!0,width:"160",align:"center"},{field:"offlineTimeHour",title:s["v"].OFFLINE_TIME,visible:!0,width:"160",align:"center"},{field:"timeActivation",title:s["v"].TIME_RATE,visible:!0,width:"160",align:"center"},{field:"performanceActivation",title:s["v"].PERFORMANCE_RATE,visible:!0,width:"160",align:"center"},{field:"yield",title:s["v"].YIELD_RATE,visible:!0,width:"160",align:"center"},{field:"oee",title:s["v"].OEE,visible:!0,width:"160",align:"center"},{field:"",title:s["c"].OPERATION,visible:!0,width:"50",align:"center",fixed:"right",slots:{header:function(i){i.column;return[t("span",[t("i",{on:{click:function(){return e.showCustomColumn()}},class:"el-icon-s-tools set-btn"})])]}}}],tablePages:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},savedCustomColumns:[],isSettingCustomDialogShow:!1}},computed:{myTableColumns:function(){return Array.isArray(this.savedCustomColumns)&&this.savedCustomColumns.length>0?this.savedCustomColumns:2===this.type?this.tableColumns1:3===this.type?this.tableColumns2:99===this.type?this.tableColumns3:void 0}},watch:{groupId:function(e){this.getLine(),this.lineId=""},type:function(e){this.getCustomColumn(this.type),this.groupId="",this.lineId="",this.deviceName="",this.tableDatas=[],(2===e||3===e||99===e)&&this.onTablePageChanges(1,10)}},created:function(){this.getCustomColumn(this.type),this.getGroup(),this.getLine(),this.findList()},methods:{findList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="",n="",void 0!==e.dateTime[0]&&(i=e.dateTime[0]+" 00:00:00",n=e.dateTime[1]+" 23:59:59"),t.prev=3,e.tableLoadings=!0,t.next=7,Object(f["d"])({size:e.tablePages.pageSize,current:e.tablePages.currentPage,groupType:e.type,workShopId:e.groupId,lineId:e.lineId,deviceName:e.deviceName,startTime:i,endTime:n});case 7:a=t.sent,a.code===s["M"].OPERATION_SUCCESS?(e.tableDatas=a.rows,e.tablePages.total=a.total,e.tableLoadings=!1):Object(d["c"])(a.message),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),Object(p["a"])(s["N"].NOTIFY,t.t0);case 14:return t.prev=14,t.finish(14);case 16:case"end":return t.stop()}}),t,null,[[3,11,14,16]])})))()},onTablePageChanges:function(e,t){this.tablePages.currentPage=e,this.tablePages.pageSize=t,this.findList()},getGroup:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.tableLoading=!0,t.next=4,Object(f["c"])({},{conditionJson1:[{column:"groupType",operator:1,ptype:"int",type:"eq",value:2}]});case 4:i=t.sent,i.code===s["M"].OPERATION_SUCCESS?e.groupOptions=i.rows:Object(d["c"])(i.message),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),Object(p["a"])(s["N"].NOTIFY,t.t0);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[0,8,11,13]])})))()},getLine:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={conditionJson1:[{column:"groupType",operator:1,ptype:"int",type:"eq",value:3}]},""!==e.groupId&&i.conditionJson1.push({column:"parentId",operator:1,ptype:"int",type:"eq",value:e.groupId}),t.prev=2,e.tableLoading=!0,t.next=6,Object(f["c"])({},i);case 6:n=t.sent,n.code===s["M"].OPERATION_SUCCESS?e.lineOptions=n.rows:Object(d["c"])(n.message),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),Object(p["a"])(s["N"].NOTIFY,t.t0);case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}}),t,null,[[2,10,13,15]])})))()},search:function(){this.onTablePageChanges(1,10)},reset:function(){this.groupId="",this.lineId="",this.deviceName="",this.dateTime="",this.onTablePageChanges(1,10)},exportTable:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="",n="",void 0!==e.dateTime[0]&&(i=e.dateTime[0]+" 00:00:00",n=e.dateTime[1]+" 23:59:59"),t.prev=3,a={groupType:e.type,workShopId:e.groupId,lineId:e.lineId,deviceName:e.deviceName,startTime:i,endTime:n},t.next=7,Object(b["w"])(a);case 7:s=t.sent,void 0!==s.data.code?Object(d["c"])(s.message):(r="",r=2===e.type?"车间稼动率统计.xls":3===e.type?"产线稼动率统计.xls":"设备稼动率统计.xls",e.$options.filters.setExportFunc(s,r)),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),Object(p["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 14:return t.prev=14,t.finish(14);case 16:case"end":return t.stop()}}),t,null,[[3,11,14,16]])})))()},showCustomColumn:function(){2===this.type?this.tableColumns=this.tableColumns1:3===this.type?this.tableColumns=this.tableColumns2:99===this.type&&(this.tableColumns=this.tableColumns3),this.isSettingCustomDialogShow=!this.isSettingCustomDialogShow},handleSaveColumnSetting:function(e){var t=arguments,i=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,s,r,o,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.length>1&&void 0!==t[1]?t[1]:i.cssType,a=i.$loading({body:!0,lock:!0,text:"自定列配置提交中..."}),n.prev=2,s=Object(g["c"])("id"),r=window.localStorage.getItem("account").replace(/"/g,""),o={account:r,cssType:i.type,menuId:s},n.next=8,Object(v["b"])(o,e);case 8:l=n.sent,"0000"===l.code?(a.close(),Object(d["b"])(l.message),i.refreshTableColumns()):(a.close(),Object(d["a"])(l.message||"操作失败！")),n.next=17;break;case 12:n.prev=12,n.t0=n["catch"](2),console.log(n.t0),a.close(),Object(d["a"])(n.t0+"666");case 17:return n.prev=17,i.isSettingCustomDialogShow=!1,n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[2,12,17,20]])})))()},getCustomColumn:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function i(){var n,a,s,r,o,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return t.savedCustomColumns=[],i.prev=1,n=Object(g["c"])("id"),a=window.localStorage.getItem("account").replace(/"/g,""),s={account:a,cssType:e,menuId:n},i.next=7,Object(v["a"])(s);case 7:r=i.sent,Array.isArray(r)&&r.length>0&&(c=[],2===t.type?c=Object(h["k"])(r,t.tableColumns1):3===t.type?c=Object(h["k"])(r,t.tableColumns2):99===t.type&&(c=Object(h["k"])(r,t.tableColumns3)),t.savedCustomColumns.length>0&&t.savedCustomColumns.splice(0),(o=t.savedCustomColumns).push.apply(o,Object(l["a"])(c))),i.next=14;break;case 11:i.prev=11,i.t0=i["catch"](1),Object(d["a"])(i.t0);case 14:case"end":return i.stop()}}),i,null,[[1,11]])})))()},refreshTableColumns:function(){this.getCustomColumn(this.type),this.refreshTableData()},refreshTableData:function(){this.findList()}}},C=T,O=C,w=(i("4997"),i("2877")),E=Object(w["a"])(O,r,o,!1,null,"5bd736a1",null),N=E.exports,I=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-main",[i("div",{staticClass:"searchDiv"},[i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.WORKSHOP_NAME)+":")]),i("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}},e._l(e.groupOptions,(function(e){return i("el-option",{key:e.groupId,attrs:{label:e.groupName,value:e.groupId}})})),1)],1),i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.LINE_NAME)+":")]),i("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.lineId,callback:function(t){e.lineId=t},expression:"lineId"}},e._l(e.lineOptions,(function(e){return i("el-option",{key:e.groupId,attrs:{label:e.groupName,value:e.groupId}})})),1)],1),i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.DEVICE_NAME)+":")]),i("el-input",{attrs:{size:"mini"},model:{value:e.deviceName,callback:function(t){e.deviceName=t},expression:"deviceName"}})],1),i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.DATE_RANGE)+":")]),i("el-date-picker",{staticClass:"dateTime",attrs:{type:"daterange",size:"mini","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}})],1),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.search}},[e._v(e._s(e.BTN_TEXT.SEARCH))]),i("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v(e._s(e.BTN_TEXT.RESET))])],1),i("VXETable",{ref:"xGrid",staticStyle:{},attrs:{id:"table",height:e.$options.filters.getTableHeight(240),tableName:"",tableLoading:e.tableLoadings,tableDatas:e.tableDatas,tableColumns:e.myTableColumns,tablePage:e.tablePages,"edit-config":e.editConfig},on:{onTablePageChange:e.onTablePageChanges}}),i("dialog-setting-column",{attrs:{"show-setting-dialog":e.isSettingCustomDialogShow,"default-columns":e.tableColumns,"page-columns":e.myTableColumns},on:{"update:showSettingDialog":function(t){e.isSettingCustomDialogShow=t},"update:show-setting-dialog":function(t){e.isSettingCustomDialogShow=t},saveMyColumnSetting:e.handleSaveColumnSetting}})],1)},_=[],y={components:{VXETable:u["a"],DialogSettingColumn:m["a"]},props:{type:Number},data:function(){var e=this,t=this.$createElement;return{EQUIPMENT_MONITORING:s["v"],BTN_TEXT:s["c"],deviceName:"",lineOptions:[],groupOptions:[],dateTime:"",groupId:"",lineId:"",editConfig:{trigger:"click",mode:"row",showStatus:!1},showTable:!0,tableLoadings:!1,outData:[],tableDatas:[],tableColumns:[{field:"workshop",title:s["v"].WORKSHOP_NAME,visible:!0,width:"160",align:"center"},{field:"productionLine",title:s["v"].LINE_NAME,visible:!0,width:"160",align:"center"},{field:"deviceName",title:s["v"].DEVICE_NAME,visible:!0,align:"center"},{field:"warningCount",title:"告警次数",visible:!0,width:"160",align:"center"},{field:"processWarningCount",title:"已处理",visible:!0,width:"160",align:"center"},{field:"unProcessWarningCount",title:"未处理",visible:!0,width:"160",align:"center"},{field:"warnWarningCount",title:"故障告警次数",visible:!0,width:"160",align:"center"},{field:"paraWarningCount",title:"参数告警次数",visible:!0,width:"160",align:"center"},{field:"",title:s["c"].OPERATION,visible:!0,width:"50",align:"center",fixed:"right",slots:{header:function(i){i.column;return[t("span",[t("i",{on:{click:function(){return e.showCustomColumn()}},class:"el-icon-s-tools set-btn"})])]}}}],tablePages:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},savedCustomColumns:[],isSettingCustomDialogShow:!1}},computed:{myTableColumns:function(){return Array.isArray(this.savedCustomColumns)&&this.savedCustomColumns.length>0?this.savedCustomColumns:this.tableColumns}},watch:{groupId:function(e){this.getLine(),this.lineId=""}},created:function(){this.getCustomColumn(11),this.getGroup(),this.getLine(),this.findList()},methods:{findList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="",i=""!==e.lineId?e.lineId:e.groupId,n="",a="",void 0!==e.dateTime[0]&&(n=e.dateTime[0]+" 00:00:00",a=e.dateTime[1]+" 23:59:59"),t.prev=5,e.tableLoadings=!0,t.next=9,Object(f["e"])({size:e.tablePages.pageSize,current:e.tablePages.currentPage,groupId:i,deviceName:e.deviceName,startTime:n,endTime:a});case 9:r=t.sent,r.code===s["M"].OPERATION_SUCCESS?(e.tableDatas=r.rows,e.tablePages.total=r.total,e.tableLoadings=!1):Object(d["c"])(r.message),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),Object(p["a"])(s["N"].NOTIFY,t.t0);case 16:return t.prev=16,t.finish(16);case 18:case"end":return t.stop()}}),t,null,[[5,13,16,18]])})))()},onTablePageChanges:function(e,t){this.tablePages.currentPage=e,this.tablePages.pageSize=t,this.findList()},getGroup:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.tableLoading=!0,t.next=4,Object(f["c"])({},{conditionJson1:[{column:"groupType",operator:1,ptype:"int",type:"eq",value:2}]});case 4:i=t.sent,i.code===s["M"].OPERATION_SUCCESS?e.groupOptions=i.rows:Object(d["c"])(i.message),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),Object(p["a"])(s["N"].NOTIFY,t.t0);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[0,8,11,13]])})))()},getLine:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={conditionJson1:[{column:"groupType",operator:1,ptype:"int",type:"eq",value:3}]},""!==e.groupId&&i.conditionJson1.push({column:"parentId",operator:1,ptype:"int",type:"eq",value:e.groupId}),t.prev=2,e.tableLoading=!0,t.next=6,Object(f["c"])({},i);case 6:n=t.sent,n.code===s["M"].OPERATION_SUCCESS?e.lineOptions=n.rows:Object(d["c"])(n.message),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),Object(p["a"])(s["N"].NOTIFY,t.t0);case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}}),t,null,[[2,10,13,15]])})))()},search:function(){this.onTablePageChanges(1,10)},reset:function(){this.groupId="",this.lineId="",this.deviceName="",this.dateTime="",this.onTablePageChanges(1,10)},exportTable:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,n,a,s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoadings=!0,i="",i=""!==e.lineId?e.lineId:e.groupId,n="",a="",void 0!==e.dateTime[0]&&(n=e.dateTime[0]+" 00:00:00",a=e.dateTime[1]+" 23:59:59"),t.prev=6,s={size:e.tablePages.pageSize,current:e.tablePages.currentPage,groupId:i,deviceName:e.deviceName,startTime:n,endTime:a},t.next=10,Object(b["z"])(s);case 10:r=t.sent,void 0!==r.data.code?(Object(d["c"])(r.message),e.tableLoadings=!1):(o="",o="告警统计.xls",e.tableLoadings=!1,e.$options.filters.setExportFunc(r,o)),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](6),Object(p["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 17:return t.prev=17,t.finish(17);case 19:case"end":return t.stop()}}),t,null,[[6,14,17,19]])})))()},showCustomColumn:function(){this.isSettingCustomDialogShow=!this.isSettingCustomDialogShow},handleSaveColumnSetting:function(e){var t=arguments,i=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,s,r,o,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.length>1&&void 0!==t[1]?t[1]:i.cssType,a=i.$loading({body:!0,lock:!0,text:"自定列配置提交中..."}),n.prev=2,s=Object(g["c"])("id"),r=window.localStorage.getItem("account").replace(/"/g,""),o={account:r,cssType:11,menuId:s},n.next=8,Object(v["b"])(o,e);case 8:l=n.sent,"0000"===l.code?(a.close(),Object(d["b"])(l.message),i.refreshTableColumns()):(a.close(),Object(d["a"])(l.message||"操作失败！")),n.next=17;break;case 12:n.prev=12,n.t0=n["catch"](2),console.log(n.t0),a.close(),Object(d["a"])(n.t0+"666");case 17:return n.prev=17,i.isSettingCustomDialogShow=!1,n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[2,12,17,20]])})))()},getCustomColumn:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function i(){var n,a,s,r,o,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,n=Object(g["c"])("id"),a=window.localStorage.getItem("account").replace(/"/g,""),s={account:a,cssType:e,menuId:n},i.next=6,Object(v["a"])(s);case 6:r=i.sent,Array.isArray(r)&&r.length>0&&(c=Object(h["k"])(r,t.tableColumns),t.savedCustomColumns.length>0&&t.savedCustomColumns.splice(0),(o=t.savedCustomColumns).push.apply(o,Object(l["a"])(c))),i.next=13;break;case 10:i.prev=10,i.t0=i["catch"](0),Object(d["a"])(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,10]])})))()},refreshTableColumns:function(){this.getCustomColumn(11),this.refreshTableData()},refreshTableData:function(){this.findList()}}},S=y,x=S,R=(i("2b0f"),Object(w["a"])(x,I,_,!1,null,"83f9f0d8",null)),k=R.exports,D=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-main",[i("div",{staticClass:"searchDiv"},[i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.DATE_RANGE)+":")]),i("el-date-picker",{staticClass:"dateTime",attrs:{type:"daterange",align:"left","unlink-panels":"","range-separator":e.BTN_TEXT.TO,"start-placeholder":e.BTN_TEXT.STARTTIME,"end-placeholder":e.BTN_TEXT.ENDTIME,"picker-options":e.pickerOptions},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}})],1),i("el-button",{on:{click:e.findList}},[e._v(e._s(e.BTN_TEXT.SEARCH))]),i("el-button",{on:{click:e.showDialog}},[e._v(e._s(e.EQUIPMENT_MONITORING.NEW_COMPARISON))]),i("el-button",{on:{click:e.clean}},[e._v(e._s(e.EQUIPMENT_MONITORING.CLEAR_CONTRAST))])],1),i("div",{staticClass:"table"},[i("vxe-grid",{ref:"xGrid",staticClass:"reverse-table",attrs:{border:"","show-overflow":"","highlight-hover-row":"","show-header":!1,columns:e.tableColumn,data:e.tableData}})],1),i("el-dialog",{class:["relaDevice",e.$store.state.dialogMarginClass],attrs:{title:"设备选择",visible:e.dialogVisible,width:"90%","modal-append-to-body":!1,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.hackReset?i("deviceDialog",{attrs:{buttonName:e.BTN_TEXT.SELECT},on:{saveRelatedDevice:e.saveRelatedDevice,hiddenRelated:e.handleClose}}):e._e()],1)],1)},P=[],M=(i("99af"),i("4160"),i("d81d"),i("159b"),i("6d5b")),j=i("c695"),A=i.n(j),L={components:{deviceDialog:M["a"],VXETable:u["a"],XEUtils:A.a},props:{},data:function(){return{BTN_TEXT:s["c"],EQUIPMENT_MONITORING:s["v"],dateTime:"",deviceData:[],dialogVisible:!1,hackReset:!1,pickerOptions:{shortcuts:[{text:s["c"].LAST_WEEK,onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i,t])}},{text:s["c"].LAST_MONTH,onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i,t])}},{text:s["c"].LAST_THREE_MONTHS,onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-7776e6),e.$emit("pick",[i,t])}}]},tableLoadings:!1,outData:[],outColumn:[],tableDatas:[],tableColumn:[],tableColumns:[{field:"deviceName",title:s["v"].CONTRAST_VALUE},{field:"mode",title:s["v"].DEVICE_MODE,width:"",align:"center",sortable:!0},{field:"devicePriCode",title:s["v"].DEVICEPRICODE,width:"",align:"center",sortable:!0},{field:"commissioningDate",title:s["v"].INPUT_TIME,width:"",align:"center",sortable:!0},{field:"powerOnRate",title:s["v"].POWER_ON_RATE,width:"",align:"center",sortable:!0},{field:"powerOnDays",title:s["v"].POWER_ON_DAYS,width:"",align:"center",sortable:!0},{field:"averageDayRunTime",title:s["v"].FINAVERAGE_RUN_TIME_PER_DAY,width:"",align:"center",sortable:!0},{field:"allRunTime",title:s["v"].TOTAL_RUNNING_TIME,width:"",align:"center",sortable:!0},{field:"runEfficiency",title:s["v"].OPERATING_EFFICIENCY,width:"",align:"center",sortable:!0}],tablePages:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0}}},created:function(){this.tableDatas.push({addFlag:"1",deviceName:"新增对比"}),this.tableColumn=JSON.parse(JSON.stringify(this.tableColumns)),this.reverseTable();var e=new Date,t=new Date;t.setTime(t.getTime()-2592e6),this.dateTime=[this.$utils.toDateString(t,"yyyy-MM-dd HH:mm:ss"),this.$utils.toDateString(e,"yyyy-MM-dd HH:mm:ss")]},methods:{reverseTable:function(){var e=this,t=this.$createElement,i=this.tableDatas;this.tableData=this.tableColumns.map((function(e){var t={0:e.title};return i.forEach((function(i,n){t[n+1]=i[e.field]})),t})),this.tableColumn=[{field:"0",fixed:"left",width:200,align:"center"}].concat(i.map((function(i,n){return{field:"".concat(n+1),width:200,align:"center",slots:{default:function(n){var a=n.row,r=n.columnIndex;n.column;return[t("div",[t("div",{directives:[{name:"show",value:"1"!==i.addFlag}]},[a[r]]),t("div",{directives:[{name:"show",value:"1"===i.addFlag&&"新增对比"===a[r]}]},[t("el-button",{attrs:{type:"text"},on:{click:function(){return e.showDialog()}}},[s["v"].NEW_COMPARISON])])])]}}}})))},findList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in i="",e.deviceData)"0"===n?i=e.deviceData[0].deviceCode:i+=","+e.deviceData[n].deviceCode;return t.prev=2,e.tableLoadings=!0,t.next=6,Object(f["b"])({deviceCodeList:i,startTime:e.dateTime[0],endTime:e.dateTime[1]});case 6:if(a=t.sent,a.code===s["M"].OPERATION_SUCCESS){for(r in a.rows)a.rows[r].commissioningDate=e.$utils.toDateString(a.rows[r].commissioningDate,"yyyy-MM-dd HH:mm:ss");e.outData=JSON.parse(JSON.stringify(a.rows)),e.tableDatas=a.rows,e.tableDatas.push({addFlag:"1",deviceName:"新增对比"}),e.tableLoadings=!1,e.reverseTable()}t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),Object(p["a"])(s["N"].NOTIFY,t.t0);case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}}),t,null,[[2,10,13,15]])})))()},saveRelatedDevice:function(e){for(var t in e)for(var i in this.deviceData)if(e[t].deviceCode===this.deviceData[i].deviceCode)return Object(d["c"])("请勿选择重复设备"),!1;for(var n in e)this.deviceData.push(e[n]);this.findList(),this.handleClose()},handleClose:function(){this.dialogVisible=!1,this.hackReset=!1},showDialog:function(){var e=this;this.dialogVisible=!0,this.$nextTick((function(){e.hackReset=!0}))},clean:function(){this.tableDatas=[],this.tableData=[],this.tableColumn=[],this.deviceData=[],this.tableDatas.push({addFlag:"1",deviceName:"新增对比"}),this.tableColumn=JSON.parse(JSON.stringify(this.tableColumns)),this.reverseTable()},exportTable:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,n,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in i="",e.deviceData)"0"===n?i=e.deviceData[0].deviceCode:i+=","+e.deviceData[n].deviceCode;return t.prev=2,a={deviceCodeList:i,startTime:e.dateTime[0],endTime:e.dateTime[1]},t.next=6,Object(b["d"])(a);case 6:s=t.sent,void 0!==s.data.code?Object(d["c"])(s.message):e.$options.filters.setExportFunc(s,"多设备数据对比.xls"),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),Object(p["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}}),t,null,[[2,10,13,15]])})))()}}},U=L,z=U,F=(i("fe52"),Object(w["a"])(z,D,P,!1,null,"6b94a65d",null)),G=F.exports,H=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-main",[i("div",{staticClass:"searchDiv"},[i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.WORKSHOP_NAME)+":")]),i("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.groupId,callback:function(t){e.groupId=t},expression:"groupId"}},e._l(e.groupOptions,(function(e){return i("el-option",{key:e.groupId,attrs:{label:e.groupName,value:e.groupId}})})),1)],1),i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.LINE_NAME)+":")]),i("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:e.lineId,callback:function(t){e.lineId=t},expression:"lineId"}},e._l(e.lineOptions,(function(e){return i("el-option",{key:e.groupId,attrs:{label:e.groupName,value:e.groupId}})})),1)],1),i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.DEVICE_NAME)+":")]),i("el-input",{attrs:{size:"mini"},model:{value:e.deviceName,callback:function(t){e.deviceName=t},expression:"deviceName"}})],1),i("div",[i("span",[e._v(e._s(e.EQUIPMENT_MONITORING.DATE_RANGE)+":")]),i("el-date-picker",{staticClass:"dateTime",attrs:{type:"daterange",size:"mini","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}})],1),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.search}},[e._v(e._s(e.BTN_TEXT.SEARCH))]),i("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v(e._s(e.BTN_TEXT.RESET))])],1),i("VXETable",{ref:"xGrid",staticStyle:{padding:"0 10px"},attrs:{id:"table",height:e.$options.filters.getTableHeight(240),tableName:"",tableLoading:e.tableLoadings,tableDatas:e.tableDatas,tableColumns:e.myTableColumns,tablePage:e.tablePages,"edit-config":e.editConfig},on:{onTablePageChange:e.onTablePageChanges}}),i("dialog-setting-column",{attrs:{"show-setting-dialog":e.isSettingCustomDialogShow,"default-columns":e.tableColumns,"page-columns":e.myTableColumns},on:{"update:showSettingDialog":function(t){e.isSettingCustomDialogShow=t},"update:show-setting-dialog":function(t){e.isSettingCustomDialogShow=t},saveMyColumnSetting:e.handleSaveColumnSetting}})],1)},$=[],J={components:{VXETable:u["a"],DialogSettingColumn:m["a"]},props:{type:Number},data:function(){var e=this,t=this.$createElement;return{EQUIPMENT_MONITORING:s["v"],BTN_TEXT:s["c"],deviceName:"",lineOptions:[],groupOptions:[],dateTime:"",groupId:"",lineId:"",editConfig:{trigger:"click",mode:"row",showStatus:!1},showTable:!0,tableLoadings:!1,outData:[],tableDatas:[],tableColumns:[{field:"date",title:"日期",visible:!0,width:"160",align:"center",fixed:"left",formatter:["formatDate","yyyy-MM-dd"]},{field:"workshop",title:s["v"].WORKSHOP_NAME,visible:!0,width:"160",align:"center"},{field:"productionLine",title:s["v"].LINE_NAME,visible:!0,width:"160",align:"center"},{field:"deviceName",title:s["v"].DEVICE_NAME,visible:!0,width:"160",align:"center"},{field:"runTimeHour",title:s["v"].UNNING_TIME,visible:!0,width:"160",align:"center"},{field:"freeTimeHour",title:s["v"].FREE_TIME,visible:!0,width:"160",align:"center"},{field:"warningCount",title:"告警次数",visible:!0,width:"160",align:"center"},{field:"warnTimeHour",title:s["v"].ALARM_TIME,visible:!0,width:"160",align:"center"},{field:"offlineTimeHour",title:s["v"].OFFLINE_TIME,visible:!0,width:"160",align:"center"},{field:"timeActivation",title:s["v"].TIME_RATE,visible:!0,width:"160",align:"center"},{field:"performanceActivation",title:s["v"].PERFORMANCE_RATE,visible:!0,width:"160",align:"center"},{field:"yield",title:s["v"].YIELD_RATE,visible:!0,width:"160",align:"center"},{field:"oee",title:s["v"].OEE,visible:!0,width:"160",align:"center"},{field:"",title:s["c"].OPERATION,visible:!0,width:"50",align:"center",fixed:"right",slots:{header:function(i){i.column;return[t("span",[t("i",{on:{click:function(){return e.showCustomColumn()}},class:"el-icon-s-tools set-btn"})])]}}}],tablePages:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()}},savedCustomColumns:[],isSettingCustomDialogShow:!1}},watch:{groupId:function(e){this.getLine(),this.lineId=""}},created:function(){this.getCustomColumn(22),this.getGroup(),this.getLine(),this.findList()},computed:{myTableColumns:function(){return Array.isArray(this.savedCustomColumns)&&this.savedCustomColumns.length>0?this.savedCustomColumns:this.tableColumns}},methods:{findList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="",i=""!==e.lineId?e.lineId:e.groupId,n="",a="",void 0!==e.dateTime[0]&&(n=e.dateTime[0]+" 00:00:00",a=e.dateTime[1]+" 23:59:59"),t.prev=5,e.tableLoadings=!0,t.next=9,Object(f["a"])({size:e.tablePages.pageSize,current:e.tablePages.currentPage,groupId:i,deviceName:e.deviceName,startTime:n,endTime:a});case 9:r=t.sent,r.code===s["M"].OPERATION_SUCCESS?(e.tableDatas=r.rows,e.tablePages.total=r.total,e.tableLoadings=!1):Object(d["c"])(r.message),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](5),Object(p["a"])(s["N"].NOTIFY,t.t0);case 16:return t.prev=16,t.finish(16);case 18:case"end":return t.stop()}}),t,null,[[5,13,16,18]])})))()},onTablePageChanges:function(e,t){this.tablePages.currentPage=e,this.tablePages.pageSize=t,this.findList()},getGroup:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.tableLoading=!0,t.next=4,Object(f["c"])({},{conditionJson1:[{column:"groupType",operator:1,ptype:"int",type:"eq",value:2}]});case 4:i=t.sent,i.code===s["M"].OPERATION_SUCCESS?e.groupOptions=i.rows:Object(d["c"])(i.message),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),Object(p["a"])(s["N"].NOTIFY,t.t0);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[0,8,11,13]])})))()},getLine:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i={conditionJson1:[{column:"groupType",operator:1,ptype:"int",type:"eq",value:3}]},""!==e.groupId&&i.conditionJson1.push({column:"parentId",operator:1,ptype:"int",type:"eq",value:e.groupId}),t.prev=2,e.tableLoading=!0,t.next=6,Object(f["c"])({},i);case 6:n=t.sent,n.code===s["M"].OPERATION_SUCCESS?e.lineOptions=n.rows:Object(d["c"])(n.message),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),Object(p["a"])(s["N"].NOTIFY,t.t0);case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}}),t,null,[[2,10,13,15]])})))()},search:function(){this.onTablePageChanges(1,10)},reset:function(){this.groupId="",this.lineId="",this.deviceName="",this.dateTime="",this.onTablePageChanges(1,10)},exportTable:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var i,n,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoadings=!0,i="",i=""!==e.lineId?e.lineId:e.groupId,n="",a="",void 0!==e.dateTime[0]&&(n=e.dateTime[0]+" 00:00:00",a=e.dateTime[1]+" 23:59:59"),t.prev=6,s={groupId:i,deviceName:e.deviceName,startTime:n,endTime:a},t.next=10,Object(b["c"])(s);case 10:r=t.sent,void 0!==r.data.code?(Object(d["c"])(r.message),e.tableLoadings=!1):(e.tableLoadings=!1,e.$options.filters.setExportFunc(r,"设备OEE统计报表.xls")),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](6),Object(p["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 17:return t.prev=17,t.finish(17);case 19:case"end":return t.stop()}}),t,null,[[6,14,17,19]])})))()},showCustomColumn:function(){this.isSettingCustomDialogShow=!this.isSettingCustomDialogShow},handleSaveColumnSetting:function(e){var t=arguments,i=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var a,s,r,o,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.length>1&&void 0!==t[1]?t[1]:i.cssType,a=i.$loading({body:!0,lock:!0,text:"自定列配置提交中..."}),n.prev=2,s=Object(g["c"])("id"),r=window.localStorage.getItem("account").replace(/"/g,""),o={account:r,cssType:22,menuId:s},n.next=8,Object(v["b"])(o,e);case 8:l=n.sent,"0000"===l.code?(a.close(),Object(d["b"])(l.message),i.refreshTableColumns()):(a.close(),Object(d["a"])(l.message||"操作失败！")),n.next=17;break;case 12:n.prev=12,n.t0=n["catch"](2),console.log(n.t0),a.close(),Object(d["a"])(n.t0+"666");case 17:return n.prev=17,i.isSettingCustomDialogShow=!1,n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[2,12,17,20]])})))()},getCustomColumn:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function i(){var n,a,s,r,o,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,n=Object(g["c"])("id"),a=window.localStorage.getItem("account").replace(/"/g,""),s={account:a,cssType:e,menuId:n},i.next=6,Object(v["a"])(s);case 6:r=i.sent,Array.isArray(r)&&r.length>0&&(c=Object(h["k"])(r,t.tableColumns),t.savedCustomColumns.length>0&&t.savedCustomColumns.splice(0),(o=t.savedCustomColumns).push.apply(o,Object(l["a"])(c))),i.next=13;break;case 10:i.prev=10,i.t0=i["catch"](0),Object(d["a"])(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,10]])})))()},refreshTableColumns:function(){this.getCustomColumn(22),this.refreshTableData()},refreshTableData:function(){this.findList()}}},V=J,W=V,B=(i("e0a3"),Object(w["a"])(W,H,$,!1,null,"27315870",null)),X=B.exports;t["a"]={name:"EquipmentMonitoring",data:function(){return{BTN_TEXT:s["c"],active:0,activeN:0,type:2,currentView:"utilizationRateTable",tabs:[{name:s["v"].STATISTICS_OF_CROP_MOVEMENT_RATE,views:"utilizationRateTable"},{name:s["v"].ALARM_STATISTICS,views:"alarmStatistics"},{name:"设备OEE统计",views:"efficiencyStatistics"}],selectTabs:[{type:2,name:s["v"].WORKSHOP},{type:3,name:s["v"].Line},{type:99,name:s["v"].DEVICE}]}},created:function(){},methods:{buttonClickEvent:function(e){console.log(e),this["".concat(e)]()},toggle:function(e,t){this.active=e,this.currentView=t,0===e&&(this.activeN=0,this.type=2)},toggleN:function(e,t){this.activeN=e,this.type=t},refresh:function(){0===this.active?this.$refs.utilizationRateTable.findList():1===this.active?this.$refs.alarmStatistics.findList():2===this.active&&this.$refs.efficiencyStatistics.findList()},exportTable:function(){0===this.active?this.$refs.utilizationRateTable.exportTable():1===this.active?this.$refs.alarmStatistics.exportTable():2===this.active&&this.$refs.efficiencyStatistics.exportTable()}},components:{HeaderTitle:n["a"],HeadOperationItem:a["a"],utilizationRateTable:N,alarmStatistics:k,multiDeviceComparison:G,efficiencyStatistics:X}}},"7a15":function(e,t,i){},"831e":function(e,t,i){},"85a8":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"header"},[i("div",{staticClass:"header-left-border"},[i("div",[i("span",{staticClass:"head-title-span"},[e._v(e._s(e.title))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"flag"}],staticClass:"head-search",on:{click:e.onSearch}},[i("i",{staticClass:"icon-search"}),i("span",{staticClass:"search-span"},[e._v("搜索")])]),i("div",[e._t("head-search")],2)]),i("div",[e._t("head-operation")],2)])},a=[],s=(i("b0c0"),{name:"HeaderTitle",props:{titleName:{type:String,default:""},flag:{type:Boolean,default:!1}},data:function(){return{title:""}},methods:{getTitle:function(){""===this.titleName?this.title=this.$route.name:this.title=this.titleName},onSearch:function(){this.$emit("searchButtonClick")}},watch:{titleName:function(e,t){this.getTitle()}},created:function(){this.getTitle()},components:{}}),r=s,o=(i("af73"),i("2877")),l=Object(o["a"])(r,n,a,!1,null,"d1fc4504",null);t["a"]=l.exports},"8eef":function(e,t,i){},"97ce":function(e,t,i){},a82a:function(e,t,i){},af73:function(e,t,i){"use strict";var n=i("7a15"),a=i.n(n);a.a},b82e:function(e,t,i){"use strict";i.d(t,"b",(function(){return a})),i.d(t,"a",(function(){return s}));var n=i("b775"),a=function(e,t){return Object(n["m"])("/configure/pageUserCustom/savePageUserCustomInfo.action?",e,t)},s=function(e,t){return Object(n["m"])("/configure/pageUserCustom/getPageUserCustomDetails.action?",e,t)}},be7c:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{staticClass:"customize-column-dialog",attrs:{"show-close":!1,visible:e.isDialogShow,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isDialogShow=t}}},[i("span",{attrs:{slot:"title"},slot:"title"},[i("span",{staticClass:"customize-column-dialog__title"},[e._v(e._s(e.dialogTitle))]),i("span",{staticClass:"customize-column-dialog__prompt"},[e._v("勾选需要显示的列，拖动列名进行排序")])]),i("div",{staticStyle:{height:"400px",overflow:"auto"}},[i("vue-draggable",{attrs:{animation:"380",ghostClass:"ghost",handle:".move-row",scroll:""},model:{value:e.tempTableColumns,callback:function(t){e.tempTableColumns=t},expression:"tempTableColumns"}},e._l(e.tempTableColumns,(function(t,n){return i("li",{key:n,staticClass:"column-row"},[i("el-checkbox",{staticClass:"column-row__checkbox",attrs:{disabled:t.required},model:{value:t.visible,callback:function(i){e.$set(t,"visible",i)},expression:"column.visible"}}),i("span",{staticClass:"column-row__tilte",class:t.required?"":"move-row"},[e._v(e._s(t.title))]),i("el-input",{staticClass:"column-low__input",attrs:{size:"mini"},model:{value:t.width,callback:function(i){e.$set(t,"width",i)},expression:"column.width"}}),i("span",{staticClass:"column-row__unit"},[e._v("px")])],1)})),0)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticClass:"custom-button",attrs:{plain:""},on:{click:e.handleResetEvent}},[e._v(" 恢复默认 ")]),i("el-button",{staticClass:"custom-button",attrs:{plain:""},on:{click:e.handleCloseEvent}},[e._v(" 关闭 ")]),i("el-button",{staticClass:"custom-button",attrs:{type:"primary"},on:{click:e.handleSaveEvent}},[e._v(" 保存 ")])],1)])},a=[],s=(i("a434"),i("b85c")),r=i("310e"),o=i.n(r),l={name:"dialogCustomizeColumnsDialogSettingColumn",components:{VueDraggable:o.a},props:{pageColumns:{type:Array,default:function(){return[]},required:!0},showSettingDialog:{type:Boolean,default:function(){return!1}},defaultColumns:{type:Array,default:function(){return[]},required:!0}},watch:{pageColumns:{handler:function(e){var t,i;this.tempTableColumns.splice(0);var n,a=[],r=Object(s["a"])(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.field&&o.title&&a.push({field:o.field,title:o.title,width:o.minWidth||"100",visible:o.visible,required:o.required})}}catch(l){r.e(l)}finally{r.f()}(t=this.tempTableColumns).push.apply(t,a),(i=this.initTableColumns).push.apply(i,a)},immediate:!0,deep:!0},defaultColumns:{handler:function(e){var t;this.defaultTableColumns.splice(0);var i,n=[],a=Object(s["a"])(e);try{for(a.s();!(i=a.n()).done;){var r=i.value;r.field&&n.push({field:r.field,title:r.title,width:r.minWidth||"100",visible:r.visible,required:r.required})}}catch(o){a.e(o)}finally{a.f()}(t=this.defaultTableColumns).push.apply(t,n)},immediate:!0,deep:!0},showSettingDialog:{handler:function(e){this.isDialogShow=e},immediate:!0}},data:function(){return{dialogTitle:"自定义列",isDialogShow:!1,tempTableColumns:[],initTableColumns:[],defaultTableColumns:[]}},methods:{handleSaveEvent:function(){this.$emit("saveMyColumnSetting",this.tempTableColumns)},handleCloseEvent:function(){for(var e=this.tempTableColumns.length,t=!0,i=0;i<e;i++){var n=this.tempTableColumns[i],a=this.initTableColumns[i];if(n.field!==a.field){t=!1;break}if(n.width!==a.width){t=!1;break}if(n.visible!==a.visible){t=!1;break}}if(!t){var r,o,l=[],c=Object(s["a"])(this.pageColumns);try{for(c.s();!(o=c.n()).done;){var u=o.value;u.field&&l.push({field:u.field,title:u.title,width:u.minWidth||"100",visible:u.visible,required:u.required})}}catch(d){c.e(d)}finally{c.f()}this.tempTableColumns.splice(0),(r=this.tempTableColumns).push.apply(r,l)}this.$emit("update:showSettingDialog",!1)},handleResetEvent:function(){var e,t,i=[],n=Object(s["a"])(this.defaultColumns);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.field&&i.push({field:a.field,title:a.title,width:a.minWidth||"100",visible:a.visible,required:a.required})}}catch(r){n.e(r)}finally{n.f()}this.tempTableColumns.splice(0),(e=this.tempTableColumns).push.apply(e,i)}}},c=l,u=(i("1bb8"),i("2877")),d=Object(u["a"])(c,n,a,!1,null,"2d822b9c",null);t["a"]=d.exports},e0a3:function(e,t,i){"use strict";var n=i("2eea"),a=i.n(n);a.a},f356:function(e,t,i){},fe52:function(e,t,i){"use strict";var n=i("97ce"),a=i.n(n);a.a}}]);
//# sourceMappingURL=chunk-49723fff.0c4f8cb4.js.map