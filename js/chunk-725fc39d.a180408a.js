(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-725fc39d"],{"06f2":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kanban_page"},[n("div",{staticClass:"title"},[e._v("设备状态")]),n("div",{ref:"tableWra",staticClass:"table_wra"},[n("table",{attrs:{id:"stateTable"}},[e._m(0),e._l(e.devStateList,(function(t,r){return n("tr",{key:r},[n("td",[e._v(e._s(t.deviceName))]),n("td",[t.deviceLiveReportVo.runTimeSum?n("span",{staticStyle:{color:"#24FFFF"}},[e._v(e._s(e.toHoursAndMinutes(t.deviceLiveReportVo.runTimeSum)))]):e._e(),t.deviceLiveReportVo.runTimeSum?e._e():n("span",{staticStyle:{color:"#999"}},[e._v("-")])]),n("td",[t.deviceLiveReportVo.idleTimeSum?n("span",{staticStyle:{color:"#FFF719"}},[e._v(e._s(e.toHoursAndMinutes(t.deviceLiveReportVo.idleTimeSum)))]):e._e(),t.deviceLiveReportVo.idleTimeSum?e._e():n("span",{staticStyle:{color:"#999"}},[e._v("-")])]),n("td",[t.deviceLiveReportVo.offlineTimeSum?n("span",{staticStyle:{color:"#C0BFBF"}},[e._v(e._s(e.toHoursAndMinutes(t.deviceLiveReportVo.offlineTimeSum)))]):e._e(),t.deviceLiveReportVo.offlineTimeSum?e._e():n("span",{staticStyle:{color:"#999"}},[e._v("-")])]),n("td",[t.deviceLiveReportVo.warnTimeSum?n("span",{staticStyle:{color:"#FF5353"}},[e._v(e._s(e.toHoursAndMinutes(t.deviceLiveReportVo.warnTimeSum)))]):e._e(),t.deviceLiveReportVo.warnTimeSum?e._e():n("span",{staticStyle:{color:"#999"}},[e._v("-")])]),n("td",[e._v(e._s(t.deviceLiveReportVo.availability+" %")+" ")])])}))],2),n("div",{staticClass:"light"})])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tr",[n("th",[e._v("设备名称")]),n("th",{staticStyle:{color:"#24FFFF"}},[e._v("运行时长")]),n("th",{staticStyle:{color:"#FFF719"}},[e._v("空闲时长")]),n("th",{staticStyle:{color:"#C0BFBF"}},[e._v("离线时长")]),n("th",{staticStyle:{color:"#FF5353"}},[e._v("告警时长")]),n("th",[e._v("效率")])])}],o=(n("99af"),n("a15b"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("96cf"),n("1da1")),c=n("cf45"),a=n("7598"),u=n("582a"),d=n("99f6"),v={name:"distribute",data:function(){return{kanbanConfig:{},devStateList:[],current_s:1,size_s:12,currentTime:0,dataTime:0}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:document.documentElement.style.fontSize=Object(c["b"])()+"px",window.onresize=function(){document.documentElement.style.fontSize=Object(c["b"])()+"px"},d["m"][e.getUrlKeyMain("cid",window.location.href)]&&(e.kanbanConfig=d["m"][e.getUrlKeyMain("cid",window.location.href)]),e.getDataTime(),setTimeout((function(){e.showDevState()}),500),e.timer=setInterval((function(){e.showDevState()}),(null===(n=e.kanbanConfig)||void 0===n?void 0:n.time)||15e3),setInterval((function(){e.getDataTime()}),3e4);case 7:case"end":return t.stop()}}),t)})))()},destroyed:function(){this.timer&&clearInterval(this.timer)},methods:{toHoursAndMinutes:function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return t?"".concat(t,"小时").concat(n>0?" ".concat(n,"分"):""):"".concat(n>0?" ".concat(n,"分"):"")},getTodayFirstDay:function(){var e=new Date(this.dataTime),t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return n=n<10?"0"+n:n,r=r<10?"0"+r:r,[t,n,r].join("-")+" 00:00:00"},getTodayLastDay:function(){var e=new Date(this.dataTime),t=e.getFullYear(),n=e.getMonth()+1,r=e.getDate();return n=n<10?"0"+n:n,r=r<10?"0"+r:r,[t,n,r].join("-")+" 23:59:59"},showDevState:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={secretKey:e.kanbanConfig.key,conditionJson1:[{column:"isProductionDevice",operator:1,ptype:"int",type:"eq",value:1}]},t.prev=1,t.next=4,Object(a["t"])({startTime:e.getTodayFirstDay(),endTime:e.getTodayLastDay(),current:e.current_s,size:e.size_s},n);case 4:r=t.sent,r.code===u["M"].OPERATION_SUCCESS&&(e.current_s*e.size_s>=r.total?e.current_s=1:e.current_s++,e.devStateList=r.rows),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),console.log(t.t0);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[1,8,11,13]])})))()},getUrlKeyMain:function(e,t){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||["",""])[1].replace(/\+/g,"%20"))||null},getDataTime:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(a["F"])({},{});case 3:n=t.sent,e.dataTime=n.rows,console.log(n),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}},s=v,p=(n("743a"),n("2877")),f=Object(p["a"])(s,r,i,!1,null,"fe9b9f18",null);t["default"]=f.exports},"743a":function(e,t,n){"use strict";var r=n("7ca2"),i=n.n(r);i.a},7598:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return v})),n.d(t,"h",(function(){return s})),n.d(t,"s",(function(){return p})),n.d(t,"y",(function(){return f})),n.d(t,"x",(function(){return l})),n.d(t,"w",(function(){return g})),n.d(t,"H",(function(){return T})),n.d(t,"I",(function(){return m})),n.d(t,"j",(function(){return y})),n.d(t,"m",(function(){return b})),n.d(t,"k",(function(){return R})),n.d(t,"l",(function(){return k})),n.d(t,"o",(function(){return O})),n.d(t,"J",(function(){return _})),n.d(t,"t",(function(){return j})),n.d(t,"E",(function(){return S})),n.d(t,"A",(function(){return h})),n.d(t,"F",(function(){return B})),n.d(t,"z",(function(){return D})),n.d(t,"p",(function(){return w})),n.d(t,"n",(function(){return F})),n.d(t,"v",(function(){return L})),n.d(t,"u",(function(){return C})),n.d(t,"a",(function(){return E})),n.d(t,"C",(function(){return M})),n.d(t,"r",(function(){return x})),n.d(t,"q",(function(){return A})),n.d(t,"G",(function(){return V})),n.d(t,"D",(function(){return U})),n.d(t,"B",(function(){return z}));var r=n("b775"),i=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceRealState.action?",e,t)},o=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceStateReportStatistics.action?",e,t)},c=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceManager/getCheckCount.action?",e,t)},a=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceManager/getRepairTaskCount.action?",e,t)},u=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceManager/getMaintainTaskCount.action?",e,t)},d=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceReport/getDeviceDayUtilization.action?",e,t)},v=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceEarlyWarning/getDeviceWarnRecord.action?",e,t)},s=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getPageByDevice.action?",e,t)},p=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceMonitorReport.action?",e,t)},f=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getGasHoursUseReportBoard.action?",e,t)},l=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getEnergyTodayUse.action?",e,t)},g=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getEnergyTodayAndWeek.action?",e,t)},T=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getTodayAndYesterdayElectricityRecord.action?",e,t)},m=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getTopTenElectricityDevices.action?",e,t)},y=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getElectricityEnergyReport.action?",e,t)},b=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getWaterEnergyReport.action?",e,t)},R=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getGasEnergyReport.action?",e,t)},k=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getRecentDayEnergyRecord.action?",e,t)},O=function(e,t){return Object(r["k"])("realUserWork/getAndonKanbanOfRiSheng.action?",e,t)},_=function(e,t,n){return Object(r["k"])("existFunctionUpdate/listDeviceExceptionCount.action",e,t,n)},j=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceReport/getDeviceStateReportStatistics.action?",e,t,n)},S=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceManager/getRepairTask.action?",e,t,n)},h=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceManager/getMaintainTask.action?",e,t,n)},B=function(e,t,n){return Object(r["d"])("open-api/getTime.action?",e,t,n)},D=function(e,t,n){return Object(r["k"])("open-api/getGroupTree.action?",e,t,n)},w=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceManager/getConfigurationByEnum.action?",e,t,n)},F=function(e,t,n){return Object(r["k"])("open-api/TvBoard/device/getAllGroupAndDevice.action?",e,t,n)},L=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeFluctuationRate.action?",e,t,n)},C=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeCapacityAndEnergyEfficiency.action?",e,t,n)},E=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getOneDayDetailStateClockInfo.action?",e,t)},M=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceReport/getOneDayDetailStateClock.action?",e,t)},x=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceInfo.action?",e,t)},A=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceHoursEffTrend.action?",e,t)},V=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getTimeDayTypeProduction.action?",e,t)},U=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceReport/getQueryDeviceStateTimeUtilization.action?",e,t)},z=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getManyDeviceTimeFluctuationRate.action?",e,t)}},"7ca2":function(e,t,n){}}]);
//# sourceMappingURL=chunk-725fc39d.a180408a.js.map