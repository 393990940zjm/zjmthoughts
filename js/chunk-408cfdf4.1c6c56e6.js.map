{"version":3,"sources":["webpack:///./src/views/appControl.vue?6e1d","webpack:///./src/views/appControl.vue?3a93","webpack:///./src/utils/request2.js","webpack:///./src/api/appControl.js","webpack:///src/views/appControl.vue","webpack:///./src/views/appControl.vue?d874","webpack:///./src/views/appControl.vue?11ac"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","attrs","on","$event","setting","_v","isConnection","_e","class","resetStatus","_s","startUp","pause","stop","act","_l","item","index","key","postRequest","param","staticStyle","funcBtnName","dialogVisible","ref","form","model","callback","$$v","$set","slot","saveSetting","staticRenderFns","instance","axios","create","baseURL","timeout","postAplicationJSON","url","jsonData","config","paramStr","qs","stringify","indices","serializeDate","data","moment","format","Promise","resolve","reject","post","then","res","catch","err","getAplicationJSON","get","interceptors","request","use","error","ioOp","ioStatus","loading","btnJson","btnJson2","btnJson3","ip","port","created","setInterval","methods","window","localStorage","getItem","setItem","component"],"mappings":"kHAAA,yBAA2iB,EAAG,G,kECA9iB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYC,MAAOT,EAAW,QAAEU,WAAW,YAAYC,YAAY,cAAc,CAACP,EAAG,MAAM,CAACO,YAAY,YAAYP,EAAG,YAAY,CAACO,YAAY,UAAUC,MAAM,CAAC,KAAO,UAAU,MAAQ,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAIe,aAAa,CAACf,EAAIgB,GAAG,QAAQZ,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,OAAO,CAACO,YAAY,aAAa,CAACX,EAAIgB,GAAG,aAAaZ,EAAG,MAAM,CAACO,YAAY,WAAW,CAAGX,EAAIiB,aAA4DjB,EAAIkB,KAAlDd,EAAG,OAAO,CAACe,MAAM,SAAS,CAACnB,EAAIgB,GAAG,YAAsBhB,EAAgB,aAAEI,EAAG,OAAO,CAACe,MAAMnB,EAAIoB,YAAc,UAAY,SAAS,CAACpB,EAAIgB,GAAGhB,EAAIqB,GAAGrB,EAAIoB,YAAa,MAAM,UAAUpB,EAAIkB,KAAMlB,EAAgB,aAAEI,EAAG,OAAO,CAACe,MAAMnB,EAAIsB,QAAU,UAAY,SAAS,CAACtB,EAAIgB,GAAGhB,EAAIqB,GAAGrB,EAAIsB,QAAS,MAAM,UAAUtB,EAAIkB,KAAMlB,EAAgB,aAAEI,EAAG,OAAO,CAACe,MAAMnB,EAAIuB,MAAQ,UAAY,SAAS,CAACvB,EAAIgB,GAAGhB,EAAIqB,GAAGrB,EAAIuB,MAAO,MAAM,UAAUvB,EAAIkB,KAAMlB,EAAgB,aAAEI,EAAG,OAAO,CAACe,MAAMnB,EAAIwB,KAAO,UAAY,SAAS,CAACxB,EAAIgB,GAAGhB,EAAIqB,GAAGrB,EAAIwB,KAAM,MAAM,UAAUxB,EAAIkB,KAAMlB,EAAgB,aAAEI,EAAG,OAAO,CAACe,MAAMnB,EAAIyB,IAAM,UAAY,SAAS,CAACzB,EAAIgB,GAAGhB,EAAIqB,GAAGrB,EAAIyB,IAAK,MAAM,UAAUzB,EAAIkB,SAASd,EAAG,MAAM,CAACO,YAAY,cAAc,CAACP,EAAG,SAAS,CAACQ,MAAM,CAAC,OAAS,KAAKZ,EAAI0B,GAAI1B,EAAY,UAAE,SAAS2B,EAAKC,GAAO,OAAOxB,EAAG,SAAS,CAACyB,IAAID,EAAMhB,MAAM,CAAC,KAAO,KAAK,CAACR,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,UAAU,MAAQ,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAI8B,YAAYH,EAAKI,UAAU,CAAC/B,EAAIgB,GAAGhB,EAAIqB,GAAGM,EAAKpB,UAAU,MAAK,GAAGH,EAAG,SAAS,CAAC4B,YAAY,CAAC,aAAa,QAAQpB,MAAM,CAAC,OAAS,KAAKZ,EAAI0B,GAAI1B,EAAW,SAAE,SAAS2B,EAAKC,GAAO,OAAOxB,EAAG,SAAS,CAACyB,IAAID,EAAMhB,MAAM,CAAC,KAAO,KAAK,CAACR,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,UAAU,MAAQ,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAI8B,YAAYH,EAAKI,UAAU,CAAC/B,EAAIgB,GAAGhB,EAAIqB,GAAGM,EAAKpB,UAAU,MAAK,GAAGH,EAAG,SAAS,CAACQ,MAAM,CAAC,OAAS,KAAK,CAACR,EAAG,SAAS,CAACQ,MAAM,CAAC,KAAO,KAAK,CAACR,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,UAAU,MAAQ,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAI8B,YAAY,YAAY,CAAC9B,EAAIgB,GAAGhB,EAAIqB,GAAGrB,EAAIiC,mBAAmB,GAAGjC,EAAI0B,GAAI1B,EAAY,UAAE,SAAS2B,EAAKC,GAAO,OAAOxB,EAAG,SAAS,CAACyB,IAAID,EAAMhB,MAAM,CAAC,KAAO,KAAK,CAACR,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,UAAU,MAAQ,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAI8B,YAAYH,EAAKI,UAAU,CAAC/B,EAAIgB,GAAGhB,EAAIqB,GAAGM,EAAKpB,UAAU,OAAM,IAAI,GAAGH,EAAG,YAAY,CAACQ,MAAM,CAAC,MAAQ,OAAO,QAAUZ,EAAIkC,cAAc,MAAQ,QAAQrB,GAAG,CAAC,iBAAiB,SAASC,GAAQd,EAAIkC,cAAcpB,KAAU,CAACV,EAAG,UAAU,CAAC+B,IAAI,OAAOvB,MAAM,CAAC,MAAQZ,EAAIoC,KAAK,cAAc,SAAS,CAAChC,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQ,OAAO,CAACR,EAAG,WAAW,CAACiC,MAAM,CAAC5B,MAAOT,EAAIoC,KAAO,GAAEE,SAAS,SAAUC,GAAMvC,EAAIwC,KAAKxC,EAAIoC,KAAM,KAAMG,IAAM7B,WAAW,cAAc,GAAGN,EAAG,eAAe,CAACQ,MAAM,CAAC,MAAQ,OAAO,CAACR,EAAG,WAAW,CAACiC,MAAM,CAAC5B,MAAOT,EAAIoC,KAAS,KAAEE,SAAS,SAAUC,GAAMvC,EAAIwC,KAAKxC,EAAIoC,KAAM,OAAQG,IAAM7B,WAAW,gBAAgB,IAAI,GAAGN,EAAG,OAAO,CAACO,YAAY,gBAAgBC,MAAM,CAAC,KAAO,UAAU6B,KAAK,UAAU,CAACrC,EAAG,YAAY,CAACS,GAAG,CAAC,MAAQ,SAASC,GAAQd,EAAIkC,eAAgB,KAAS,CAAClC,EAAIgB,GAAG,SAASZ,EAAG,YAAY,CAACQ,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOd,EAAI0C,iBAAiB,CAAC1C,EAAIgB,GAAG,UAAU,IAAI,IAAI,IACpnG2B,EAAkB,G,+GCoBTC,EAAWC,IAAMC,OAAO,CAMnCC,QAAS,GAETC,QAAS,OAkBJ,SAASC,EAAmBC,EAAKnB,EAAOoB,GAAuB,IAAbC,EAAa,uDAAJ,GAC1DC,EAAWC,IAAGC,UAAUxB,EAAO,CACnCyB,SAAS,EACTC,cAAe,SAAAC,GACb,OAAOC,IAAOD,GAAME,OAAO,0BAG/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BnB,EACGoB,KAAKd,EAAMG,EAAUF,EAAUC,GAC/Ba,MAAK,SAAAC,GACJJ,EAAQI,EAAIR,SAEbS,OAAM,SAAAC,GAELL,EAAOK,EAAIV,YAKZ,SAASW,EAAkBnB,EAAKnB,EAAOoB,GAAuB,IAAbC,EAAa,uDAAJ,GACzDC,EAAWC,IAAGC,UAAUxB,EAAO,CACnCyB,SAAS,EACTC,cAAe,SAAAC,GACb,OAAOC,IAAOD,GAAME,OAAO,0BAG/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BnB,EACG0B,IAAIpB,EAAMG,EAAUF,EAAUC,GAC9Ba,MAAK,SAAAC,GAEJJ,EAAQI,EAAIR,SAEbS,OAAM,SAAAC,GAELL,EAAOK,EAAIV,YApDnBd,EAAS2B,aAAaC,QAAQC,KAC5B,SAAArB,GACE,OAAOA,KAET,SAAAsB,GACE,OAAOb,QAAQE,OAAOW,MCtBnB,IAAMC,EAAO,SAACzB,EAAKnB,EAAOoB,GAAb,OAA0BF,EAAmBC,EAAM,OAAQnB,EAAOoB,IAGzEyB,EAAW,SAAC1B,EAAKnB,EAAOoB,GAAb,OAA0BkB,EAAkBnB,EAAM,WAAYnB,EAAOoB,IC4D7F,G,UAAA,CACE5C,KAAM,aAENmD,KAHF,WAII,MAAO,CACLmB,SAAS,EACT5D,cAAc,EACdG,aAAa,EACbE,SAAS,EACTC,OAAO,EACPC,MAAM,EACNC,KAAK,EACLqD,QAAS,CACf,CAAQ,KAAR,KAAQ,MAAR,YACA,CAAQ,KAAR,KAAQ,MAAR,cAEMC,SAAU,CAEV,CAAE,KAAR,KAAQ,MAAR,SACA,CAAQ,KAAR,KAAQ,MAAR,QACA,CAAQ,KAAR,KAAQ,MAAR,UAEMC,SAAU,CAChB,CAAQ,KAAR,OAAQ,MAAR,QACA,CAAQ,KAAR,OAAQ,MAAR,QACA,CAAQ,KAAR,OAAQ,MAAR,QACA,CAAQ,KAAR,OAAQ,MAAR,SAEM9C,eAAe,EACfE,KAAM,CACJ6C,GAAI,GACJC,KAAM,MAIZC,QAnCF,WAmCA,WACIC,aAAY,WACV,EAAN,kBACA,MAEEC,QAAS,CACP,YADJ,SACA,0KASA,aACA,4FAVA,kBAYA,IACA,GAEA,CACA,WAhBA,OAYA,EAZA,OAmBA,uBACA,iBACA,aACA,YACA,eACA,aACA,mBAGA,aACA,YAEA,gBACA,aACA,gBAjCA,qDAqCA,aACA,YACA,qBACA,aACA,eAzCA,6DA6CI,cA9CJ,WA8CA,mKACA,6EADA,0CAEA,GAFA,cAIA,4FAJA,kBAMA,EACA,EACA,GACA,IATA,OAMA,EANA,OAWA,wBACA,wBACA,kBACA,6BACA,2BACA,uBACA,qBACA,qBAEA,kBACA,iBACA,aACA,UACA,UAxBA,qDA2BA,kBACA,iBACA,aACA,UACA,SA/BA,6DAkCItE,QAhFJ,WAiFMd,KAAKiC,eAAgB,EACrBjC,KAAKmC,KAAK6C,GAAKK,OAAOC,aAAaC,QAAQ,SAC3CvF,KAAKmC,KAAK8C,KAAOI,OAAOC,aAAaC,QAAQ,YAI/C9C,YAvFJ,WAwFMzC,KAAKmC,KAAK6C,GAAKK,OAAOC,aAAaE,QAAQ,QAASxF,KAAKmC,KAAK6C,IAC9DhF,KAAKmC,KAAK8C,KAAOI,OAAOC,aAAaE,QAAQ,UAAWxF,KAAKmC,KAAK8C,MAGlEjF,KAAKiC,eAAgB,GAEvBD,YA9FJ,WA+FM,OAAmB,IAAfhC,KAAKsB,MACA,MACf,eACe,UADf,MCtNoV,I,wBCQhVmE,EAAY,eACd,EACA3F,EACA4C,GACA,EACA,KACA,WACA,MAIa,aAAA+C,E","file":"js/chunk-408cfdf4.1c6c56e6.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appControl.vue?vue&type=style&index=0&id=4d12194d&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appControl.vue?vue&type=style&index=0&id=4d12194d&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"appControl\"},[_c('div',{staticClass:\"logo_st\"}),_c('el-button',{staticClass:\"setting\",attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.setting()}}},[_vm._v(\"设置\")]),_c('div',{staticClass:\"head\"},[_c('span',{staticClass:\"headTitle\"},[_vm._v(\"当前机械臂状态\")]),_c('div',{staticClass:\"headDiv\"},[(!_vm.isConnection)?_c('span',{class:'noBtn'},[_vm._v(\"未连接机械臂\")]):_vm._e(),(_vm.isConnection)?_c('span',{class:_vm.resetStatus ? 'passBtn' : 'noBtn'},[_vm._v(_vm._s(_vm.resetStatus? '已复位':'未复位'))]):_vm._e(),(_vm.isConnection)?_c('span',{class:_vm.startUp ? 'passBtn' : 'noBtn'},[_vm._v(_vm._s(_vm.startUp? '已启动':'未启动'))]):_vm._e(),(_vm.isConnection)?_c('span',{class:_vm.pause ? 'passBtn' : 'noBtn'},[_vm._v(_vm._s(_vm.pause? '已暂停':'未暂停'))]):_vm._e(),(_vm.isConnection)?_c('span',{class:_vm.stop ? 'passBtn' : 'noBtn'},[_vm._v(_vm._s(_vm.stop? '已停止':'未停止'))]):_vm._e(),(_vm.isConnection)?_c('span',{class:_vm.act ? 'passBtn' : 'noBtn'},[_vm._v(_vm._s(_vm.act? '动作中':'未动作'))]):_vm._e()])]),_c('div',{staticClass:\"appContent\"},[_c('el-row',{attrs:{\"gutter\":24}},_vm._l((_vm.btnJson3),function(item,index){return _c('el-col',{key:index,attrs:{\"span\":12}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.postRequest(item.param)}}},[_vm._v(_vm._s(item.name))])],1)}),1),_c('el-row',{staticStyle:{\"margin-top\":\"80px\"},attrs:{\"gutter\":24}},_vm._l((_vm.btnJson),function(item,index){return _c('el-col',{key:index,attrs:{\"span\":12}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.postRequest(item.param)}}},[_vm._v(_vm._s(item.name))])],1)}),1),_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.postRequest('pause')}}},[_vm._v(_vm._s(_vm.funcBtnName()))])],1),_vm._l((_vm.btnJson2),function(item,index){return _c('el-col',{key:index,attrs:{\"span\":12}},[_c('el-button',{attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.postRequest(item.param)}}},[_vm._v(_vm._s(item.name))])],1)})],2)],1),_c('el-dialog',{attrs:{\"title\":\"设置链接\",\"visible\":_vm.dialogVisible,\"width\":\"100%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"IP\"}},[_c('el-input',{model:{value:(_vm.form.ip),callback:function ($$v) {_vm.$set(_vm.form, \"ip\", $$v)},expression:\"form.ip\"}})],1),_c('el-form-item',{attrs:{\"label\":\"端口\"}},[_c('el-input',{model:{value:(_vm.form.port),callback:function ($$v) {_vm.$set(_vm.form, \"port\", $$v)},expression:\"form.port\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.saveSetting()}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\r\n * @Descripttion: axios封装：请求拦截、相应拦截、错误统一处理\r\n * @version:\r\n * @Author: YZZ+\r\n * @Date: 2020-04-28 15:05:45\r\n * @LastEditors: ZJM\r\n * @LastEditTime: 2022-08-24 15:04:14\r\n */\r\nimport axios from 'axios';\r\nimport '@/utils/dateFormat';\r\nimport qs from 'qs';\r\nimport moment from 'moment';\r\n// import { IP } from './constantsFile';\r\n// import { config } from 'vuedraggable';\r\n\r\n/**\r\n * @description: 自定义默认值\r\n * @param {type}\r\n * @return:\r\n * @author: YZZ\r\n */\r\nexport const instance = axios.create({\r\n  // 请求类型\r\n  // method: 'post',\r\n  // 设置前缀\r\n  // baseURL: 'http://192.168.1.92:8080/amk',\r\n  // baseURL: IP.PUBLICIP,\r\n  baseURL: '',\r\n  // 设置超时\r\n  timeout: 15000\r\n});\r\ninstance.interceptors.request.use(\r\n  config => {\r\n    return config;\r\n  },\r\n  error => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n/**\r\n * @description: post方法，对应post请求，用在批量新增和删除里\r\n * @param {String} url 请求的url地址\r\n * @param {Object} params 请求时携带的参数\r\n * @return:\r\n * @author: YZZ\r\n */\r\nexport function postAplicationJSON(url, param, jsonData, config = {}) {\r\n  const paramStr = qs.stringify(param, {\r\n    indices: false,\r\n    serializeDate: data => {\r\n      return moment(data).format('YYYY-MM-DD HH:mm:ss');\r\n    }\r\n  });\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .post(url + paramStr, jsonData, config)\r\n      .then(res => {\r\n        resolve(res.data);\r\n      })\r\n      .catch(err => {\r\n        // console.log(err);\r\n        reject(err.data);\r\n      });\r\n  });\r\n}\r\n\r\nexport function getAplicationJSON(url, param, jsonData, config = {}) {\r\n  const paramStr = qs.stringify(param, {\r\n    indices: false,\r\n    serializeDate: data => {\r\n      return moment(data).format('YYYY-MM-DD HH:mm:ss');\r\n    }\r\n  });\r\n  return new Promise((resolve, reject) => {\r\n    instance\r\n      .get(url + paramStr, jsonData, config)\r\n      .then(res => {\r\n        // console.log(res);\r\n        resolve(res.data);\r\n      })\r\n      .catch(err => {\r\n        // console.log(err);\r\n        reject(err.data);\r\n      });\r\n  });\r\n}\r\n","/*\r\n * @Descripttion:\r\n * @version:\r\n * @Author: YCB\r\n * @Date: 2022-06-13 10:46:14\r\n * @LastEditors: ZJM\r\n * @LastEditTime: 2022-08-24 15:04:25\r\n */\r\nimport { postAplicationJSON, getAplicationJSON } from '@/utils/request2';\r\n// import qs from 'qs';\r\n// import { postAplicationJSONNetWork } from '@/utils/request';\r\n\r\n// --------------------------- 连接配置 -----------------------\r\n// 请求动作指令\r\nexport const ioOp = (url, param, jsonData) => postAplicationJSON(url + '/op?', param, jsonData);\r\n\r\n// 后端服务状态指令\r\nexport const ioStatus = (url, param, jsonData) => getAplicationJSON(url + '/status?', param, jsonData);\r\n","<!--\r\n * @Descripttion: z\r\n * @version: z\r\n * @Author: ZJM\r\n * @Date: 2022-08-15 10:25:18\r\n * @LastEditors: ZJM\r\n * @LastEditTime: 2022-09-01 14:54:32\r\n-->\r\n<template>\r\n  <div class=\"appControl\" v-loading=\"loading\" >\r\n    <div class=\"logo_st\"></div>\r\n    <el-button class=\"setting\" type=\"primary\" plain @click=\"setting()\" >设置</el-button>\r\n    <div class=\"head\" >\r\n      <span class=\"headTitle\" >当前机械臂状态</span>\r\n      <div class=\"headDiv\" >\r\n        <span v-if=\"!isConnection\" :class=\"'noBtn'\" >未连接机械臂</span>\r\n        <span v-if=\"isConnection\" :class=\"resetStatus ? 'passBtn' : 'noBtn'\" >{{resetStatus? '已复位':'未复位'}}</span>\r\n        <span v-if=\"isConnection\" :class=\"startUp ? 'passBtn' : 'noBtn'\" >{{startUp? '已启动':'未启动'}}</span>\r\n        <span v-if=\"isConnection\" :class=\"pause ? 'passBtn' : 'noBtn'\" >{{pause? '已暂停':'未暂停'}}</span>\r\n        <span v-if=\"isConnection\" :class=\"stop ? 'passBtn' : 'noBtn'\" >{{stop? '已停止':'未停止'}}</span>\r\n        <span v-if=\"isConnection\" :class=\"act ? 'passBtn' : 'noBtn'\" >{{act? '动作中':'未动作'}}</span>\r\n      </div>\r\n\r\n    </div>\r\n    <div class=\"appContent\">\r\n      <!-- 动作 -->\r\n      <el-row :gutter=\"24\">\r\n        <el-col v-for=\"(item, index) in btnJson3\" :key=\"index\" :span=\"12\">\r\n          <el-button type=\"primary\" plain @click=\"postRequest(item.param)\" >{{item.name}}</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!-- 开关 -->\r\n      <el-row style=\"margin-top:80px;\" :gutter=\"24\">\r\n        <el-col v-for=\"(item, index) in btnJson\" :key=\"index\" :span=\"12\">\r\n          <el-button type=\"primary\" plain @click=\"postRequest(item.param)\" >{{item.name}}</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <!-- 控制 -->\r\n      <el-row :gutter=\"24\">\r\n        <el-col :span=\"12\">\r\n          <el-button type=\"primary\" plain @click=\"postRequest('pause')\" >{{funcBtnName()}}</el-button>\r\n        </el-col>\r\n        <el-col v-for=\"(item, index) in btnJson2\" :key=\"index\" :span=\"12\">\r\n          <el-button type=\"primary\" plain @click=\"postRequest(item.param)\" >{{item.name}}</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n    </div>\r\n\r\n    <el-dialog\r\n      title=\"设置链接\"\r\n      :visible.sync=\"dialogVisible\"\r\n      width=\"100%\">\r\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\r\n        <el-form-item label=\"IP\">\r\n          <el-input v-model=\"form.ip\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"端口\">\r\n          <el-input v-model=\"form.port\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"saveSetting()\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ioOp, ioStatus } from '@/api/appControl';\r\nimport {\r\n// STATUS_CODE\r\n// TITLE\r\n} from '@/utils/constantsFile';\r\nexport default {\r\n  name: 'appControl',\r\n\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      isConnection: false, // 是否连接\r\n      resetStatus: false, // 是否复位\r\n      startUp: false, // 是否启动\r\n      pause: false, // 是否暂停\r\n      stop: false, // 是否停止\r\n      act: false, // 是否动作\r\n      btnJson: [\r\n        { name: '开机', param: 'power_on' },\r\n        { name: '关机', param: 'power_off' }\r\n      ],\r\n      btnJson2: [\r\n        // { name: '暂停', param: 'pause' },\r\n        { name: '启动', param: 'start' },\r\n        { name: '停⽌', param: 'stop' },\r\n        { name: '重置', param: 'reset' }\r\n      ],\r\n      btnJson3: [\r\n        { name: '关节机动', param: 'act1' },\r\n        { name: '上料夹取', param: 'act2' },\r\n        { name: '料盘圆周', param: 'act3' },\r\n        { name: '循环码垛', param: 'act4' }\r\n      ],\r\n      dialogVisible: false,\r\n      form: {\r\n        ip: '',\r\n        port: ''\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    setInterval(() => {\r\n      this.statusRequest();\r\n    }, 500);\r\n  },\r\n  methods: {\r\n    async postRequest(param) {\r\n      // if (!this.isConnection) {\r\n      //   this.$message({\r\n      //     message: '请先连接机械臂',\r\n      //     duration: 1000,\r\n      //     type: 'error'\r\n      //   });\r\n      //   return false;\r\n      // }\r\n      this.loading = true;\r\n      var url = 'http://' + window.localStorage.getItem('op_ip') + ':' + window.localStorage.getItem('op_port');\r\n      try {\r\n        const res = await ioOp(url,\r\n          {\r\n          },\r\n          {\r\n            method: param\r\n          }\r\n        );\r\n        console.log('操作数据', res);\r\n        if (res.op_status === true) {\r\n          this.loading = false;\r\n          this.$message({\r\n            message: '操作成功',\r\n            duration: 1000,\r\n            type: 'success'\r\n          });\r\n        } else {\r\n          this.loading = false;\r\n          this.$message({\r\n            // message: res.error_msg,\r\n            message: '设备繁忙~',\r\n            duration: 1000,\r\n            type: 'error'\r\n          });\r\n        }\r\n      } catch (error) {\r\n        this.loading = false;\r\n        this.$message({\r\n          message: '请求异常，请检查网络',\r\n          duration: 1000,\r\n          type: 'error'\r\n        });\r\n      }\r\n    },\r\n    async statusRequest() {\r\n      if (!window.localStorage.getItem('op_ip') || !window.localStorage.getItem('op_port')) {\r\n        return false;\r\n      }\r\n      var url = 'http://' + window.localStorage.getItem('op_ip') + ':' + window.localStorage.getItem('op_port');\r\n      try {\r\n        const res = await ioStatus(\r\n          url,\r\n          {},\r\n          {}\r\n        );\r\n        console.log('状态访问数据', res);\r\n        if (res.io_connection_status) {\r\n          this.isConnection = true;\r\n          this.resetStatus = res.reset_status;\r\n          this.startUp = res.startup_status;\r\n          this.pause = res.pause_status;\r\n          this.stop = res.stop_status;\r\n          this.act = res.act_status;\r\n        } else {\r\n          this.isConnection = false;\r\n          this.resetStatus = false;\r\n          this.startUp = false;\r\n          this.stop = false;\r\n          this.act = false;\r\n        }\r\n      } catch (error) {\r\n        this.isConnection = false;\r\n        this.resetStatus = false;\r\n        this.startUp = false;\r\n        this.stop = false;\r\n        this.act = false;\r\n      }\r\n    },\r\n    setting() {\r\n      this.dialogVisible = true;\r\n      this.form.ip = window.localStorage.getItem('op_ip');\r\n      this.form.port = window.localStorage.getItem('op_port');\r\n      // this.form.ip = this.$store.state.op_ip;\r\n      // this.form.port = this.$store.state.op_port;\r\n    },\r\n    saveSetting() {\r\n      this.form.ip = window.localStorage.setItem('op_ip', this.form.ip);\r\n      this.form.port = window.localStorage.setItem('op_port', this.form.port);\r\n      // this.$store.state.op_ip = this.form.ip;\r\n      // this.$store.state.op_port = this.form.port;\r\n      this.dialogVisible = false;\r\n    },\r\n    funcBtnName() {\r\n      if (this.pause === true) {\r\n        return '开始';\r\n      } else if (this.pause === false) {\r\n        return '暂停';\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n.appControl {\r\n  // background: url('~@/assets/img/kanban/background.png') no-repeat;\r\n  // background-size: 100% 100%;\r\n  overflow: hidden;\r\n  height: 100%;\r\n  width: 100%;\r\n  text-align: center;\r\n  background: linear-gradient(0deg, #0A1172 0%, #122489 100%);\r\n}\r\n.setting{\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n}\r\n.logo_st {\r\n  width: 27%;\r\n  height: 2.8%;\r\n  background-image: url('~@/assets/img/app/Shattrath.png');\r\n  background-size: 100% 100%;\r\n  background-repeat: no-repeat;\r\n  margin: 10px 0px 0px 10px;\r\n}\r\n\r\n.appContent .el-button{\r\n  width: 80%;\r\n  height: 110px;\r\n  margin: 10px 0;\r\n  /deep/ span{\r\n    font-size: 26px!important;\r\n  }\r\n}\r\n\r\n.noBtn{\r\n    height: 30px;\r\n    font-size: 18px;\r\n    // background: #E20606;\r\n    background: rgba(255,255,255,0.2);\r\n    box-shadow: 0px 0px 4px 1px rgba(199,199,199,0.89);\r\n    border-radius: 16px;\r\n    color: #ddd;\r\n    padding: 5px 10px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.passBtn{\r\n    height: 30px;\r\n    font-size: 18px;\r\n    background: #05C4AB;\r\n    box-shadow: 0px 0px 4px 1px rgba(199,199,199,0.89);\r\n    border-radius: 16px;\r\n    color: #fff;\r\n    padding: 5px 10px;\r\n    margin-right: 10px;\r\n}\r\n\r\n.headTitle{\r\n  color: #fff;\r\n  padding: 5px;\r\n  height: 30px;\r\n  font-size: 26px;\r\n}\r\n.headDiv{\r\n  margin: 10px 0;\r\n}\r\n\r\n.head{\r\n  clear: both;\r\n  text-align: left;\r\n  margin: 15px;\r\n  margin-top: 20px;\r\n}\r\n.appContent{\r\n  margin-top: 30px;\r\n}\r\n.appContent .el-row{\r\n  margin: 0px 0;\r\n}\r\n.el-row .el-col:nth-child(odd){\r\n  text-align: right;\r\n}\r\n.el-row .el-col:nth-child(even){\r\n  text-align: left;\r\n}\r\n\r\n/deep/.el-button--primary.is-plain {\r\n    color: #409EFF;\r\n    background: none;\r\n    border-color:transparent;\r\n    background-image: url('~@/assets/img/app/1.png');\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n}\r\n/deep/.el-button--primary.is-plain:active {\r\n    background: none;\r\n    border-color:transparent;\r\n    color: #1ED2FF;\r\n    outline: 0;\r\n    background-image: url('~@/assets/img/app/2.png');\r\n    background-size: 100% 100%;\r\n    background-repeat: no-repeat;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appControl.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./appControl.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./appControl.vue?vue&type=template&id=4d12194d&scoped=true&\"\nimport script from \"./appControl.vue?vue&type=script&lang=js&\"\nexport * from \"./appControl.vue?vue&type=script&lang=js&\"\nimport style0 from \"./appControl.vue?vue&type=style&index=0&id=4d12194d&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4d12194d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}