(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d0e0890"],{"0cca":function(e,t,n){},"59f1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"setCommonFunctions"},[a("HeaderButtons",{attrs:{showRefresh:!0,cssType:1},on:{buttonClickEvent:e.buttonClickEvent}}),a("el-row",{staticStyle:{height:"calc(100% - 40px)"}},[a("el-col",{staticClass:"menu-list",attrs:{span:3}},[a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"collapse-transition":!1,"background-color":"#eff5ff","text-color":"#303133","active-text-color":"#FFF","unique-opened":""}},e._l(e.$store.state.pageInfo.menuList,(function(t){return a("el-menu-item",{key:t.entity.id,attrs:{index:t.entity.menuName},on:{click:function(n){return e.handleRouter(t)}}},[a("div",{staticClass:"img-wrapper"},[a("img",{staticClass:"pic-text-spacing",attrs:{src:n("1af5")("./SideNavBar"+t.entity.icon),alt:""}})]),a("span",{staticClass:"position",attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.entity.menuName))])])})),1)],1),a("el-col",{attrs:{span:21}},[a("children-menu",{attrs:{data:e.childrenMenuDatas}})],1)],1)],1)},o=[],i=(n("c975"),n("ac1f"),n("5319"),n("96cf"),n("1da1")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},e._l(this.newData,(function(t,a){return n("div",{key:a,staticClass:"one-list"},[n("div",{staticClass:"title"},[n("span",{staticClass:"head-title-span"},[e._v(e._s(t.entity.menuName))])]),n("div",{staticClass:"bottom-content"},e._l(t.children,(function(t,a){return n("div",{key:a,staticClass:"more",on:{click:function(n){return e.pageJump(t)}}},[1730===t.entity.id&&e.num?n("el-badge",{staticClass:"item",attrs:{value:e.num}},[n("a",{attrs:{href:"javascript:;"}},[n("span",[e._v(e._s(t.entity.menuName))]),n("i",{staticClass:"star",class:{"el-icon-star-on":1===t.entity.useFlag,"yellow-color":1===t.entity.useFlag,"el-icon-star-off":1!==t.entity.useFlag},on:{click:function(n){return e.setCheckStatus(t.entity,n)}}})])]):n("a",{attrs:{href:"javascript:;"}},[n("span",[e._v(e._s(t.entity.menuName))]),n("i",{staticClass:"star",class:{"el-icon-star-on":1===t.entity.useFlag,"yellow-color":1===t.entity.useFlag,"el-icon-star-off":1!==t.entity.useFlag},on:{click:function(n){return e.setCheckStatus(t.entity,n)}}})])],1)})),0)])})),0)},c=[],r=(n("99af"),n("1276"),n("3fa5")),l=n("99f6"),u=n("a417"),m={name:"childrenMenu",components:{},props:["data"],watch:{data:{handler:function(e){this.newData=e},immediate:!0,deep:!0}},created:function(){},mounted:function(){},data:function(){return{newData:[],num:0}},methods:{pageJump:function(e){if(console.log(e),"DNC系统"===e.entity.menuName){var t=localStorage.getItem("token")||"";window.open(l["g"],t)}else if("MES系统"===e.entity.menuName){var n="";if("undefined"===localStorage.getItem("mesToken"))window.open(l["r"]);else{var a=localStorage.getItem("mesTokenHeader");n=localStorage.getItem("mesToken"),window.open(l["r"]+"?tokenHead="+a+"&token="+n,n)}}else if("车间看板"===e.entity.menuName)window.open("/kanban?cid="+localStorage.getItem("companyId"));else if("1"===e.entity.extend02){var o=e.entity.url.split("?")[0];window.open("".concat(o,"?cid=").concat(localStorage.getItem("companyId")))}else"安灯车间看板"===e.entity.menuName?window.open("/kanban_andon?cid="+localStorage.getItem("companyId")):e.entity.menuName.indexOf("IMP")>-1||e.entity.menuName.indexOf("SCADA")>-1?window.open(e.entity.url):(console.log(e),this.$router.push(e.entity.url))},setCheckStatus:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var o,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.stopPropagation(),o=n.$loading({body:!0,lock:!0,text:"设置提交中..."}),i=1===e.useFlag?u["b"]:u["a"],a.prev=3,a.next=6,i({menuId:e.id});case 6:s=a.sent,o.close(),"0000"===s.code?(Object(r["b"])(s.message),e.useFlag=0===e.useFlag?1:0):Object(r["a"])(s.message),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](3),Object(r["a"])(a.t0);case 15:case 16:case"end":return a.stop()}}),a,null,[[3,12]])})))()}}},d=m,f=(n("f1b7"),n("2877")),p=Object(f["a"])(d,s,c,!1,null,"2990735e",null),g=p.exports,w={name:"setCommonFunctionsIndex",components:{childrenMenu:g},data:function(){return{loading:!1,totalList:[],childrenMenuDatas:[]}},created:function(){},methods:{buttonClickEvent:function(e,t){this["".concat(e)]()},refresh:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$store.dispatch("pageInfo/getMenuButton");case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},handleRouter:function(e){if("DNC系统"===e.entity.menuName){var t=localStorage.getItem("token")||"";window.open(l["g"],t)}else if("MES系统"===e.entity.menuName){var n="";if("undefined"===localStorage.getItem("mesToken"))window.open(l["r"]);else{var a=localStorage.getItem("mesTokenHeader");n=localStorage.getItem("mesToken"),window.open(l["r"]+"?tokenHead="+a+"&token="+n,n)}}else"车间看板"===e.entity.menuName?window.open("/kanban?cid="+localStorage.getItem("companyId")):"安灯车间看板"===e.entity.menuName?window.open("/kanban_andon?cid="+localStorage.getItem("companyId")):(console.log(e),this.childrenMenuDatas=[e])},menuNameFunc:function(e){return"气"!==this.GAS_NAME&&e.indexOf("气")>-1?e.replace("气",this.GAS_NAME):e}}},h=w,y=(n("979a"),Object(f["a"])(h,a,o,!1,null,"3b35031e",null));t["default"]=y.exports},"979a":function(e,t,n){"use strict";var a=n("d8ce"),o=n.n(a);o.a},d8ce:function(e,t,n){},f1b7:function(e,t,n){"use strict";var a=n("0cca"),o=n.n(a);o.a}}]);
//# sourceMappingURL=chunk-6d0e0890.c5259e59.js.map