(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7de2af54"],{"03a2":function(e,t,a){},"07ac":function(e,t,a){var n=a("23e7"),i=a("6f53").values;n({target:"Object",stat:!0},{values:function(e){return i(e)}})},"19d0":function(e,t,a){},"1bb8":function(e,t,a){"use strict";var n=a("f356"),i=a.n(n);i.a},"23b3":function(e,t,a){"use strict";var n=a("03a2"),i=a.n(n);i.a},"2a88":function(e,t,a){"use strict";var n=a("f8d5"),i=a.n(n);i.a},"368a":function(e,t,a){},"39df":function(e,t,a){"use strict";var n=a("368a"),i=a.n(n);i.a},"3f2a":function(e,t,a){"use strict";a.d(t,"q",(function(){return i})),a.d(t,"u",(function(){return r})),a.d(t,"t",(function(){return o})),a.d(t,"A",(function(){return s})),a.d(t,"y",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return u})),a.d(t,"g",(function(){return d})),a.d(t,"h",(function(){return m})),a.d(t,"b",(function(){return p})),a.d(t,"w",(function(){return h})),a.d(t,"d",(function(){return f})),a.d(t,"r",(function(){return b})),a.d(t,"v",(function(){return g})),a.d(t,"z",(function(){return v})),a.d(t,"c",(function(){return C})),a.d(t,"x",(function(){return T})),a.d(t,"i",(function(){return O})),a.d(t,"o",(function(){return N})),a.d(t,"j",(function(){return _})),a.d(t,"n",(function(){return k})),a.d(t,"k",(function(){return w})),a.d(t,"l",(function(){return E})),a.d(t,"m",(function(){return S})),a.d(t,"p",(function(){return P})),a.d(t,"s",(function(){return R})),a.d(t,"a",(function(){return x}));var n=a("b775"),i=function(e,t){return Object(n["a"])("export/exportUserTemplate.action?",e,t)},r=function(e,t){return Object(n["a"])("export/exportParameterWarningUnProcess.action?",e,t)},o=function(e,t){return Object(n["a"])("export/exportParameterWarningProcess.action?",e,t)},s=function(e,t){return Object(n["a"])("export/exportWarningUnprocessed.action?",e,t)},c=function(e,t){return Object(n["a"])("export/exportWarningProcessed.action?",e,t)},l=function(e,t){return Object(n["a"])("export/exportEnergyMonitor.action?",e,t)},u=function(e,t){return Object(n["a"])("export/exportEnergyMonitorHistory.action?",e,t)},d=function(e,t){return Object(n["a"])("export/exportCheckItemTemplate.action?",e,t)},m=function(e,t){return Object(n["a"])("export/exportDeviceTemplate.action?",e,t)},p=function(e,t){return Object(n["a"])("deviceAdmin/exportDeviceCollectTypeTemplate.action?",e,t)},h=function(e,t){return Object(n["a"])("export/exportStatisticsOfCropMovementRate.action?",e,t)},f=function(e,t){return Object(n["a"])("export/exportDevicesEfficiencyStatistics.action?",e,t)},b=function(e){return Object(n["c"])("template/MaintainDataTemplates.xlsx",e)},g=function(e,t){return Object(n["a"])("export/exportRepairTaskTemplate.action?",e,t)},v=function(e,t){return Object(n["a"])("export/exportWarningStatistics.action?",e,t)},C=function(e,t){return Object(n["a"])("export/exportDeviceOEE.action?",e,t)},T=function(e,t){return Object(n["a"])("export/exportWarningConfigTemplate.action?",e,t)},O=function(e,t){return Object(n["a"])("export/exportMaterialsTemplate.action?",e,t)},N=function(e,t){return Object(n["a"])("export/exportProductionTaskTemplate.action?",e,t)},_=function(e,t){return Object(n["a"])("export/exportProductionTask.action?",e,t)},k=function(e,t){return Object(n["a"])("export/exportProductionTaskStart.action?",e,t)},w=function(e,t){return Object(n["a"])("export/exportProductionTaskEnd.action?",e,t)},E=function(e,t){return Object(n["a"])("export/exportProductionTaskInspection.action?",e,t)},S=function(e,t){return Object(n["a"])("export/exportProductionTaskReportByCondition.action?",e,t)},P=function(e,t){return Object(n["a"])("export/exportToolTemplate.action?",e,t)},R=function(e,t){return Object(n["a"])("maintainPlan/exportMaintainPlanTemplate.action?",e,t)},x=function(e,t){return Object(n["a"])("export/exportDevice.action?",e,t)}},"46d0":function(e,t,a){"use strict";var n=a("93b0"),i=a.n(n);i.a},"49de":function(e,t,a){"use strict";a.d(t,"h",(function(){return i})),a.d(t,"i",(function(){return r})),a.d(t,"g",(function(){return o})),a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"b",(function(){return u})),a.d(t,"j",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"a",(function(){return p}));var n=a("b775"),i=function(e,t){return Object(n["k"])("materialsType/getTree.action?",e,t)},r=function(e,t){return Object(n["k"])("materialsType/insertOrUpdateBatch.action?",e,t)},o=function(e,t){return Object(n["k"])("materialsType/deleteById.action?",e,t)},s=function(e,t){return Object(n["k"])("materials/getPageMaterialsByMaterialsTypeId.action?",e,t)},c=function(e,t){return Object(n["k"])("materials/getPageMaterialsByCondition.action?",e,t)},l=function(e,t){return Object(n["k"])("materials/insertBatch.action?",e,t)},u=function(e,t){return Object(n["k"])("materials/deleteByIds.action?",e,t)},d=function(e,t){return Object(n["k"])("materials/updateById.action?",e,t)},m=function(e,t){return Object(n["k"])("materials/getListMaterialsQueryParameter.action?",e,t)},p=function(e,t){return Object(n["k"])("basicInformation/getListByBasicType.action?",e,t)}},"4eee":function(e,t,a){"use strict";a.d(t,"h",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"j",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"i",(function(){return u})),a.d(t,"d",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"k",(function(){return h})),a.d(t,"l",(function(){return f}));var n=a("b775"),i=function(e,t,a){return Object(n["k"])("export/importUser.action?",e,t,a)},r=function(e,t,a){return Object(n["k"])("export/importCheckItem.action?",e,t,a)},o=function(e,t,a){return Object(n["k"])("export/importDevice.action?",e,t,a)},s=function(e,t,a){return Object(n["k"])("/deviceAdmin/importDeviceCollectTypeTemplate.action?",e,t,a)},c=function(e,t,a){return Object(n["k"])("export/importMaintainBaseData.action?",e,t,a)},l=function(e,t,a){return Object(n["k"])("export/importRepairTask.action?",e,t,a)},u=function(e,t,a){return Object(n["k"])("export/importWarningConfig.action?",e,t,a)},d=function(e,t,a){return Object(n["k"])("export/importMaterials.action?",e,t,a)},m=function(e,t,a){return Object(n["k"])("export/importProductionTask.action?",e,t,a)},p=function(e,t,a){return Object(n["k"])("export/importTool.action?",e,t,a)},h=function(e,t,a){return Object(n["k"])("maintainPlan/importMaintainPlan.action?",e,t,a)},f=function(e,t,a){return Object(n["k"])("export/importUpdateDevice.action?",e,t,a)}},"661b":function(e,t,a){"use strict";var n=a("6cbb"),i=a.n(n);i.a},"6cbb":function(e,t,a){},"6f32":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("tree",{attrs:{nodes:e.nodes,setting:e.setting},on:{onCreated:e.handleCreated}})],1)},i=[],r=a("f419"),o=a.n(r),s={components:{tree:o.a},props:{isCheck:{type:Boolean,default:!1},isExpendAll:{type:Boolean,default:!1},isOneExpendAll:{type:Boolean,default:!1},nodes:{type:Array,default:function(){return[{}]}}},data:function(){return{selectedNode:null,ztreeObj:null,setting:{check:{enable:this.isCheck},data:{simpleData:{enable:!0,idKey:"id",pIdKey:"pId",rootPId:"0"}},callback:{onClick:this.onClick,onCheck:this.onCheck,onRightClick:this.onRightClick}}}},computed:{},created:function(){},methods:{onClick:function(e,t,a){this.selectedNode=a,this.$emit("ztreeOnClick",e,a,this.ztreeObj)},onCheck:function(e,t,a){this.$emit("ztreeOnCheck",e,a,this.ztreeObj)},handleCreated:function(e){if(this.ztreeObj=e,this.isExpendAll)e.expandAll(!0);else if(this.isOneExpendAll){var t=e.transformToArray(e.getNodes());e.expandNode(t[0],!0)}this.$emit("ztreeHandleCreated",e)},onRightClick:function(e,t,a){var n={};null===a?n=this.selectedNode:(this.selectedNode=a,n=a),this.ztreeObj.selectNode(n),this.$emit("ztreeOnRightClick",e,n,this.ztreeObj)},getNodesByParam:function(e,t,a){this.ztreeObj.expandAll(!0)},selectNode:function(e,t,a){this.ztreeObj.selectNode(e,t,a)}}},c=s,l=(a("39df"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"812aacfc",null);t["a"]=u.exports},"6f53":function(e,t,a){var n=a("83ab"),i=a("df75"),r=a("fc6a"),o=a("d1e7").f,s=function(e){return function(t){var a,s=r(t),c=i(s),l=c.length,u=0,d=[];while(l>u)a=c[u++],n&&!o.call(s,a)||d.push(e?[a,s[a]]:s[a]);return d}};e.exports={entries:s(!0),values:s(!1)}},"7be7":function(e,t,a){"use strict";var n=a("e772f"),i=a.n(n);i.a},"857a":function(e,t,a){var n=a("1d80"),i=/"/g;e.exports=function(e,t,a,r){var o=String(n(e)),s="<"+t;return""!==a&&(s+=" "+a+'="'+String(r).replace(i,"&quot;")+'"'),s+">"+o+"</"+t+">"}},"93b0":function(e,t,a){},9914:function(e,t,a){"use strict";var n=a("f8f0"),i=a.n(n);i.a},"9cdd":function(e,t,a){},a7b3:function(e,t,a){"use strict";var n=a("19d0"),i=a.n(n);i.a},af03:function(e,t,a){var n=a("d039");e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},b314:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{class:[e.$store.state.dialogMarginClass,"import-dialog"],attrs:{title:e.importDialogName,visible:e.isShow},on:{"update:visible":function(t){e.isShow=t}}},[a("span",{staticClass:"display-flex"},[a("el-link",{staticClass:"width-120 margin-right-10",attrs:{underline:!1},on:{click:e.exportTemplate}},[e._v(e._s(e.exportFileName))]),a("el-input",{staticClass:"margin-right-10",attrs:{size:"small",disabled:""},model:{value:e.importFileName,callback:function(t){e.importFileName=t},expression:"importFileName"}}),a("el-upload",{ref:"upload",staticClass:"display-flex file-upload",attrs:{action:"","auto-upload":!1,accept:".xlsx, .xls","http-request":e.submitFile,"file-list":e.importFiles,"show-file-list":!1,"on-change":e.selectFile,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError}},[a("el-button",{staticClass:"margin-right-10",attrs:{slot:"trigger",size:"small"},slot:"trigger"},[e._v(e._s(e.BTN_TEXT.CHOOSE_FILE))]),a("el-button",{staticClass:"custom-button",attrs:{size:"small",type:"primary",disabled:0===e.importFiles.length},on:{click:e.uploadBtnClick}},[e._v(e._s(e.BTN_TEXT.IMPORT))]),a("el-button",{staticClass:"custom-button",attrs:{size:"small",type:"danger"},on:{click:e.cleanFile}},[e._v("清空")])],1)],1),a("span",{directives:[{name:"show",rawName:"v-show",value:e.isUploadProgressShow,expression:"isUploadProgressShow"}],staticClass:"display-flex margin-top-15"},[a("span",[e._v(e._s(e.VARIABLE.UPLOAD_PROGRESS)+":")]),a("el-progress",{attrs:{"text-inside":!0,percentage:e.uploadPercent,"stroke-width":22,format:e.formatText,color:e.uploadProgressColor}})],1),e.errorList.length>0?a("div",{staticClass:"errorDiv"},[a("div",{staticClass:"errorTitle"},[e._v(e._s(e.VARIABLE.ERROR_INFO)+":"+e._s(e.errorList.length)+e._s(e.VARIABLE.ARTICLE))]),a("div",{staticClass:"errorListDiv"},e._l(e.errorList,(function(e,t){return a("el-alert",{key:t,attrs:{title:e.failData+"  "+e.failReason,type:"error","show-icon":""}})})),1)]):e._e()])},i=[],r=(a("b0c0"),a("582a")),o=a("3fa5"),s={components:{},props:{importDialogName:{type:String,default:""},exportFileName:{type:String,default:""}},data:function(){return{BTN_TEXT:r["c"],VARIABLE:r["P"],importFileName:"",importFiles:[],uploadPercent:0,isUploadProgressShow:!1,uploadProgressColor:"#0871dc",errorList:[],isShow:!1,limit:1}},computed:{},created:function(){},methods:{exportTemplate:function(){this.$emit("exportTemplate")},submitFile:function(e){this.isUploadProgressShow=!1,this.uploadPercent=0,this.errorList=[],this.$emit("submitImportFile",e)},selectFile:function(e,t){this.importFileName=e.name,this.importFiles=t},handleUploadSuccess:function(e){e.rows&&e.rows.length>0?(this.isUploadProgressShow=!1,this.uploadPercent=0,Object(o["a"])(r["H"].IMPORT_ERROR),e.rows&&(this.errorList=e.rows)):(this.isShow=!1,console.log("成功",e),Object(o["b"])(r["H"].IMPORT_SUCCESS),this.$emit("closeImportDialog"))},handleUploadError:function(e){console.log("失败",e),this.isUploadProgressShow=!1,this.uploadPercent=0,Object(o["a"])(e),e.rows&&(this.errorList=e.rows,console.log(this.errorList))},uploadBtnClick:function(){this.$refs.upload.submit(),this.uploadPercent=0},formatText:function(e){return"".concat(e,"%")},resetUploadProgressBar:function(){var e=this;this.isUploadProgressShow=!1,this.uploadPercent=0,this.$nextTick((function(){e.importFileName=""})),this.importFileName="",this.errorList=[]},cleanFile:function(){var e=this;this.$nextTick((function(){e.importFileName="",e.importFiles=[],e.$refs.upload.clearFiles(),e.errorList=[],e.isUploadProgressShow=!1,e.uploadPercent=0}))},cleanFile2:function(){var e=this;this.$nextTick((function(){e.importFileName="",e.importFiles=[],e.$refs.upload.clearFiles()}))}}},c=s,l=(a("2a88"),a("2877")),u=Object(l["a"])(c,n,i,!1,null,"a8356c7a",null);t["a"]=u.exports},b82e:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var n=a("b775"),i=function(e,t){return Object(n["m"])("/configure/pageUserCustom/savePageUserCustomInfo.action?",e,t)},r=function(e,t){return Object(n["m"])("/configure/pageUserCustom/getPageUserCustomDetails.action?",e,t)}},bcc1:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("vue-draggable",{staticClass:"draggable",attrs:{animation:"380",ghostClass:"ghost",handle:".move-row"},model:{value:e.headColumn,callback:function(t){e.headColumn=t},expression:"headColumn"}},e._l(e.headColumn,(function(t){return a("li",{key:t.field,staticClass:"node-row"},[a("el-checkbox",{attrs:{disabled:!0,checked:t.visible}}),a("div",{staticClass:"headProess move-row"},[a("div",{staticClass:"title move-row"},[e._v(" "+e._s(t.title)+" "),a("i",{staticClass:"icon-button",attrs:{icon:"node-move"}})]),a("div",{staticClass:"proess",style:"width:"+t.width})]),a("el-input",{model:{value:t.width,callback:function(a){e.$set(t,"width",a)},expression:"item.width"}},[a("template",{slot:"append"},[e._v("px")])],2)],1)})),0),a("vue-draggable",{staticClass:"draggable",attrs:{animation:"380",ghostClass:"ghost",handle:".move-row"},model:{value:e.middleColumn,callback:function(t){e.middleColumn=t},expression:"middleColumn"}},e._l(e.middleColumn,(function(t){return a("li",{key:t.field,staticClass:"node-row move-row"},[a("el-checkbox",{attrs:{checked:t.visible},on:{change:function(a){return e.checkChange(t)}}}),a("div",{staticClass:"headProess move-row"},[a("div",{staticClass:"title"},[e._v(" "+e._s(t.title)+" "),a("i",{staticClass:"icon-button",attrs:{icon:"node-move"}})]),a("div",{staticClass:"proess",style:"width:"+t.width})]),a("el-input",{model:{value:t.width,callback:function(a){e.$set(t,"width",a)},expression:"item.width"}},[a("template",{slot:"append"},[e._v("px")])],2)],1)})),0),a("vue-draggable",{staticClass:"draggable",attrs:{animation:"380",ghostClass:"ghost",handle:".move-row"},model:{value:e.operationColumn,callback:function(t){e.operationColumn=t},expression:"operationColumn"}},e._l(e.operationColumn,(function(t){return a("li",{key:t.field,staticClass:"node-row"},[a("el-checkbox",{attrs:{disabled:!0,checked:t.visible}}),a("div",{staticClass:"headProess move-row"},[a("div",{staticClass:"title"},[e._v(" "+e._s(t.title)+" "),a("i",{staticClass:"icon-button",attrs:{icon:"node-move"}})]),a("div",{staticClass:"proess",style:"width:"+t.width})]),a("el-input",{model:{value:t.width,callback:function(a){e.$set(t,"width",a)},expression:"item.width"}},[a("template",{slot:"append"},[e._v("px")])],2)],1)})),0),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.saveCustomColumn}},[e._v(e._s(e.BTN_TEXT.CONFIRM))]),a("el-button",{on:{click:e.canleCustomColumn}},[e._v(e._s(e.BTN_TEXT.CLOSE))]),a("el-button",{on:{click:e.resetCustomColumn}},[e._v(e._s(e.BTN_TEXT.RESTORE_DEFAULT))])],1)],1)},i=[],r=(a("99af"),a("c7cd"),a("53ca")),o=a("582a"),s=a("310e"),c=a.n(s),l={components:{VueDraggable:c.a},props:{nowColumns:{type:Array,default:function(){return[]}}},data:function(){return{first:!1,BTN_TEXT:o["c"],checkColumn:[],headColumn:[],middleColumn:[],operationColumn:[],columns:[],oldColumns:[],width:[]}},computed:{},created:function(){var e=this;this.$nextTick((function(){e.oldColumns=e.deepClone(e.nowColumns),e.checkColumn=[],e.headColumn=[],e.middleColumn=[],e.operationColumn=[],e.columns=[];for(var t=0;t<e.nowColumns.length;t++)if("checkbox"!==e.nowColumns[t].type){void 0===e.nowColumns[t].visible&&(e.nowColumns[t].visible=!0);var a={};void 0===e.nowColumns[t].width?(e.nowColumns[t].width="auto",a.width="auto",a.field=e.nowColumns[t].field):(a.width=e.nowColumns[t].width,a.field=e.nowColumns[t].field),e.width.push(a),"left"===e.nowColumns[t].fixed?e.headColumn.push(e.deepClone(e.nowColumns[t])):"right"===e.nowColumns[t].fixed?e.operationColumn.push(e.deepClone(e.nowColumns[t])):e.middleColumn.push(e.deepClone(e.nowColumns[t]))}else e.checkColumn.push(e.deepClone(e.nowColumns[t]))}))},methods:{init:function(e){var t=this;this.$nextTick((function(){t.checkColumn=[],t.headColumn=[],t.middleColumn=[],t.operationColumn=[],t.columns=[],setTimeout((function(){for(var a=0;a<e.length;a++)if("checkbox"!==e[a].type){for(var n in void 0===e[a].visible&&(e[a].visible=!0),t.width)t.width[n].field===e[a].field&&(e[a].width=t.width[n].width);"left"===e[a].fixed?t.headColumn.push(e[a]):"right"===e[a].fixed?t.operationColumn.push(e[a]):t.middleColumn.push(e[a])}else t.checkColumn.push(e[a])}),0)}))},saveCustomColumn:function(){var e=this;this.columns=[],this.columns=this.columns.concat(this.checkColumn).concat(this.headColumn).concat(this.middleColumn).concat(this.operationColumn),setTimeout((function(){for(var t in e.oldColumns=e.deepClone(e.columns),e.width=[],e.columns){var a={};a.width=e.nowColumns[t].width,a.field=e.nowColumns[t].field,e.width.push(a)}e.$emit("saveCustomColumn",e.columns)}),150)},deepClone:function(e){var t=Array.isArray(e)?[]:{};if(e&&"object"===Object(r["a"])(e))for(var a in e)e.hasOwnProperty(a)&&(e[a]&&"object"===Object(r["a"])(e[a])?t[a]=this.deepClone(e[a]):t[a]=e[a]);return t},checkChange:function(e){e.visible=!e.visible},canleCustomColumn:function(){this.$emit("showCustomColumn")},resetCustomColumn:function(){this.$emit("resetCustomColumn")}}},u=l,d=(a("9914"),a("2877")),m=Object(d["a"])(u,n,i,!1,null,"17e8e46c",null);t["a"]=m.exports},be7c:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"customize-column-dialog",attrs:{"show-close":!1,visible:e.isDialogShow,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isDialogShow=t}}},[a("span",{attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"customize-column-dialog__title"},[e._v(e._s(e.dialogTitle))]),a("span",{staticClass:"customize-column-dialog__prompt"},[e._v("勾选需要显示的列，拖动列名进行排序")])]),a("div",{staticStyle:{height:"400px",overflow:"auto"}},[a("vue-draggable",{attrs:{animation:"380",ghostClass:"ghost",handle:".move-row",scroll:""},model:{value:e.tempTableColumns,callback:function(t){e.tempTableColumns=t},expression:"tempTableColumns"}},e._l(e.tempTableColumns,(function(t,n){return a("li",{key:n,staticClass:"column-row"},[a("el-checkbox",{staticClass:"column-row__checkbox",attrs:{disabled:t.required},model:{value:t.visible,callback:function(a){e.$set(t,"visible",a)},expression:"column.visible"}}),a("span",{staticClass:"column-row__tilte",class:t.required?"":"move-row"},[e._v(e._s(t.title))]),a("el-input",{staticClass:"column-low__input",attrs:{size:"mini"},model:{value:t.width,callback:function(a){e.$set(t,"width",a)},expression:"column.width"}}),a("span",{staticClass:"column-row__unit"},[e._v("px")])],1)})),0)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"custom-button",attrs:{plain:""},on:{click:e.handleResetEvent}},[e._v(" 恢复默认 ")]),a("el-button",{staticClass:"custom-button",attrs:{plain:""},on:{click:e.handleCloseEvent}},[e._v(" 关闭 ")]),a("el-button",{staticClass:"custom-button",attrs:{type:"primary"},on:{click:e.handleSaveEvent}},[e._v(" 保存 ")])],1)])},i=[],r=(a("a434"),a("b85c")),o=a("310e"),s=a.n(o),c={name:"dialogCustomizeColumnsDialogSettingColumn",components:{VueDraggable:s.a},props:{pageColumns:{type:Array,default:function(){return[]},required:!0},showSettingDialog:{type:Boolean,default:function(){return!1}},defaultColumns:{type:Array,default:function(){return[]},required:!0}},watch:{pageColumns:{handler:function(e){var t,a;this.tempTableColumns.splice(0);var n,i=[],o=Object(r["a"])(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.field&&s.title&&i.push({field:s.field,title:s.title,width:s.minWidth||"100",visible:s.visible,required:s.required})}}catch(c){o.e(c)}finally{o.f()}(t=this.tempTableColumns).push.apply(t,i),(a=this.initTableColumns).push.apply(a,i)},immediate:!0,deep:!0},defaultColumns:{handler:function(e){var t;this.defaultTableColumns.splice(0);var a,n=[],i=Object(r["a"])(e);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.field&&n.push({field:o.field,title:o.title,width:o.minWidth||"100",visible:o.visible,required:o.required})}}catch(s){i.e(s)}finally{i.f()}(t=this.defaultTableColumns).push.apply(t,n)},immediate:!0,deep:!0},showSettingDialog:{handler:function(e){this.isDialogShow=e},immediate:!0}},data:function(){return{dialogTitle:"自定义列",isDialogShow:!1,tempTableColumns:[],initTableColumns:[],defaultTableColumns:[]}},methods:{handleSaveEvent:function(){this.$emit("saveMyColumnSetting",this.tempTableColumns)},handleCloseEvent:function(){for(var e=this.tempTableColumns.length,t=!0,a=0;a<e;a++){var n=this.tempTableColumns[a],i=this.initTableColumns[a];if(n.field!==i.field){t=!1;break}if(n.width!==i.width){t=!1;break}if(n.visible!==i.visible){t=!1;break}}if(!t){var o,s,c=[],l=Object(r["a"])(this.pageColumns);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.field&&c.push({field:u.field,title:u.title,width:u.minWidth||"100",visible:u.visible,required:u.required})}}catch(d){l.e(d)}finally{l.f()}this.tempTableColumns.splice(0),(o=this.tempTableColumns).push.apply(o,c)}this.$emit("update:showSettingDialog",!1)},handleResetEvent:function(){var e,t,a=[],n=Object(r["a"])(this.defaultColumns);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.field&&a.push({field:i.field,title:i.title,width:i.minWidth||"100",visible:i.visible,required:i.required})}}catch(o){n.e(o)}finally{n.f()}this.tempTableColumns.splice(0),(e=this.tempTableColumns).push.apply(e,a)}}},l=c,u=(a("1bb8"),a("2877")),d=Object(u["a"])(l,n,i,!1,null,"2d822b9c",null);t["a"]=d.exports},c4c8:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"n",(function(){return r})),a.d(t,"l",(function(){return o})),a.d(t,"s",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"m",(function(){return l})),a.d(t,"t",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"E",(function(){return m})),a.d(t,"q",(function(){return p})),a.d(t,"b",(function(){return h})),a.d(t,"r",(function(){return f})),a.d(t,"z",(function(){return b})),a.d(t,"d",(function(){return g})),a.d(t,"D",(function(){return v})),a.d(t,"A",(function(){return C})),a.d(t,"B",(function(){return T})),a.d(t,"o",(function(){return O})),a.d(t,"f",(function(){return N})),a.d(t,"g",(function(){return _})),a.d(t,"h",(function(){return k})),a.d(t,"k",(function(){return w})),a.d(t,"j",(function(){return E})),a.d(t,"v",(function(){return S})),a.d(t,"p",(function(){return P})),a.d(t,"u",(function(){return R})),a.d(t,"y",(function(){return x})),a.d(t,"w",(function(){return D})),a.d(t,"x",(function(){return I})),a.d(t,"C",(function(){return A})),a.d(t,"i",(function(){return j}));var n=a("b775"),i=function(e,t){return Object(n["k"])("deviceRealProduction/getDeviceRealProductionByDeviceCode.action?",e,t)},r=function(e,t){return Object(n["k"])("productionTask/getPageProductionTaskByCondition.action?",e,t)},o=function(e,t){return Object(n["k"])("productionTask/getListProductionTaskQueryParameter.action?",e,t)},s=function(e,t){return Object(n["k"])("productionTask/insertBatch.action?",e,t)},c=function(e,t){return Object(n["k"])("productionTask/deleteByIds.action?",e,t)},l=function(e,t){return Object(n["k"])("productionTask/getOperatorUser.action?",e,t)},u=function(e,t){return Object(n["k"])("productionTask/insertOrUpdateBatch.action?",e,t)},d=function(e,t){return Object(n["k"])("deviceGroup/getListGroupAndProductionLine.action?",e,t)},m=function(e,t){return Object(n["k"])("productionTask/updateById.action?",e,t)},p=function(e,t){return Object(n["k"])("productionTask/getPageProductionTaskRecordById.action?",e,t)},h=function(e,t){return Object(n["k"])("deviceRealParameterValue/getPageDeviceProductionSnapshot.action?",e,t)},f=function(e,t){return Object(n["k"])("productionTask/getPageProductionTaskStartByCondition.action?",e,t)},b=function(e,t){return Object(n["k"])("productionTaskStart/getListProductionTaskStartQueryParameter.action?",e,t)},g=function(e,t){return Object(n["k"])("deviceRealProduction/getListByGroupId.action?",e,t)},v=function(e,t){return Object(n["k"])("productionTaskStart/insertProductionTaskStartRecord.action?",e,t)},C=function(e,t){return Object(n["k"])("productionTaskStart/getListProductionTaskStartRecordQueryParameter.action?",e,t)},T=function(e,t){return Object(n["k"])("productionTaskStart/getPageProductionTaskStartRecordByCondition.action?",e,t)},O=function(e,t){return Object(n["k"])("productionTask/getPageProductionTaskEndByCondition.action?",e,t)},N=function(e,t){return Object(n["k"])("productionTaskEnd/getListProductionTaskEndQueryParameter.action?",e,t)},_=function(e,t){return Object(n["k"])("productionTaskEnd/getListProductionTaskEndRecordQueryParameter.action?",e,t)},k=function(e,t){return Object(n["k"])("productionTaskEnd/getPageProductionTaskEndRecordByCondition.action?",e,t)},w=function(e,t){return Object(n["k"])("productionTaskEnd/insertProductionTaskEndRecord.action?",e,t)},E=function(e,t){return Object(n["k"])("productionTaskEnd/getProductionTaskStartRecordByProductionId.action?",e,t)},S=function(e,t){return Object(n["k"])("productionTaskInspection/getListProductionTaskInspectionQueryParameter.action?",e,t)},P=function(e,t){return Object(n["k"])("productionTask/getPageProductionTaskInspectionByCondition.action?",e,t)},R=function(e,t){return Object(n["k"])("productionTaskInspection/getListInspectionType.action?",e,t)},x=function(e,t){return Object(n["k"])("productionTaskInspection/insertProductionTaskInspection.action?",e,t)},D=function(e,t){return Object(n["k"])("productionTaskInspection/getListProductionTaskInspectionRecordQueryParameter.action?",e,t)},I=function(e,t){return Object(n["k"])("productionTaskInspection/getPageProductionTaskInspectionRecordByCondition.action?",e,t)},A=function(e,t){return Object(n["k"])("productionTaskStart/getPageProductionTaskStartRecordByCurrentUser.action?",e,t)},j=function(e,t){return Object(n["k"])("productionTaskEnd/getPageProductionTaskEndRecordByCurrentUser.action?",e,t)}},c7cd:function(e,t,a){"use strict";var n=a("23e7"),i=a("857a"),r=a("af03");n({target:"String",proto:!0,forced:r("fixed")},{fixed:function(){return i(this,"tt","","")}})},e772f:function(e,t,a){},edeb:function(e,t,a){"use strict";var n=a("9cdd"),i=a.n(n);i.a},f2638:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.showPage,expression:"showPage === 0"}]},[a("el-container",{staticClass:"content"},[a("el-header",[a("HeaderTitle",{staticClass:"header-title",attrs:{flag:!1},on:{searchButtonClick:e.showSearchCard}},[a("div",{staticClass:"head-operation",attrs:{slot:"head-operation"},slot:"head-operation"},[a("HeadOperationItem",{attrs:{name:"addDevice"},on:{onOprationItem:e.togglePage}},[a("i",{staticClass:"icon-batchAdd",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.CONSTANTS_PRODUCT.ADD_WORK))])]),a("HeadOperationItem",{attrs:{name:"addDevice"},on:{onOprationItem:function(t){return e.exportTable()}}},[a("i",{staticClass:"icon-export",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.EXPORT))])]),a("HeadOperationItem",{attrs:{name:"showInfo"},on:{onOprationItem:function(t){return e.refreshTable()}}},[a("i",{staticClass:"icon-refresh",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.REFRESH))])])],1)])],1),a("header-search",{attrs:{"show-primary-search":!0,cssType:"1"},on:{refreshTableData:e.refreshTableData}}),a("el-main",[a("div",{staticClass:"area-main"},[a("div",{staticClass:"area-info"},[[a("div",{staticClass:"userInformation"},[a("div",{staticStyle:{"text-align":"left","margin-bottom":"5px"}},[a("span",[e._v("设备名称：")]),a("el-input",{staticStyle:{width:"200px"},attrs:{size:"mini"},model:{value:e.deviceName,callback:function(t){e.deviceName=t},expression:"deviceName"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.findList()}}},[e._v(e._s(e.BTN_TEXT.SEARCH))]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.resetDevName()}}},[e._v(e._s(e.BTN_TEXT.RESET))])],1),a("VXETable",{ref:"xGrid",attrs:{id:"table",tableName:e.tableName,height:e.$options.filters.getTableHeight(240),tableLoading:e.tableLoading,"pager-config":e.tablePage,tableDatas:e.tableDatas,tableColumns:e.myTableColumns,tablePage:e.tablePage},on:{onTablePageChange:e.onTablePageChange,chooseCheck:e.tableChooseCheck}},[a("div",{staticClass:"tableOperations",attrs:{slot:"tableOperation"},slot:"tableOperation"},[a("div",{staticClass:"tableOperation-item"},[a("HeadOperationItem",{attrs:{name:"batchDeleteStaff"},on:{onOprationItem:function(t){return e.deteleall()}}},[a("i",{staticClass:"icon-batchDelete",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.BATCH_DELETE))])]),a("HeadOperationItem",{attrs:{name:"batchDeleteStaff"},on:{onOprationItem:function(t){return e.finishall()}}},[a("i",{staticClass:"icon-batchDelete",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.BATCH_FINISH))])])],1)])])],1)]],2)])]),a("el-dialog",{class:e.$store.state.dialogMarginClass,attrs:{title:e.BTN_TEXT.MODIFY,width:"800px",visible:e.dialogVisibleUpdate},on:{"update:visible":function(t){e.dialogVisibleUpdate=t}}},[a("el-form",{ref:"updateForm",staticClass:"dialogForm updateForm",attrs:{"label-width":"100px",model:e.formUpdate,rules:e.rulesUpdate}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.CONSTANTS_PRODUCT.CREATE_DATE}},[a("el-input",{attrs:{value:e.moment(e.formUpdate.createTime).format("YYYY-MM-DD"),disabled:!0}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.CONSTANTS_PRODUCT.WORK_CODE}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formUpdate.taskCode,callback:function(t){e.$set(e.formUpdate,"taskCode",t)},expression:"formUpdate.taskCode"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.CONSTANTS_PRODUCT.MATERIAL_NAME}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formUpdate.materialsName,callback:function(t){e.$set(e.formUpdate,"materialsName",t)},expression:"formUpdate.materialsName"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.CONSTANTS_PRODUCT.MATERIAL_CODE}},[a("el-input",{attrs:{readonly:!0},model:{value:e.formUpdate.materialsCode,callback:function(t){e.$set(e.formUpdate,"materialsCode",t)},expression:"formUpdate.materialsCode"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.showMaterial},slot:"append"})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.CONSTANTS_PRODUCT.MATERIAL_NORMS}},[a("el-input",{attrs:{disabled:!0},model:{value:e.formUpdate.materialsModel,callback:function(t){e.$set(e.formUpdate,"materialsModel",t)},expression:"formUpdate.materialsModel"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.CONSTANTS_PRODUCT.WORK_NUM,prop:"taskCount"}},[a("el-input",{attrs:{type:"number",min:0,max:99999999},model:{value:e.formUpdate.taskCount,callback:function(t){e.$set(e.formUpdate,"taskCount",t)},expression:"formUpdate.taskCount"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.CONSTANTS_PRODUCT.MODULE_NUM,prop:"modelNumber"}},[a("el-input",{model:{value:e.formUpdate.modelNumber,callback:function(t){e.$set(e.formUpdate,"modelNumber",t)},expression:"formUpdate.modelNumber"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.CONSTANTS_PRODUCT.TASK_DUE_DATE,prop:"taskDeliveryTime"}},[a("el-date-picker",{staticClass:"formItem_full",attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.formUpdate.taskDeliveryTime,callback:function(t){e.$set(e.formUpdate,"taskDeliveryTime",t)},expression:"formUpdate.taskDeliveryTime"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.CONSTANTS_PRODUCT.OPERATOR,prop:"operatorUserId"}},[a("el-select",{staticClass:"formItem_full",model:{value:e.formUpdate.operatorUserId,callback:function(t){e.$set(e.formUpdate,"operatorUserId",t)},expression:"formUpdate.operatorUserId"}},e._l(e.userOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:e.CONSTANTS_PRODUCT.CUSTOMER,prop:"client"}},[a("el-input",{model:{value:e.formUpdate.client,callback:function(t){e.$set(e.formUpdate,"client",t)},expression:"formUpdate.client"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:e.CONSTANTS_PRODUCT.REMARK,prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.formUpdate.remark,callback:function(t){e.$set(e.formUpdate,"remark",t)},expression:"formUpdate.remark"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.submitUpdate}},[e._v(e._s(e.BTN_TEXT.CONFIRM))]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisibleUpdate=!1}}},[e._v(e._s(e.BTN_TEXT.CANCEL))])],1)],1),a("el-dialog",{class:e.$store.state.dialogMarginClass,attrs:{title:e.BTN_TEXT.PRINT,width:"550px",visible:e.dialogVisiblePrint},on:{"update:visible":function(t){e.dialogVisiblePrint=t}}},[a("table",{staticClass:"printTable",attrs:{id:"printDiv",border:"1"}},[a("tr",[a("td",{staticClass:"title",attrs:{colspan:"2"}},[e._v(e._s(e.CONSTANTS_PRODUCT.WORK_CARD))]),a("td",{attrs:{colspan:"2",rowspan:"3"}},[a("el-image",{attrs:{src:e.taskQRcode}})],1)]),a("tr",[a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.WORK_CODE))]),a("td",[e._v(e._s(e.clickRow.taskCode))])]),a("tr",[a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.MATERIAL_NORMS))]),a("td",[e._v(e._s(e.clickRow.materialsModel))])]),a("tr",[a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.MATERIAL_NAME))]),a("td",[e._v(e._s(e.clickRow.materialsName))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.WORK_NUM))]),a("td",[e._v(e._s(e.clickRow.taskCount))])]),a("tr",[a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.LINE_NAME))]),a("td",[e._v(e._s(e.clickRow.groupName))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.FINISH_NUM))]),a("td",[e._v(e._s(e.clickRow.completeCount))])]),a("tr",[a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.GROUP_NAME))]),a("td",[e._v(e._s(e.clickRow.workshop))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.NG_NUM))]),a("td",[e._v(e._s(e.clickRow.ngCount))])])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{directives:[{name:"print",rawName:"v-print",value:"#printDiv",expression:"'#printDiv'"}],attrs:{type:"primary"}},[e._v(e._s(e.BTN_TEXT.PRINT))]),a("el-button",{on:{click:function(t){e.dialogVisiblePrint=!1}}},[e._v(e._s(e.BTN_TEXT.CANCEL))])],1)]),a("dialog-setting-column",{attrs:{"show-setting-dialog":e.isSettingCustomDialogShow,"default-columns":e.tableColumns_old2,"page-columns":e.myTableColumns},on:{"update:showSettingDialog":function(t){e.isSettingCustomDialogShow=t},"update:show-setting-dialog":function(t){e.isSettingCustomDialogShow=t},saveMyColumnSetting:e.handleSaveColumnSetting}}),e.isImportDialogShow?a("ImportDialog",{ref:"ImportDialog",attrs:{importDialogName:e.EXPORT_NAME.TASK_TITLE,exportFileName:e.EXPORT_NAME.TASK_TEMPLATE},on:{exportTemplate:e.exportTemplate,submitImportFile:e.submitImportFile,findTableList:e.findList,closeImportDialog:e.closeImportDialog}}):e._e()],1)],1),1===e.showPage?a("div",[a("addTask",{on:{goBack:e.goBack}})],1):e._e(),2===e.showPage?a("div",[a("taskInfo",{attrs:{form:e.clickRow},on:{goBack:e.goBack}})],1):e._e(),3===e.showPage?a("div",[a("materialDialog",{ref:"materialDialog",attrs:{isFunc:!0},on:{hideMaterial:e.hideMaterial,dbclickRows:e.dbclickRows}})],1):e._e()])},i=[],r=(a("99af"),a("d81d"),a("fb6a"),a("a434"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("2909")),o=(a("96cf"),a("1da1")),s=a("85a8"),c=a("5861"),l=a("cf46"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"content"},[a("el-header",[a("HeaderTitle",{staticClass:"header-title",attrs:{titleName:"选择物料",flag:!0},on:{searchButtonClick:e.showSearchCard}},[a("div",{staticClass:"head-operation",attrs:{slot:"head-operation"},slot:"head-operation"},[a("el-button",{attrs:{type:"default",size:"mini"},on:{click:e.hideMaterial}},[e._v(e._s(e.BTN_TEXT.RETURN))])],1)])],1),a("el-main",[a("search-box",{directives:[{name:"show",rawName:"v-show",value:e.isSearchBoxShow,expression:"isSearchBoxShow"}],attrs:{searchList:e.srearchList},on:{searchBtnClick:e.findTable}}),a("div",{staticClass:"area-main"},[a("div",{staticClass:"area-aside"},[a("div",{staticClass:"area-tree"},[a("HeaderTitle",{staticClass:"header-title",attrs:{titleName:"物料类型"}}),a("div",{staticClass:"area-zTree"},[a("ZTree",{attrs:{nodes:e.nodeData},on:{ztreeOnClick:e.ztreeOnClick,ztreeHandleCreated:e.ztreeHandleCreated}})],1)],1)]),a("div",{staticClass:"area-info"},[[a("div",{staticClass:"userInformation"},[a("HeaderTitle",{staticClass:"header-title",attrs:{titleName:e.HeadTitleName}},[a("div",{staticClass:"head-search",staticStyle:{color:"#409eff"},attrs:{slot:"head-search"},slot:"head-search"},[e._v("双击物料选择")])]),a("VXETable",{ref:"xGrid",attrs:{id:"table",tableName:e.tableName,tableLoading:e.tableLoading,"pager-config":e.tablePage,tableDatas:e.tableDatas,tableColumns:e.tableColumns,tablePage:e.tablePage},on:{onTablePageChange:e.onTablePageChange,dbclickRows:e.dbclickRows}})],1)]],2)])],1)],1)},d=[],m=(a("a15b"),a("b0c0"),a("6f32")),p=a("3fa5"),h=a("6464"),f=a("582a"),b=a("eec9"),g=a("49de"),v={components:{HeaderTitle:s["a"],HeadOperationItem:c["a"],VXETable:l["a"],ZTree:m["a"],SearchBox:b["a"]},data:function(){return{EXPORT_NAME:f["y"],VARIABLE:f["P"],BTN_TEXT:f["c"],CONSTANTS_MATERIAL:f["k"],deviceQRcode:"",deviceName:"",formUpdate:{},typeOptions:[],typeOptionsY:[],groupOptions:[],rulesUpdate:{materialsCode:[{required:!0,message:f["H"].PLEASE_ENTER_CONTENT},{max:20,message:"长度不得大于20个字符"}],materialsName:[{required:!0,message:f["H"].PLEASE_ENTER_CONTENT},{max:20,message:"长度不得大于20个字符"}],materialsModel:[{max:50,message:"长度不得大于50个字符"}],materialsTypeId:[{required:!0,message:f["H"].PLEASE_CHOOSE_CONTENT}]},HeadTitleUrl:"",HeadTitleName:f["k"].MATERIAL_LIST,searchIdArr:[],deviceChecks:[],tableName:"device",radio:1,radioType:1,radioTypeDisabled:[1,2,3],tabPosition:"group",showModelItem:!1,fatherNodeData:[],showPage:0,modelOptions:[],materialsUnitList:[],materialsAttributes:[],formParams:{model:null},formInline:{cnName:"",shortName:"",parameterName:"",isWarning:"null"},rules:{name:[{required:!0,message:f["H"].PLEASE_ENTER_CONTENT,trigger:"blur"}]},operaType:1,formLabelWidth:"150px",formLabelWidthShort:"50px",rightMenu:[],form:{name:""},titlename:"",dialogVisibleQrCode:!1,dialogVisibleUpdate:!1,dialogVisible:!1,ztreeObj:{},ztreeSelectedNode:{id:"-1",pId:"-1"},nodeData:[],tableLoading:!1,tablePage:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0,slots:{left:"pager_left"}},tableDatas:[],tableColumns:[],tableColumns_old:[{type:"checkbox",width:"50",fixed:"left",align:"center"},{field:"materialsCode",title:f["k"].MATERIAL_CODE,width:"auto",fixed:"left",align:"center"},{field:"materialsName",title:f["k"].MATERIAL_NAME,width:"auto",fixed:"left",align:"center"},{field:"materialsModel",title:f["k"].MATERIAL_MODEL,width:"auto",align:"center"},{field:"materialsAttributesName",title:f["k"].MATERIAL_ATTR,width:"auto",align:"center"},{field:"materialsTypeName",title:f["k"].MATERIAL_TYPE,width:"auto",align:"center"},{field:"materialsUnit",title:f["k"].MATERIAL_UNIT,width:"auto",align:"center"}],tableColumns_head:[],tableColumns_operation:[],extendPropertyVoList:[],searchData:[],srearchList:[],isSearchBoxShow:!1,dialogVisibleCustomColumn:!1,isImportDialogShow:!1}},computed:{},created:function(){this.GetListQueryParameter(),this.getTree(),this.setTableColume(),this.findList()},watch:{},methods:{hideMaterial:function(){this.$emit("hideMaterial")},ztreeOnClick:function(e,t,a){this.searchIdArr=[];var n=[];n.push(t.name);var i=t.getParentNode();while(i)n.push(i.name),i=i.getParentNode();this.HeadTitleUrl=n.reverse().join(" / "),this.searchIdArr=[t.id],this.ztreeSelectedNode=t,this.ztreeObj=a,this.tablePage.currentPage=1,this.findList()},getChildren:function(e,t){if(e.push(t.id),t.isParent)for(var a in t.children)this.getChildren(e,t.children[a]);return e},ztreeHandleCreated:function(e){if(this.ztreeObj=e,this.ztreeSelectedNode.id&&"-1"!==this.ztreeSelectedNode.id){var t=this.ztreeObj.getNodesByParam("id",this.ztreeSelectedNode.id,null);this.ztreeSelectedNode=t[0],this.ztreeObj.selectNode(t[0]),this.ztreeObj.expandNode(t[0],!0)}this.findList()},onTablePageChange:function(e,t){this.tablePage.currentPage=e,this.tablePage.pageSize=t,this.findList()},findList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.tableLoading=!0,a={current:e.tablePage.currentPage,size:e.tablePage.pageSize},n={},!1!==e.isSearchBoxShow){t.next=12;break}return e.searchIdArr.length>0?a.materialsTypeId=e.searchIdArr[0]:a.materialsTypeId=-1,t.next=8,Object(g["e"])(a);case 8:i=t.sent,i.code===f["M"].OPERATION_SUCCESS?(e.tableDatas=i.rows,e.tablePage.total=i.total,e.tableLoading=!1):Object(p["c"])(i.message),t.next=19;break;case 12:return n.conditionJson1=e.searchData.conditionArr1,n.operator=e.searchData.groupOperator,n.conditionJson2=e.searchData.conditionArr2,t.next=17,Object(g["d"])(a,n);case 17:r=t.sent,r.code===f["M"].OPERATION_SUCCESS?(e.tableDatas=r.rows,e.tablePage.total=r.total,e.tableLoading=!1):Object(p["c"])(r.message);case 19:t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 24:return t.prev=24,t.finish(24);case 26:case"end":return t.stop()}}),t,null,[[0,21,24,26]])})))()},getTree:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g["h"])();case 3:a=t.sent,a.code===f["M"].OPERATION_SUCCESS?a.rows?e.nodeData=a.rows:e.nodeData=[]:Object(p["c"])(a.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},togglePage:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:"addDevice"===e&&(t.showPage=1);case 1:case"end":return a.stop()}}),a)})))()},print:function(e){this.$print(this.$refs.printQr)},groupConfig:function(){this.showPage=3},setTableColume:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.tableColumns=[],e.tableColumns_head=e.tableColumns_old.slice(0,e.tableColumns_old.length-1),e.tableColumns_operation=e.tableColumns_old[e.tableColumns_old.length-1],e.tableColumns=e.tableColumns.concat(e.tableColumns_head),e.tableColumns=e.tableColumns.concat(e.tableColumns_operation);case 5:case"end":return t.stop()}}),t)})))()},findTable:function(e,t,a){if(this.searchData=[],void 0!==e)for(var n in this.searchData.conditionArr1=JSON.parse(JSON.stringify(e)),this.searchData.conditionArr1)this.searchData.conditionArr1[n].value=this.searchData.conditionArr1[n].value.toString();if(void 0!==t&&(this.searchData.groupOperator=t),void 0!==a)for(var i in this.searchData.conditionArr2=JSON.parse(JSON.stringify(a)),this.searchData.conditionArr2)this.searchData.conditionArr2[i].value=this.searchData.conditionArr2[i].value.toString();this.onTablePageChange(1,this.tablePage.pageSize)},GetListQueryParameter:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(g["c"])({});case 3:a=t.sent,a.code===f["M"].OPERATION_SUCCESS?e.srearchList=a.rows:Object(p["c"])(a.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},showSearchCard:function(){this.isSearchBoxShow=!this.isSearchBoxShow,this.isSearchBoxShow||this.onTablePageChange(1,this.tablePage.pageSize)},refreshTable:function(){this.findList()},dbclickRows:function(e){this.$emit("dbclickRows",e)}}},C=v,T=C,O=(a("46d0"),a("2877")),N=Object(O["a"])(T,u,d,!1,null,"730db2de",null),_=N.exports,k=a("be7c"),w=a("c1df"),E=a.n(w),S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[1===e.showPage?a("div",[a("materialDialog",{ref:"materialDialog",attrs:{isFunc:!0},on:{hideMaterial:e.hideMaterial,dbclickRows:e.dbclickRows}})],1):e._e(),2===e.showPage?a("div",[a("deviceDialogy",{ref:"deviceDialog",attrs:{isFunc:!0},on:{hideMaterial:e.hideDevice,dbclickRows:e.dbclickRows_dev}})],1):e._e(),a("el-container",{directives:[{name:"show",rawName:"v-show",value:0===e.showPage,expression:"showPage === 0"}]},[a("el-header",[a("HeaderTitle",{staticClass:"header-title",attrs:{titleName:e.titleName}},[a("div",{staticClass:"head-operation",attrs:{slot:"head-operation"},slot:"head-operation"},[a("el-button",{attrs:{type:"default",size:"mini"},on:{click:e.insertEvent}},[e._v(e._s(e.BTN_TEXT.INSERT_ONE_ROW))])],1)])],1),a("el-main",[a("div",{staticClass:"area-main"},[a("vxe-grid",{ref:"xGrid",staticClass:"vxe-table-element",attrs:{border:"full",resizable:"","keep-source":"",height:"550","edit-rules":e.validRules,columns:e.tableColumns,data:e.tableDatas,"edit-config":{trigger:"click",mode:"cell",showStatus:!0,icon:"fa fa-file-text-o",activeMethod:this.activeCellMethod}}}),a("div",{staticClass:"btnDiv",staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.fullValidEvent}},[e._v(e._s(e.BTN_TEXT.SAVE))]),a("el-button",{on:{click:e.goIndex}},[e._v(e._s(e.BTN_TEXT.RETURN))])],1)],1)])],1)],1)},P=[],R=(a("4160"),a("07ac"),a("159b"),a("5530")),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"content"},[a("el-main",[a("header-search",{attrs:{"show-primary-search":!0,cssType:"8"},on:{refreshTableData:e.refreshTableData}}),a("div",{staticClass:"area-main"},[a("div",{staticClass:"area-aside"},[a("div",{staticClass:"area-tree"},[a("div",{staticClass:"area-tabs"},[a("el-radio-group",{model:{value:e.tabPosition,callback:function(t){e.tabPosition=t},expression:"tabPosition"}},[a("el-radio-button",{attrs:{label:"group"}},[e._v(e._s(e.CONSTANTS_DEVICE_CONFIGURATION.WORKSHOP_GROUP))]),a("el-radio-button",{attrs:{label:"type"}},[e._v(e._s(e.CONSTANTS_DEVICE_CONFIGURATION.DEVICE_TYPE))])],1)],1),a("div",{staticClass:"area-zTree"},[a("ZTree",{attrs:{nodes:e.nodeData},on:{ztreeOnClick:e.ztreeOnClick,ztreeHandleCreated:e.ztreeHandleCreated}})],1)])]),a("div",{staticClass:"area-info"},[[a("div",{staticClass:"userInformation"},[a("HeaderTitle",{staticClass:"header-title",attrs:{titleName:e.HeadTitleName}},[a("div",{staticClass:"head-search",staticStyle:{color:"#409eff"},attrs:{slot:"head-search"},slot:"head-search"},[e._v("双击物料选择")])]),a("VXETable",{ref:"xGrid",attrs:{id:"table",tableName:e.tableName,tableLoading:e.tableLoading,"pager-config":e.tablePage,tableDatas:e.tableDatas,tableColumns:e.tableColumns,tablePage:e.tablePage},on:{sortChange:e.sortChange,onTablePageChange:e.onTablePageChange,dbclickRows:e.dbclickRows}}),a("div",{staticClass:"btnDiv"},[a("el-button",{on:{click:e.hideDevice}},[e._v(e._s(e.BTN_TEXT.CANCEL))])],1)],1)]],2)])],1)],1)},D=[],I=a("e072"),A=a("f82c"),j={components:{HeaderTitle:s["a"],HeadOperationItem:c["a"],VXETable:l["a"],ZTree:m["a"]},props:{currentChangeRow:{type:Object,default:function(){return{}}},isFunc:{type:Boolean,default:!1},isMainTain:{type:Boolean,default:!1},buttonName:{type:String,default:f["c"].SAVE}},data:function(){return{BTN_TEXT:f["c"],CONSTANTS_DEVICE_CONFIGURATION:f["i"],deviceName:"",HeadTitleUrl:"",HeadTitleName:f["i"].DEVICE_LIST,searchIdArr:[],deviceChecks:[],tableName:"device",tabPosition:"group",showModelItem:!1,fatherNodeData:[],showPage:0,modelOptions:[],formParams:{model:null},devForm:{devName:"",devCode:""},formInline:{cnName:"",shortName:"",parameterName:"",isWarning:"null"},rules:{name:[{required:!0,message:f["H"].PLEASE_ENTER_CONTENT,trigger:"blur"}]},operaType:1,formLabelWidth:"150px",formLabelWidthShort:"50px",rightMenu:[],form:{name:""},titlename:"",dialogVisibleQrCode:!1,dialogVisibleUpdate:!1,dialogVisible:!1,ztreeObj:{},ztreeSelectedNode:{id:"-1",pId:"-1"},nodeData:[],tableLoading:!1,tablePage:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,1e3,1e4],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0,slots:{left:"pager_left"}},tableDatas:[],tableColumns:[{field:"deviceName",title:f["i"].DEVICE_NAME,width:"150",align:"center"},{field:"deviceCode",title:f["i"].DEVICE_CODE,width:"200",align:"center",sortable:!0},{field:"devicePriCode",visible:!0,title:f["i"].DEVICE_PRCODE,minWidth:"200",align:"center",sortable:!0},{field:"number",visible:!0,title:f["i"].DEVICE_EXTEND,minWidth:"200",align:"center",sortable:!0},{field:"mode",title:f["i"].MODE,width:"150",align:"center"},{field:"typeName",title:f["i"].TYPE,width:"150",align:"center"},{field:"groupName",title:f["i"].GROUP_NAME,width:"150",align:"center"},{field:"commissioningDate",title:f["i"].COMMISSIONING_DATE,width:"150",align:"center",formatter:function(e){var t=e.cellValue;e.row,e.column;return t?E()(t).format("YYYY-MM-DD"):""}},{field:"manufacturer",title:f["i"].MANUFACTURER,width:"150",align:"center"}],contrastData:[],filterName:[],savedSearchCondition:[],orderByData:{}}},computed:{},created:function(){this.getTree(),this.findList()},watch:{tabPosition:function(){this.form={name:""},this.ztreeSelectedNode={id:"-1",pId:"-1"},this.getTree()}},methods:{sortChange:function(e,t){this.orderByData={},this.orderByData[e]=t,this.onTablePageChange(1,this.tablePage.pageSize)},tableChooseCheck:function(){},ztreeOnClick:function(e,t,a){this.searchIdArr=[];var n=[];n.push(t.name);var i=t.getParentNode();while(i)n.push(i.name),i=i.getParentNode();this.HeadTitleUrl=n.reverse().join(" / "),this.searchIdArr=this.getChildren(this.searchIdArr,t),this.ztreeSelectedNode=t,this.ztreeObj=a,this.tablePage.currentPage=1,this.findList()},getChildren:function(e,t){if(e.push(t.id),t.isParent)for(var a in t.children)this.getChildren(e,t.children[a]);return e},ztreeHandleCreated:function(e){this.ztreeObj=e},onTablePageChange:function(e,t){this.tablePage.currentPage=e,this.tablePage.pageSize=t,this.findList()},refreshTableData:function(e){e&&(this.savedSearchCondition=Object(r["a"])(e),this.tablePage.currentPage=1),this.findList()},findList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.tableLoading=!0,a={current:e.tablePage.currentPage,size:e.tablePage.pageSize},n={conditionJson1:[],operatorGroup:1,conditionJson2:[],orderBy:e.orderByData},e.savedSearchCondition.length>0&&(n=A["l"].apply(void 0,Object(r["a"])(e.savedSearchCondition))),e.searchIdArr.length>0&&("group"===e.tabPosition?n.conditionJson1.push({column:"groupId",operator:1,ptype:"list",type:"in",value:e.searchIdArr.join(",")}):"type"===e.tabPosition&&n.conditionJson1.push({column:"typeId",operator:1,ptype:"list",type:"in",value:e.searchIdArr.join(",")})),t.next=8,Object(I["P"])(a,n);case 8:i=t.sent,i.code===f["M"].OPERATION_SUCCESS?(e.tableDatas=i.rows,e.tablePage.total=i.total,e.tableLoading=!1,e.isFunc&&e.toFindCheck(i.rows)):Object(p["c"])(i.message),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 15:return t.prev=15,t.finish(15);case 17:case"end":return t.stop()}}),t,null,[[0,12,15,17]])})))()},getTree:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("group"!==e.tabPosition){t.next=15;break}return t.prev=1,t.next=4,Object(I["R"])();case 4:a=t.sent,a.code===f["M"].OPERATION_SUCCESS?e.nodeData=a.rows:Object(p["c"])(a.message),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(h["a"])(f["N"].NOTIFY,t.t0);case 11:return t.prev=11,t.finish(11);case 13:t.next=28;break;case 15:if("type"!==e.tabPosition){t.next=28;break}return t.prev=16,t.next=19,Object(I["tb"])();case 19:n=t.sent,n.code===f["M"].OPERATION_SUCCESS?e.nodeData=n.rows:Object(p["c"])(n.message),t.next=26;break;case 23:t.prev=23,t.t1=t["catch"](16),Object(h["a"])(f["N"].NOTIFY,t.t1);case 26:return t.prev=26,t.finish(26);case 28:case"end":return t.stop()}}),t,null,[[1,8,11,13],[16,23,26,28]])})))()},toFindCheck:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,n={userId:t.currentChangeRow.userId},!0===t.isMainTain&&(n.deviceUserRelationshipEnum="MAINTAIN"),a.next=5,Object(I["pb"])(n);case 5:if(i=a.sent,i.code===f["M"].OPERATION_SUCCESS)for(r in t.contrastData=i.rows,e)for(o in i.rows)e[r].deviceCode===i.rows[o].deviceCode&&t.$refs.xGrid.toggleCheckboxRow(e[r]);else Object(p["c"])(i.message);a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),Object(h["a"])(f["N"].NOTIFY,a.t0);case 12:return a.prev=12,a.finish(12);case 14:case"end":return a.stop()}}),a,null,[[0,9,12,14]])})))()},submitEdit:function(){var e=this.$refs.xGrid.getCheckboxRecords();this.isFunc?this.$emit("saveRelatedDevice",e,this.tableDatas,this.contrastData):this.$emit("saveRelatedDevice",e,this.tableDatas)},cancelBtnClick:function(){this.$emit("hiddenRelated")},dbclickRows:function(e){this.$emit("dbclickRows",e)},hideDevice:function(){this.$emit("hideDevice")}}},y=j,U=y,M=(a("661b"),Object(O["a"])(U,x,D,!1,null,"31e86776",null)),L=M.exports,B=a("c4c8"),F={components:{HeaderTitle:s["a"],HeadOperationItem:c["a"],materialDialog:_,deviceDialogy:L},props:{},data:function(){var e=this,t=this.$createElement,a=function(t){var a=t.column,n=(t.row,t.cellValue);return new Promise((function(t,i){return e.$options.filters.positiveNumberTable(a,n,t,i)}))};return{CONSTANTS_PRODUCT:f["m"],BTN_TEXT:f["c"],titleName:f["m"].ADD_WORK,showPage:0,adddialogVisible:!1,checkedCities:[],clickRow:{},validRules:{taskCount:[{required:!0,message:f["H"].PLEASE_ENTER_CONTENT},{validator:a}],taskDeliveryTime:[{required:!0,message:f["H"].PLEASE_CHOOSE_CONTENT}],materialsCode:[{required:!0,message:f["H"].PLEASE_CHOOSE_CONTENT}],operatorUserId:[{required:!0,message:f["H"].PLEASE_CHOOSE_CONTENT}],modelNumber:[{max:20,message:"长度不得大于20个字符"}],client:[{max:20,message:"长度不得大于20个字符"}],remark:[{max:200,message:"长度不得大于200个字符"}]},editConfig:{trigger:"click",mode:"row",showStatus:!0},groupOptions:[],groupProps:{multiple:!0,checkStrictly:!0},tableDatas:[],tableColumns:[{field:"assignType",title:"生产类型",align:"center",cellRender:{name:"$select",options:[{lable:"产线",value:1},{lable:"设备",value:2}],events:{change:function(t,a){if(console.log(t),console.log(a.value),2===a.value){console.log(t.$rowIndex);var n=e.$refs.xGrid.getTableData().fullData;n[t.$rowIndex].groupId=null,e.$refs.xGrid.loadData(n)}else{n=e.$refs.xGrid.getTableData().fullData;n[t.$rowIndex].deviceCode="",e.$refs.xGrid.loadData(n)}}}}},{field:"groupId",title:f["m"].LINE_NAME,align:"center",width:"160",editRender:{name:"ElCascader",props:{options:[],showAllLevels:!1,props:{expandTrigger:"hover",checkStrictly:!0}}}},{field:"deviceCode",title:"设备名称",align:"center",slots:{default:function(a){var n=a.row;return 2===n.assignType?[t("el-button",{style:"width:100%",on:{click:function(){return e.showDevice(n)}}},[n.deviceName,t("i",{class:"el-icon-search el-icon--right"})])]:[]}}},{field:"taskCount",title:f["m"].WORK_NUM,align:"center",editRender:{name:"input"}},{field:"materialsCode",title:f["m"].MATERIAL_CODE,align:"center",slots:{default:function(a){var n=a.row;return[t("el-button",{style:"width:100%",on:{click:function(){return e.showMaterial(n)}}},[n.materialsCode,t("i",{class:"el-icon-search el-icon--right"})])]},edit:function(a){var n=a.row;return[t("el-button",{style:"width:100%",on:{click:function(){return e.showMaterial(n)}}},[n.materialsCode,t("i",{class:"el-icon-search el-icon--right"})])]}}},{field:"materialsName",title:f["m"].MATERIAL_NAME,align:"center"},{field:"materialsModel",title:f["m"].MATERIAL_NORMS,align:"center"},{field:"modelNumber",title:f["m"].MODULE_NUM,align:"center",editRender:{name:"input"}},{field:"taskDeliveryTime",title:f["m"].TASK_DUE_DATE,align:"center",editRender:{name:"ElDatePicker",props:{type:"datetime",format:"yyyy-MM-dd"}}},{field:"operatorUserId",title:f["m"].OPERATOR,align:"center",editRender:{name:"$select",options:[]}},{field:"client",title:f["m"].CUSTOMER,align:"center",editRender:{name:"input"}},{field:"remark",title:f["m"].REMARK,align:"center",editRender:{name:"input"}},{field:"",title:f["c"].OPERATION,width:"100",align:"center",slots:{default:function(a){var n=a.row,i=a.column;return[t("i",{on:{click:function(){return e.copyRow(n,i)}},class:"icon-table-addRow"}),t("i",{on:{click:function(){return e.deleteRow(n,i)}},class:"icon-table-delete"})]}}}]}},computed:{},created:function(){this.getGroupTree(),this.getUser(),this.tableColumns[0].cellRender.options=[{label:"产线",value:1},{label:"设备",value:2}]},mounted:function(){this.insertEvent()},methods:{lineDisabled:function(e){var t=e.column,a=e.columnIndex;return console.log("7788",t,a),!1},activeCellMethod:function(e){var t=e.row,a=e.rowIndex,n=(e.column,e.columnIndex);return console.log(t,a,n),2!==t.assignType||1!==n},showMaterial:function(e){this.clickRow=e,this.showPage=1},showDevice:function(e){this.clickRow_d=e,this.showPage=2},hideMaterial:function(){this.showPage=0,this.$refs.xGrid.refreshColumn()},hideDevice:function(){this.showPage=0,this.$refs.xGrid.refreshColumn()},deleteRow:function(e,t){var a=this;this.$XModal.confirm(f["H"].CONFIRM_DELETE).then((function(t){"confirm"===t&&a.$refs.xGrid.remove(e)}))},insertEvent:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={taskDeliveryTime:null,operatorUserId:null,assignType:2},t.next=3,e.$refs.xGrid.insertAt(a,-1);case 3:case"end":return t.stop()}}),t)})))()},copyRow:function(e,t){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.$refs.xGrid.clearActived(),n=Object(R["a"])({},e),delete n._XID,t.next=5,a.$refs.xGrid.insertAt(n,e);case 5:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.$refs.xGrid.getTableData().fullData,n=JSON.parse(JSON.stringify(a)),i=n.map((function(e){return 1===e.assignType?(delete e.deviceCode,e.groupId=e.groupId[e.groupId.length-1]):delete e.groupId,e})),t.next=6,Object(B["s"])({},i);case 6:r=t.sent,r.code===f["M"].OPERATION_SUCCESS?(e.goIndex(),Object(p["b"])(r.message)):Object(p["c"])(r.message),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}}),t,null,[[0,10,13,15]])})))()},fullValidEvent:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$createElement,t.next=3,e.$refs.xGrid.fullValidate().catch((function(e){return e}));case 3:n=t.sent,i=0,r=e.$refs.xGrid.getTableData().fullData,o=[],r.forEach((function(e,t){2===e.assignType?e.deviceCode||(i++,o.push("".concat(f["P"].THE," ").concat(t+1," ").concat(f["P"].ROW," 设备名称 ").concat(f["H"].VALIDATION_FAILED,"：请选择内容"))):e.groupId||(i++,o.push("".concat(f["P"].THE," ").concat(t+1," ").concat(f["P"].ROW," 产线名称 ").concat(f["H"].VALIDATION_FAILED,"：请选择内容")))})),n||i>0?(console.log("666",n),Object.values(n).forEach((function(e){e.forEach((function(e,t){var a=e.column,n=e.rules;n.forEach((function(e){console.log("222",f["P"],a.title),o.push("".concat(f["P"].THE," ").concat(t+1," ").concat(f["P"].ROW," ").concat(a.title," ").concat(f["H"].VALIDATION_FAILED,"：").concat(e.message))}))}))})),e.$XModal.alert({status:"error",message:function(){return[a("div",{class:"red",style:"max-height: 400px;overflow: auto;"},[o.map((function(e){return a("div",[e])}))])]}})):e.submit();case 9:case"end":return t.stop()}}),t)})))()},getUser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.codeOptions=[],t.prev=1,t.next=4,Object(B["m"])();case 4:a=t.sent,a.code===f["M"].OPERATION_SUCCESS?e.tableColumns[9].editRender.options=a.rows.map((function(e){var t={};return t.label=e.realName,t.value=e.userId,t})):Object(p["c"])(a.message),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(h["a"])(f["N"].NOTIFY,t.t0);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[1,8,11,13]])})))()},goIndex:function(){this.$emit("goBack",f["P"].ZERO_NUMBER)},getGroupTree:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(A["m"])();case 3:a=t.sent,a.code===f["M"].OPERATION_SUCCESS?e.tableColumns[1].editRender.props.options=a.rows:Object(p["c"])(a.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},dbclickRows:function(e){this.showPage=0,this.clickRow.materialsName=e.materialsName,this.clickRow.materialsModel=e.materialsModel,this.clickRow.materialsCode=e.materialsCode,this.clickRow.materialsId=e.materialsId,this.$refs.xGrid.clearActived()},dbclickRows_dev:function(e){this.showPage=0,this.clickRow_d.deviceCode=e.deviceCode,this.clickRow_d.deviceName=e.deviceName,this.$refs.xGrid.clearActived()}}},$=F,H=$,z=(a("a7b3"),Object(O["a"])(H,S,P,!1,null,"23dd9a94",null)),V=z.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"content"},[a("el-header",[a("HeaderTitle",{staticClass:"header-title",attrs:{titleName:"详情",flag:!1}},[a("div",{staticClass:"head-operation",attrs:{slot:"head-operation"},slot:"head-operation"},[a("HeadOperationItem",{attrs:{name:"addDevice"},on:{onOprationItem:function(t){return e.goBack()}}},[a("i",{staticClass:"icon-back",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.RETURN))])])],1)])],1),a("el-main",[a("div",{staticClass:"area-main"},[a("div",{staticClass:"area-info"},[[a("div",{staticClass:"userInformation"},[a("HeaderTitle",{staticClass:"header-title",attrs:{titleName:"基本信息"}}),a("div",{staticClass:"infoTableDiv"},[a("table",{staticClass:"infoTable"},[a("tr",[a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.CREATE_DATE)+"：")]),a("td",[e._v(e._s(e.form.createTime))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.LINE_NAME)+"：")]),a("td",[e._v(e._s(e.form.groupName))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.WORK_CODE)+"：")]),a("td",[e._v(e._s(e.form.taskCode))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.WORK_NUM)+"：")]),a("td",[e._v(e._s(e.form.taskCount))])]),a("tr",[a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.FINISH_NUM)+"：")]),a("td",[e._v(e._s(e.form.completeCount))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.NG_NUM)+"：")]),a("td",[e._v(e._s(e.form.ngCount))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.REACH_NUM)+"：")]),a("td",[e._v(e._s(e.form.achievementRate))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.MATERIAL_CODE)+"：")]),a("td",[e._v(e._s(e.form.materialsCode))])]),a("tr",[a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.MATERIAL_NAME)+"：")]),a("td",[e._v(e._s(e.form.materialsName))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.MATERIAL_NORMS)+"：")]),a("td",[e._v(e._s(e.form.materialsModel))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.MODULE_NUM)+"：")]),a("td",[e._v(e._s(e.form.modelNumber))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.TASK_DUE_DATE)+"：")]),a("td",[e._v(e._s(e.form.taskDeliveryTime))])]),a("tr",[a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.OPERATOR)+"：")]),a("td",[e._v(e._s(e.form.operatorUserRealName))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.CUSTOMER)+"：")]),a("td",[e._v(e._s(e.form.client))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.START)+"：")]),a("td",[e._v(e._s(e.form.taskStateName))]),a("td",[e._v(e._s(e.CONSTANTS_PRODUCT.REMARK)+"：")]),a("td",[e._v(e._s(e.form.remark))])])])])],1),a("div",{staticClass:"userInformation"},[a("HeaderTitle",{staticClass:"header-title",attrs:{titleName:"报工信息"}},[a("div",{staticClass:"head-operation",attrs:{slot:"head-operation"},slot:"head-operation"},[a("HeadOperationItem",{attrs:{name:"addDevice"},on:{onOprationItem:function(t){return e.exportTable()}}},[a("i",{staticClass:"icon-export",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.EXPORT))])])],1)]),a("vxe-grid",{ref:"xGrid",staticClass:"vxe-table-element",attrs:{border:"full",resizable:"","keep-source":"",loading:e.tableLoading,height:"300",columns:e.tableColumns,data:e.tableDatas}})],1),a("div",{staticClass:"userInformation"},[a("HeaderTitle",{staticClass:"header-title",attrs:{titleName:"设备快照"}},[a("div",{staticClass:"head-operation",attrs:{slot:"head-operation"},slot:"head-operation"},[a("HeadOperationItem",{attrs:{name:"addDevice"},on:{onOprationItem:function(t){return e.exportTable()}}},[a("i",{staticClass:"icon-export",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.EXPORT))])])],1)]),a("VXETable",{ref:"xGrid",attrs:{id:"table",tableName:"",height:"300px",tableLoading:e.tableLoadingDev,"pager-config":e.tablePageDev,tableDatas:e.tableDatasDev,tableColumns:e.tableColumnsDev,tablePage:e.tablePageDev},on:{onTablePageChange:e.onTablePageChangeDev}})],1)]],2)])])],1)},X=[],Y={components:{HeaderTitle:s["a"],HeadOperationItem:c["a"],VXETable:l["a"]},props:{form:{type:Object,default:function(){return{}}}},data:function(){var e=this,t=this.$createElement;return{VARIABLE:f["P"],BTN_TEXT:f["c"],BASIC_INFO:f["b"],CONSTANTS_PRODUCT:f["m"],isSearchBoxShow:!1,codeOptions:[],dataChecks:[],tableName:"device",showPage:0,titlename:"",tableLoading:!1,tableLoadingDev:!1,devParamRow:{},tablePage:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},tablePageDev:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},tableDatas:[],tableDatasDev:[],tableColumns:[{field:"reportTime",title:f["m"].WORK_TIME,align:"center"},{field:"reportTypeName",title:f["m"].WORK_TYPE,align:"center"},{field:"deviceProductionCountRecordList",title:f["m"].DEV_RECORD_NUM,align:"center",slots:{default:function(e){var a=e.row,n=(e.column,a.deviceProductionCountRecordList),i=[];for(var r in n)i.push(t("p",["["+n[r].deviceName+"] "+n[r].recordCount]));return i}}},{field:"userProductionCountRecordList",title:f["m"].USER_RECORD_NUM,align:"center",slots:{default:function(e){var a=e.row,n=(e.column,a.userProductionCountRecordList),i=[];for(var r in n)i.push(t("p",["["+n[r].deviceName+"] "+n[r].recordCount]));return i}}},{field:"allCountReport",title:f["m"].WORKED_NUM,align:"center"},{field:"recordOperatorUserRealName",title:f["m"].USER,align:"center"},{field:"",title:f["m"].DEV_SNAPSHOT,width:"120",fixed:"right",align:"center",slots:{default:function(a){var n=a.row;a.column;return[t("el-button",{on:{click:function(){return e.toDevParam(n)}},attrs:{type:"text"}},[f["c"].INFO])]}}}],tableColumnsDev:[{type:"seq",title:f["P"].SEQ,align:"center"},{field:"deviceName",title:f["m"].DEV_NAME,align:"center"},{field:"parameterName",title:f["m"].PARAM_NAME,align:"center"},{field:"parameterValue",title:f["m"].PARAM_VALUE,align:"center"},{field:"upLine",title:f["m"].UP_LINE,align:"center"},{field:"downLine",title:f["m"].DOWN_LINE,align:"center"},{field:"snapshotTime",title:f["m"].SNAPSHOT_TIME,align:"center"}]}},computed:{},created:function(){this.findList()},watch:{},methods:{onTablePageChangeDev:function(e,t){this.tablePageDev.currentPage=e,this.tablePageDev.pageSize=t,this.findListParams()},toDevParam:function(e){this.devParamRow=e,this.tablePageDev.currentPage=1,this.tablePageDev.pageSize=10,this.findListParams()},findListParams:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.tableLoadingDev=!0,a={typeId:e.devParamRow.taskRecordId,deviceRecordParameterTypeEnum:e.devParamRow.deviceRecordParameterTypeEnum,current:e.tablePageDev.currentPage,size:e.tablePageDev.pageSize},t.next=5,Object(B["b"])(a);case 5:n=t.sent,n.code===f["M"].OPERATION_SUCCESS?(e.tableDatasDev=n.rows,e.tablePageDev.total=n.total,e.tableLoadingDev=!1):Object(p["c"])(n.message),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[0,9,12,14]])})))()},findList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.tableLoading=!0,a={productionTaskId:e.form.productionTaskId},t.next=5,Object(B["q"])(a);case 5:n=t.sent,n.code===f["M"].OPERATION_SUCCESS?(e.tableDatas=n.rows,e.tablePage.total=n.total,e.tableLoading=!1):Object(p["c"])(n.message),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[0,9,12,14]])})))()},togglePage:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:"addDevice"===e&&(t.showPage=1);case 1:case"end":return a.stop()}}),a)})))()},goBack:function(e){this.$emit("goBack",0)},refreshTable:function(){this.findList()}}},G=Y,J=G,q=(a("7be7"),Object(O["a"])(J,W,X,!1,null,"16fc0c5a",null)),K=q.exports,Q=a("bcc1"),Z=a("b314"),ee=a("3f2a"),te=a("4eee"),ae=a("b82e"),ne=a("cf45"),ie={name:"productionTask",components:{HeaderTitle:s["a"],HeadOperationItem:c["a"],VXETable:l["a"],SearchBox:b["a"],CustomColumn:Q["a"],addTask:V,taskInfo:K,materialDialog:_,ImportDialog:Z["a"],DialogSettingColumn:k["a"]},data:function(){var e=this,t=this.$createElement,a=function(t){var a=t.column,n=(t.row,t.cellValue);return new Promise((function(t,i){return e.$options.filters.positiveNumber(a,n,t,i)}))};return{EXPORT_NAME:f["y"],VARIABLE:f["P"],BTN_TEXT:f["c"],CONSTANTS_PRODUCT:f["m"],formUpdate:{},isSearchBoxShow:!1,searchList:[],searchData:[],rulesUpdate:{client:[{max:20,message:"长度不得大于20个字符"}],remark:[{max:200,message:"长度不得大于200个字符"}],taskCount:[{required:!0,message:f["H"].PLEASE_ENTER_CONTENT},{validator:a}],groupId:[{required:!0,message:f["H"].PLEASE_CHOOSE_CONTENT}],operatorUserId:[{required:!0,message:f["H"].PLEASE_CHOOSE_CONTENT}],taskDeliveryTime:[{required:!0,message:f["H"].PLEASE_CHOOSE_CONTENT}],modelNumber:[{max:20,message:"长度不得大于20个字符"}]},codeOptions:[],LineOptions:[],LineOptionsY:[],userOptions:[],dataChecks:[],taskQRcode:"",tableName:"device",showPage:0,formParams:{model:null},titlename:"",dialogVisibleUpdate:!1,dialogVisiblePrint:!1,isImportDialogShow:!1,tableLoading:!1,clickRow:{},tablePage:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0,slots:{left:"pager_left"}},tableDatas:[],tableColumns:[],tableColumns_old:[{type:"checkbox",width:"50",visible:!0,align:"center"},{field:"createTime",title:f["m"].CREATE_DATE,align:"center",visible:!0,minWidth:"100",formatter:function(e){var t=e.cellValue;e.row,e.column;return t?E()(t).format("YYYY-MM-DD"):""}},{field:"groupName",title:f["m"].LINE_NAME,align:"center",visible:!0,minWidth:"100"},{field:"deviceName",title:"设备名称",align:"center",visible:!0,minWidth:"100"},{field:"taskCode",title:f["m"].WORK_CODE,align:"center",visible:!0,minWidth:"100"},{field:"taskCount",title:f["m"].WORK_NUM,align:"center",visible:!0,minWidth:"100"},{field:"completeCount",title:f["m"].FINISH_NUM,align:"center",visible:!0,minWidth:"100"},{field:"inspectCount",title:f["m"].INSPECT_NUM,align:"center",visible:!0,minWidth:"100"},{field:"ngCount",title:f["m"].NG_NUM,align:"center",visible:!0,minWidth:"100"},{field:"achievementRate",title:f["m"].REACH_NUM,align:"center",visible:!0,minWidth:"100"},{field:"materialsCode",title:f["m"].MATERIAL_CODE,align:"center",visible:!0,minWidth:"100"},{field:"materialsName",title:f["m"].MATERIAL_NAME,align:"center",visible:!0,minWidth:"100"},{field:"materialsModel",title:f["m"].MATERIAL_NORMS,align:"center",visible:!0,minWidth:"100"},{field:"modelNumber",title:f["m"].MODULE_NUM,align:"center",visible:!0,minWidth:"100"},{field:"taskDeliveryTime",title:f["m"].TASK_DUE_DATE,align:"center",visible:!0,minWidth:"100",formatter:function(e){var t=e.cellValue;e.row,e.column;return t?E()(t).format("YYYY-MM-DD"):""}},{field:"operatorUserRealName",title:f["m"].OPERATOR,align:"center",visible:!0,minWidth:"100"},{field:"client",title:f["m"].CUSTOMER,align:"center",visible:!0,minWidth:"100"},{field:"remark",title:f["m"].REMARK,align:"center",visible:!0,minWidth:"100"},{field:"taskStateName",title:f["m"].START,align:"center",visible:!0,minWidth:"100"},{field:"",title:f["c"].OPERATION,align:"center",visible:!0,minWidth:"100",fixed:"right",slots:{default:function(a){var n=a.row;a.column;return 4===n.taskState||5===n.taskState?[t("el-dropdown",{attrs:{placement:"bottom",size:"small"},on:{command:function(t){return e.handleCommand(t,n)}}},[t("span",{class:"operation-column"},[f["c"].OPERATION]),t("el-dropdown-menu",{slot:"dropdown"},[t("el-dropdown-item",{class:"operation-column",attrs:{command:"info"}},[" ",f["c"].INFO]),t("el-dropdown-item",{class:"operation-column",attrs:{command:"delete"}},[f["c"].DELETE]),t("el-dropdown-item",{class:"operation-column",attrs:{command:"print"}},[f["c"].PRINT])])])]:[t("el-dropdown",{attrs:{placement:"bottom",size:"small"},on:{command:function(t){return e.handleCommand(t,n)}}},[t("span",{class:"operation-column"},[f["c"].OPERATION]),t("el-dropdown-menu",{slot:"dropdown"},[t("el-dropdown-item",{class:"operation-column",attrs:{command:"info"}},[" ",f["c"].INFO]),t("el-dropdown-item",{class:"operation-column",attrs:{command:"modify"}},[" ",f["c"].MODIFY]),t("el-dropdown-item",{class:"operation-column",attrs:{command:"finish"}},[f["c"].FINISH]),t("el-dropdown-item",{class:"operation-column",attrs:{command:"close"}},[f["c"].CLOSE]),t("el-dropdown-item",{class:"operation-column",attrs:{command:"delete"}},[f["c"].DELETE]),t("el-dropdown-item",{class:"operation-column",attrs:{command:"print"}},[f["c"].PRINT])])])]},header:function(a){var n=a.column;return[t("span",[t("span",[n.title]),t("i",{on:{click:function(){return e.showCustomColumn()}},class:"el-icon-s-tools set-btn"})])]}}}],dialogVisibleCustomColumn:!1,savedCustomColumns:[],isSettingCustomDialogShow:!1,tableColumns_old2:[],tableColumns_head:[],tableColumns_operation:[],savedSearchCondition:[],deviceName:""}},computed:{myTableColumns:function(){return Array.isArray(this.savedCustomColumns)&&this.savedCustomColumns.length>0?(console.log(this.savedCustomColumns),this.savedCustomColumns):this.tableColumns_old2}},created:function(){this.setTableColume(),this.findList(),this.getSearchList()},watch:{},methods:{resetDevName:function(){this.deviceName="",this.findList()},handleCommand:function(e,t){switch(e){case"info":this.toInfo(t);break;case"modify":this.setUpdate(t);break;case"delete":this.setDelete(t);break;case"finish":this.setFinish(t);break;case"close":this.setClose(t);break;case"print":this.toPrint(t);break;default:break}},toInfo:function(e){this.clickRow=e,this.showPage=2},toPrint:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.clickRow=e,t.dialogVisiblePrint=!0,a.prev=2,a.next=5,Object(I["M"])({text:e.taskCode+""});case 5:n=a.sent,n.code===f["M"].OPERATION_SUCCESS?t.taskQRcode=t.$store.state.publicUrl+n.rows:Object(p["c"])(n.message),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](2),Object(h["a"])(f["N"].NOTIFY,a.t0);case 12:return a.prev=12,a.finish(12);case 14:case"end":return a.stop()}}),a,null,[[2,9,12,14]])})))()},deteleall:function(){var e=this;if(0===this.dataChecks.length)this.$message.error(f["H"].PLEASE_CHOOSE_DELETE);else{var t=[];this.dataChecks.map((function(e){return t.push(e.productionTaskId)})),this.$confirm(f["H"].CONFIRM_CHOOSE_DELETE,f["N"].PROMPT,{confirmButtonText:f["c"].CONFIRM,cancelButtonText:f["c"].CANCEL,type:"warning"}).then((function(){e.setDeleteChecks(t)})).catch((function(){}))}},finishall:function(){var e=this;if(0===this.dataChecks.length)this.$message.error(f["H"].PLEASE_CHOOSE_DELETE);else{var t=[],a=0;this.dataChecks.map((function(e){t.push(e.productionTaskId),4===e.taskState&&(a=1)})),1===a?Object(p["c"])("请选择可完成的任务单！"):this.$confirm(f["H"].CONFIRM_CHOOSE_DELETE,f["N"].PROMPT,{confirmButtonText:f["c"].CONFIRM,cancelButtonText:f["c"].CANCEL,type:"warning"}).then((function(){e.setFinishChecks(t)})).catch((function(){}))}},setDeleteChecks:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(B["e"])({ids:e});case 3:n=a.sent,n.code===f["M"].OPERATION_SUCCESS?(Object(p["b"])(n.message),t.findList()):Object(p["c"])(n.message),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),Object(h["a"])(f["N"].NOTIFY,a.t0);case 10:return a.prev=10,a.finish(10);case 12:case"end":return a.stop()}}),a,null,[[0,7,10,12]])})))()},setFinishChecks:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,r,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:for(a.prev=0,n=[],i=0;i<e.length;i++)r={},r.productionTaskId=e[i],r.taskState=4,n.push(r);return a.next=5,Object(B["t"])({},n);case 5:o=a.sent,o.code===f["M"].OPERATION_SUCCESS?(Object(p["b"])(o.message),t.findList()):Object(p["c"])(o.message),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),Object(h["a"])(f["N"].NOTIFY,a.t0);case 12:return a.prev=12,a.finish(12);case 14:case"end":return a.stop()}}),a,null,[[0,9,12,14]])})))()},setClose:function(e){var t=this;this.$confirm(f["H"].CONFIRM_CLOSE,f["N"].PROMPT,{confirmButtonText:f["c"].CONFIRM,cancelButtonText:f["c"].CANCEL,type:"warning"}).then((function(){t.doClose(e)})).catch((function(){}))},doClose:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,n=[],i={},i.productionTaskId=e.productionTaskId,i.taskState=5,n.push(i),a.next=8,Object(B["t"])({},n);case 8:r=a.sent,r.code===f["M"].OPERATION_SUCCESS?(Object(p["b"])(r.message),t.findList()):Object(p["c"])(r.message),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](0),Object(h["a"])(f["N"].NOTIFY,a.t0);case 15:return a.prev=15,a.finish(15);case 17:case"end":return a.stop()}}),a,null,[[0,12,15,17]])})))()},tableChooseCheck:function(e){this.dataChecks=e},onTablePageChange:function(e,t){this.tablePage.currentPage=e,this.tablePage.pageSize=t,this.findList()},findList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.tableLoading=!0,a={current:e.tablePage.currentPage,size:e.tablePage.pageSize},n={conditionJson1:[],operatorGroup:1,conditionJson2:[]},console.log(e.savedSearchCondition,e.savedSearchCondition),e.savedSearchCondition.length>0&&(n=A["l"].apply(void 0,Object(r["a"])(e.savedSearchCondition))),""!==e.deviceName&&n.conditionJson1.push({column:"deviceName",ptype:"string",type:"like",value:e.deviceName}),t.next=9,Object(B["n"])(a,n);case 9:i=t.sent,i.code===f["M"].OPERATION_SUCCESS?(e.tableDatas=i.rows,e.tablePage.total=i.total,e.tableLoading=!1):Object(p["c"])(i.message),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 16:return t.prev=16,t.finish(16);case 18:case"end":return t.stop()}}),t,null,[[0,13,16,18]])})))()},setUpdate:function(e){var t=this;this.getGroupTree(),this.getUser(),this.dialogVisibleUpdate=!0,this.formUpdate=JSON.parse(JSON.stringify(e)),setTimeout((function(){t.formUpdate.groupId=t.$options.filters.getCascaderIds(e.groupId,t.LineOptionsY)}),250)},setDelete:function(e){var t=this;this.$confirm(f["H"].CONFIRM_DELETE,f["N"].PROMPT,{confirmButtonText:f["c"].CONFIRM,cancelButtonText:f["c"].CANCEL,type:"warning"}).then((function(){t.setDeleteChecks([e.productionTaskId])})).catch((function(){}))},setFinish:function(e){var t=this;this.$confirm(f["H"].CONFIRM_FINISH,f["N"].PROMPT,{confirmButtonText:f["c"].CONFIRM,cancelButtonText:f["c"].CANCEL,type:"warning"}).then((function(){t.setFinishChecks([e.productionTaskId])})).catch((function(){}))},togglePage:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:"addDevice"===e&&(t.showPage=1);case 1:case"end":return a.stop()}}),a)})))()},submitUpdate:function(){var e=this;this.$refs.updateForm.validate((function(t){t&&e.submitUpdateFunc()}))},submitUpdateFunc:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},a.productionTaskId=e.formUpdate.productionTaskId,a.taskCount=e.formUpdate.taskCount,a.materialsId=e.formUpdate.materialsId,a.groupId=e.formUpdate.groupId[e.formUpdate.groupId.length-1],a.remark=e.formUpdate.remark,a.operatorUserId=e.formUpdate.operatorUserId,e.formUpdate.taskDeliveryTime.length<11?a.taskDeliveryTime=e.formUpdate.taskDeliveryTime+" 00:00:00":a.taskDeliveryTime=e.formUpdate.taskDeliveryTime,a.modelNumber=e.formUpdate.modelNumber,a.client=e.formUpdate.client,t.next=13,Object(B["E"])(a);case 13:n=t.sent,n.code===f["M"].OPERATION_SUCCESS?(Object(p["b"])(n.message),e.dialogVisibleUpdate=!1,e.findList()):Object(p["c"])(n.message),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 20:return t.prev=20,t.finish(20);case 22:case"end":return t.stop()}}),t,null,[[0,17,20,22]])})))()},goBack:function(e){this.showPage=e,this.findList()},getSearchList:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(B["l"])({});case 3:a=t.sent,a.code===f["M"].OPERATION_SUCCESS?e.searchList=a.rows:Object(p["c"])(a.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},showSearchCard:function(){this.isSearchBoxShow=!this.isSearchBoxShow},findTable:function(e,t,a){if(this.searchData=[],void 0!==e)for(var n in this.searchData.conditionArr1=JSON.parse(JSON.stringify(e)),this.searchData.conditionArr1)this.searchData.conditionArr1[n].value=this.searchData.conditionArr1[n].value.toString();if(void 0!==t&&(this.searchData.groupOperator=t),void 0!==a)for(var i in this.searchData.conditionArr2=JSON.parse(JSON.stringify(a)),this.searchData.conditionArr2)this.searchData.conditionArr2[i].value=this.searchData.conditionArr2[i].value.toString();this.onTablePageChange(1,this.tablePage.pageSize)},setTableColume:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=e,e.tableColumns=[],e.tableColumns_head=e.tableColumns_old.slice(0,e.tableColumns_old.length-1),e.tableColumns_operation=e.tableColumns_old[e.tableColumns_old.length-1],e.tableColumns=e.tableColumns.concat(e.tableColumns_head),e.tableColumns=e.tableColumns.concat(e.tableColumns_operation),e.tableColumns_old2=e.tableColumns,console.log(e.tableColumns_old2),setTimeout((function(){a.getCustomColumn(1)}),0);case 9:case"end":return t.stop()}}),t)})))()},getCustomColumn:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,o,s,c,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,n=Object(ne["c"])("id"),i=window.localStorage.getItem("account").replace(/"/g,""),o={account:i,cssType:e,menuId:n},a.next=6,Object(ae["a"])(o);case 6:s=a.sent,Array.isArray(s)&&s.length>0&&(l=Object(A["k"])(s,t.tableColumns_old2),t.savedCustomColumns.length>0&&t.savedCustomColumns.splice(0),(c=t.savedCustomColumns).push.apply(c,Object(r["a"])(l))),a.next=12;break;case 10:a.prev=10,a.t0=a["catch"](0);case 12:case"end":return a.stop()}}),a,null,[[0,10]])})))()},refreshTableColumns:function(){this.getCustomColumn(1),this.refreshTableData()},refreshTableData:function(e){e&&(this.savedSearchCondition=Object(r["a"])(e),this.tablePage.currentPage=1),this.findList()},handleSaveColumnSetting:function(e){var t=arguments,a=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var i,r,o,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.length>1&&void 0!==t[1]?t[1]:a.cssType,i=a.$loading({body:!0,lock:!0,text:"自定列配置提交中..."}),n.prev=2,r=Object(ne["c"])("id"),o=window.localStorage.getItem("account").replace(/"/g,""),s={account:o,cssType:1,menuId:r},n.next=8,Object(ae["b"])(s,e);case 8:c=n.sent,"0000"===c.code?(i.close(),Object(p["b"])(c.message),a.refreshTableColumns()):(i.close(),Object(p["a"])(c.message||"操作失败！")),n.next=16;break;case 12:n.prev=12,n.t0=n["catch"](2),i.close(),Object(p["a"])(n.t0+"666");case 16:return n.prev=16,a.isSettingCustomDialogShow=!1,n.finish(16);case 19:case"end":return n.stop()}}),n,null,[[2,12,16,19]])})))()},showCustomColumn:function(){this.isSettingCustomDialogShow=!this.isSettingCustomDialogShow},saveCustomColumn:function(e){this.tableColumns=e,this.showCustomColumn()},resetCustomColumn:function(){this.showCustomColumn(),this.tableColumns=this.tableColumns.sort((function(e,t){return e.zIndex>t.zIndex?1:-1})),this.tableColumns=this.tableColumns.map((function(e){return e.width=e.yWidth,e.visible=e.yVisible,e}))},refreshTable:function(){this.findList()},getGroupTree:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(B["a"])();case 3:a=t.sent,a.code===f["M"].OPERATION_SUCCESS?e.LineOptionsY=a.rows:Object(p["c"])(a.message),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(h["a"])(f["N"].NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:return t.prev=12,t.next=15,Object(A["m"])();case 15:n=t.sent,n.code===f["M"].OPERATION_SUCCESS?e.LineOptions=n.rows:Object(p["c"])(n.message),t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](12),Object(h["a"])(f["N"].NOTIFY,t.t1);case 22:return t.prev=22,t.finish(22);case 24:case"end":return t.stop()}}),t,null,[[0,7,10,12],[12,19,22,24]])})))()},getUser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.codeOptions=[],t.prev=1,t.next=4,Object(B["m"])();case 4:a=t.sent,a.code===f["M"].OPERATION_SUCCESS?e.userOptions=a.rows.map((function(e){var t={};return t.label=e.realName,t.value=e.userId,t})):Object(p["c"])(a.message),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Object(h["a"])(f["N"].NOTIFY,t.t0);case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,null,[[1,8,11,13]])})))()},showMaterial:function(e){this.showPage=3,this.dialogVisibleUpdate=!1},hideMaterial:function(){this.showPage=0,this.dialogVisibleUpdate=!0},dbclickRows:function(e){this.showPage=0,this.dialogVisibleUpdate=!0,this.formUpdate.materialsName=e.materialsName,this.formUpdate.materialsModel=e.materialsModel,this.formUpdate.materialsCode=e.materialsCode,this.formUpdate.materialsId=e.materialsId},exportTable:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a={},e.isSearchBoxShow&&(a.conditionJson1=e.searchData.conditionArr1,a.operator=e.searchData.groupOperator,a.conditionJson2=e.searchData.conditionArr2),t.next=5,Object(ee["j"])({},a);case 5:n=t.sent,void 0!==n.data.code?Object(p["c"])(n.message):e.$options.filters.setExportFunc(n,f["y"].TASK_LIST+".xls"),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),Object(h["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[0,9,12,14]])})))()},importTable:function(){var e=this;this.isImportDialogShow=!0,setTimeout((function(){e.$refs.ImportDialog.isShow=!0,e.$refs.ImportDialog.resetUploadProgressBar()}),0)},exportTemplate:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ee["o"])();case 3:a=t.sent,void 0!==a.data.code?Object(p["c"])(a.message):e.$options.filters.setExportFunc(a,f["y"].TASK_TEMPLATE),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(h["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},submitImportFile:function(e){var t=this,a=e.file,n=new FormData;n.append("file",a),Object(te["e"])({},n,{onUploadProgress:function(e){var a=Math.floor(100*e.loaded/e.total);t.$refs.ImportDialog.uploadPercent=a}}).then((function(t){t.code===f["M"].OPERATION_SUCCESS?e.onSuccess(t):e.onError(t)})).catch((function(t){Object(p["c"])(t),e.onError(t)}))},closeImportDialog:function(){this.findList(),this.isImportDialogShow=!1}}},re=ie,oe=re,se=(a("edeb"),a("23b3"),Object(O["a"])(oe,n,i,!1,null,"3b31343c",null));t["default"]=se.exports},f356:function(e,t,a){},f8d5:function(e,t,a){},f8f0:function(e,t,a){}}]);
//# sourceMappingURL=chunk-7de2af54.5af1f043.js.map