{"version":3,"sources":["webpack:///./src/views/company/DeviceMonitor/index.vue?60aa","webpack:///./src/assets/js/company/DeviceMonitor/index.js","webpack:///src/views/company/DeviceMonitor/index.vue","webpack:///./src/views/company/DeviceMonitor/index.vue?b4ab","webpack:///./src/views/company/DeviceMonitor/index.vue?5858","webpack:///./src/views/company/DeviceMonitor/index.vue?4e9c"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","slot","on","findList","_v","exportData","ref","$options","filters","getTableHeight","tableLoading","tablePage","tableDatas","tableColumns","onTablePageChange","staticRenderFns","name","components","companyInformation","VXETable","HeaderTitle","HeadOperationItem","data","VARIABLE","CONSTANTS_USER","BTN_TEXT","COMPANY_USER","titleName","TITLE_MODIFY_USER_DIALOG","dialogVisible","formLabelWidth","total","currentPage","pageSize","align","pageSizes","layouts","perfect","slots","left","field","title","headerClassName","default","row","column","cellValue","runCount","idleCount","offLineCount","warnCount","computed","created","methods","params","current","size","getAllCompanyDeviceRealStateCountVoList","res","code","STATUS_CODE","OPERATION_SUCCESS","rows","showWarningMessage","message","showErrorNotify","TITLE","NOTIFY","ONE_NUMBER","BIG_NUMBER","$refs","xGrid","exportDatax","component"],"mappings":"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","file":"js/chunk-4250833a.c59bdd2c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',[_c('el-container',{staticClass:\"content\"},[_c('el-header',[_c('el-header',[_c('HeaderTitle',{staticClass:\"header-title\"},[_c('div',{staticClass:\"head-search\",attrs:{\"slot\":\"head-search\"},slot:\"head-search\"}),_c('div',{staticClass:\"head-operation\",attrs:{\"slot\":\"head-operation\"},slot:\"head-operation\"},[_c('HeadOperationItem',{attrs:{\"name\":\"addDevice\"},on:{\"onOprationItem\":_vm.findList}},[_c('i',{staticClass:\"icon-refresh\",attrs:{\"slot\":\"operation-icon\"},slot:\"operation-icon\"}),_c('span',{attrs:{\"slot\":\"operation-name\"},slot:\"operation-name\"},[_vm._v(\"刷新\")])]),_c('HeadOperationItem',{attrs:{\"name\":\"addDevice\"},on:{\"onOprationItem\":_vm.exportData}},[_c('i',{staticClass:\"icon-export\",attrs:{\"slot\":\"operation-icon\"},slot:\"operation-icon\"}),_c('span',{attrs:{\"slot\":\"operation-name\"},slot:\"operation-name\"},[_vm._v(\"导出\")])])],1)])],1)],1),_c('el-main',[_c('div',{staticClass:\"area-main\"},[_c('div',{staticClass:\"area-info\"},[[_c('div',{staticClass:\"userInformation\"},[_c('VXETable',{ref:\"xGrid\",attrs:{\"id\":\"table\",\"height\":_vm.$options.filters.getTableHeight(160),\"tableName\":'',\"tableLoading\":_vm.tableLoading,\"pager-config\":_vm.tablePage,\"tableDatas\":_vm.tableDatas,\"tableColumns\":_vm.tableColumns,\"tablePage\":_vm.tablePage},on:{\"onTablePageChange\":_vm.onTablePageChange}})],1)]],2)])])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*\n * @Descripttion: 公司用户管理页面js\n * @version: 0.1\n * @Author: ZJM\n * @Date: 2020-05-20 11:23:56\n * @LastEditors: ZJM\n * @LastEditTime: 2021-09-07 14:04:16\n */\n// 引入标题组件\nimport HeaderTitle from '@/components/common/PageNavBar/HeaderTitle';\n// 引入标题元素组件\nimport HeadOperationItem from '@/components/common/PageNavBar/HeadOperationItem';\n// 引入树形组件\n// 引入公司信息组件\nimport companyInformation from '@/views/company/CompanyUsers/companyInformation.vue';\n// 引入类型信息组件\nimport { STATUS_CODE, TITLE, VARIABLE, BTN_TEXT, COMPANY_USER, CONSTANTS_USER } from '@/utils/constantsFile';\nimport VXETable from '@/components/common/Table';\nimport { showWarningMessage } from '@/utils/message';\nimport { showErrorNotify } from '@/utils/notify';\n// 导入所需接口\nimport {\n  getAllCompanyDeviceRealStateCountVoList\n} from '@/api/management';\nexport default {\n  name: 'CompanyUsers',\n  components: {\n    // 加载公司信息组件\n    companyInformation,\n    VXETable,\n    HeaderTitle,\n    HeadOperationItem\n  },\n  data() {\n    return {\n      VARIABLE: VARIABLE,\n      CONSTANTS_USER: CONSTANTS_USER,\n      BTN_TEXT: BTN_TEXT,\n      COMPANY_USER: COMPANY_USER,\n      // 标题\n      titleName: CONSTANTS_USER.TITLE_MODIFY_USER_DIALOG,\n      // 修改对话框是否可见，默认为false，表示不可见\n      dialogVisible: false,\n      formLabelWidth: '100px',\n      // table加载动画\n      tableLoading: false,\n      // table分页\n      tablePage: {\n        total: 0,\n        currentPage: 1,\n        pageSize: 50,\n        align: 'right',\n        pageSizes: [50, 100, 200, 500],\n        layouts: [\n          'Sizes',\n          'PrevJump',\n          'PrevPage',\n          'Number',\n          'NextPage',\n          'NextJump',\n          'FullJump',\n          'Total'\n        ],\n        perfect: true,\n        slots: {\n          // 使用自定义插槽\n          left: 'pager_left'\n        }\n      },\n      // table数据\n      tableDatas: [],\n      // table表头配置\n      tableColumns: [\n        {\n          field: 'companyName',\n          title: '公司名称',\n          align: 'center'\n        },\n        {\n          field: 'companyId',\n          title: '公司ID',\n          align: 'center'\n        },\n        {\n          field: 'deviceAllCount',\n          title: '总设备数',\n          align: 'center'\n        },\n        {\n          field: 'runCount',\n          title: '运行数',\n          align: 'center',\n          headerClassName: 'run',\n          slots: {\n            default: ({ row, column, cellValue }) => {\n              if (row.runCount > 0) {\n                return [\n                  <span type=\"text\" class=\"run\" >{row.runCount}</span>\n                ];\n              } else {\n                return [\n                  <span type=\"text\" >{row.runCount}</span>\n                ];\n              }\n            }\n          }\n        },\n        {\n          field: 'idleCount',\n          title: '空闲数',\n          align: 'center',\n          headerClassName: 'free',\n          slots: {\n            default: ({ row, column, cellValue }) => {\n              if (row.idleCount > 0) {\n                return [\n                  <span type=\"text\" class=\"free\" >{row.idleCount}</span>\n                ];\n              } else {\n                return [\n                  <span type=\"text\" >{row.idleCount}</span>\n                ];\n              }\n            }\n          }\n        },\n        {\n          field: 'offLineCount',\n          title: '离线数',\n          align: 'center',\n          headerClassName: 'offline',\n          slots: {\n            default: ({ row, column, cellValue }) => {\n              if (row.offLineCount > 0) {\n                return [\n                  <span type=\"text\" class=\"offline\" >{row.offLineCount}</span>\n                ];\n              } else {\n                return [\n                  <span type=\"text\" >{row.offLineCount}</span>\n                ];\n              }\n            }\n          }\n        },\n        {\n          field: 'warnCount',\n          title: '告警数',\n          align: 'center',\n          headerClassName: 'warn',\n          slots: {\n            default: ({ row, column, cellValue }) => {\n              if (cellValue > 0) {\n                return [\n                  <span type=\"text\" class=\"warn\" >{row.warnCount}</span>\n                ];\n              } else {\n                return [\n                  <span type=\"text\" >{row.warnCount}</span>\n                ];\n              }\n            }\n          }\n        }\n      ]\n    };\n  },\n  computed: {},\n  created() {\n    // 调用查询接口\n    this.findList();\n  },\n  methods: {\n    /**\n     * @description: table分页\n     * @param currentPage 第几页\n     * @param pageSize 一页几条\n     * @return: 无\n     * @author: ZJM\n     */\n    onTablePageChange(currentPage, pageSize) {\n      // 点击页数写入table分页配置\n      this.tablePage.currentPage = currentPage;\n      // 一页条数夜路table分页配置\n      this.tablePage.pageSize = pageSize;\n      // 调用查询接口\n      this.findList();\n    },\n    /**\n     * @description: 查询所属用户\n     * @param 无\n     * @return: 无\n     * @author: ZJM\n     */\n    async findList() {\n      try {\n        this.tableLoading = true;\n        const params = {\n          current: this.tablePage.currentPage,\n          size: this.tablePage.pageSize\n        };\n        // params.companyId = this.ztreeSelectedNode.id;\n        // if (this.searchName !== '') {\n        //   params.realName = this.searchName;\n        // }\n        const res = await getAllCompanyDeviceRealStateCountVoList(params, {});\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          this.tableDatas = res.rows;\n          this.tablePage.total = res.total;\n          this.tableLoading = false;\n        } else {\n          // 提示异常信息\n          showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    /**\n     * @description: 导出所属用户\n     * @param 无\n     * @return: 无\n     * @author: ZJM\n     */\n    async exportData() {\n      try {\n        this.tableLoading = true;\n        const params = {\n          current: VARIABLE.ONE_NUMBER,\n          size: VARIABLE.BIG_NUMBER\n        };\n        const res = await getAllCompanyDeviceRealStateCountVoList(params, {});\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          this.tableLoading = false;\n          this.$refs.xGrid.exportDatax('设备监控报表', res.rows);\n        } else {\n          // 提示异常信息\n          showWarningMessage(res.message);\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    }\n  }\n};\n","<!--\n * @Descripttion: 用户管理页面\n * @version:\n * @Author: ZJM\n * @Date: 2020-04-14 10:09:28\n * @LastEditors: ZJM\n * @LastEditTime: 2021-08-16 15:30:02\n -->\n<template>\n  <div>\n    <div >\n  <el-container class=\"content\">\n    <el-header>\n      <el-header>\n        <HeaderTitle class=\"header-title\">\n          <div slot=\"head-search\" class=\"head-search\">\n          </div>\n          <div slot=\"head-operation\" class=\"head-operation\">\n            <HeadOperationItem name=\"addDevice\" @onOprationItem=\"findList\">\n              <i slot=\"operation-icon\" class=\"icon-refresh\"></i>\n              <span slot=\"operation-name\">刷新</span>\n            </HeadOperationItem>\n            <HeadOperationItem name=\"addDevice\" @onOprationItem=\"exportData\">\n              <i slot=\"operation-icon\" class=\"icon-export\"></i>\n              <span slot=\"operation-name\">导出</span>\n            </HeadOperationItem>\n          </div>\n        </HeaderTitle>\n      </el-header>\n    </el-header>\n    <el-main>\n      <div class=\"area-main\">\n        <div class=\"area-info\">\n          <template>\n            <div class=\"userInformation\">\n              <VXETable\n                id=\"table\"\n                :height=\"$options.filters.getTableHeight(160)\"\n                :tableName=\"''\"\n                :tableLoading=\"tableLoading\"\n                :pager-config=\"tablePage\"\n                :tableDatas=\"tableDatas\"\n                :tableColumns=\"tableColumns\"\n                :tablePage=\"tablePage\"\n                @onTablePageChange=\"onTablePageChange\"\n                ref=\"xGrid\"\n              >\n              </VXETable>\n            </div>\n          </template>\n        </div>\n      </div>\n    </el-main>\n  </el-container>\n    </div>\n\n    </div>\n</template>\n\n<script>\nimport js from '@/assets/js/company/DeviceMonitor/index';\nexport default js;\n</script>\n\n<style lang=\"less\" scoped>\n@import '../../../assets/less/company/DeviceMonitor/index.less';\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=616c9d26&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=616c9d26&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"616c9d26\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=616c9d26&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=616c9d26&lang=less&scoped=true&\""],"sourceRoot":""}