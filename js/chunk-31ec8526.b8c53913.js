(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31ec8526"],{"0f5b":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:e.refName,staticClass:"lineChart",style:{width:e.width,height:e.height}})},i=[],a={name:"LineChart",props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},refName:{type:String,default:"chart"},chartName:{type:String,default:"计划产量"},chartData:{type:Object,default:function(){return{}}}},data:function(){return{data:[],loading:!1,chart:null}},watch:{chartData:{handler:function(){this.drawChart()},deep:!0}},methods:{drawChart:function(){var e={title:[{text:this.chartData.titleVal,x:"center",top:"55%",textStyle:{color:"#16CEB9",fontSize:"18",fontWeight:"300"}},{text:this.chartName,x:"center",top:"35%",textStyle:{fontSize:"18",color:"#FFFFFF",foontWeight:"600"}}],polar:{radius:["70%","85%"],center:["50%","50%"]},angleAxis:{max:this.chartData.full,show:!1},radiusAxis:{type:"category",show:!0,axisLabel:{show:!1},axisLine:{show:!1},axisTick:{show:!1}},series:[{name:"",type:"bar",roundCap:!0,barWidth:90,showBackground:!0,backgroundStyle:{color:"rgba(66, 66, 66, .2)"},data:[this.chartData.value],coordinateSystem:"polar",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,1,0,0,[{offset:0,color:"#16CEB9"},{offset:1,color:"#6648FF"}])}}}]};this.chart.setOption(e)},init:function(){}},mounted:function(){var e=this;this.chart=this.$echarts.init(this.$refs[this.refName]),setTimeout((function(){e.drawChart()}),500)}},o=a,c=n("2877"),s=Object(c["a"])(o,r,i,!1,null,"b1d5d9ac",null);t["a"]=s.exports},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("5a34"),a=n("1d80"),o=n("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(a(this)).indexOf(i(e),arguments.length>1?arguments[1]:void 0)}})},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},6464:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("5c96");function i(e,t){r["Notification"].error({title:e,message:t,duration:2e3,position:"bottom-right",showClose:!0})}},7598:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"i",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"s",(function(){return f})),n.d(t,"y",(function(){return h})),n.d(t,"x",(function(){return p})),n.d(t,"w",(function(){return v})),n.d(t,"H",(function(){return g})),n.d(t,"I",(function(){return w})),n.d(t,"j",(function(){return m})),n.d(t,"m",(function(){return b})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return C})),n.d(t,"o",(function(){return x})),n.d(t,"J",(function(){return D})),n.d(t,"t",(function(){return O})),n.d(t,"E",(function(){return k})),n.d(t,"A",(function(){return S})),n.d(t,"F",(function(){return T})),n.d(t,"z",(function(){return L})),n.d(t,"p",(function(){return j})),n.d(t,"n",(function(){return E})),n.d(t,"v",(function(){return R})),n.d(t,"u",(function(){return N})),n.d(t,"a",(function(){return M})),n.d(t,"C",(function(){return _})),n.d(t,"r",(function(){return U})),n.d(t,"q",(function(){return F})),n.d(t,"G",(function(){return I})),n.d(t,"D",(function(){return A})),n.d(t,"B",(function(){return B}));var r=n("b775"),i=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceRealState.action?",e,t)},a=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceStateReportStatistics.action?",e,t)},o=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceManager/getCheckCount.action?",e,t)},c=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceManager/getRepairTaskCount.action?",e,t)},s=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceManager/getMaintainTaskCount.action?",e,t)},u=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceReport/getDeviceDayUtilization.action?",e,t)},l=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceEarlyWarning/getDeviceWarnRecord.action?",e,t)},d=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getPageByDevice.action?",e,t)},f=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceMonitorReport.action?",e,t)},h=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getGasHoursUseReportBoard.action?",e,t)},p=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getEnergyTodayUse.action?",e,t)},v=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getEnergyTodayAndWeek.action?",e,t)},g=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getTodayAndYesterdayElectricityRecord.action?",e,t)},w=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getTopTenElectricityDevices.action?",e,t)},m=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getElectricityEnergyReport.action?",e,t)},b=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getWaterEnergyReport.action?",e,t)},y=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getGasEnergyReport.action?",e,t)},C=function(e,t){return Object(r["k"])("open-api/TvBoard/energyReport/getRecentDayEnergyRecord.action?",e,t)},x=function(e,t){return Object(r["k"])("realUserWork/getAndonKanbanOfRiSheng.action?",e,t)},D=function(e,t,n){return Object(r["k"])("existFunctionUpdate/listDeviceExceptionCount.action",e,t,n)},O=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceReport/getDeviceStateReportStatistics.action?",e,t,n)},k=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceManager/getRepairTask.action?",e,t,n)},S=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceManager/getMaintainTask.action?",e,t,n)},T=function(e,t,n){return Object(r["d"])("open-api/getTime.action?",e,t,n)},L=function(e,t,n){return Object(r["k"])("open-api/getGroupTree.action?",e,t,n)},j=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceManager/getConfigurationByEnum.action?",e,t,n)},E=function(e,t,n){return Object(r["k"])("open-api/TvBoard/device/getAllGroupAndDevice.action?",e,t,n)},R=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeFluctuationRate.action?",e,t,n)},N=function(e,t,n){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceTimeCapacityAndEnergyEfficiency.action?",e,t,n)},M=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getOneDayDetailStateClockInfo.action?",e,t)},_=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceReport/getOneDayDetailStateClock.action?",e,t)},U=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceInfo.action?",e,t)},F=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getDeviceHoursEffTrend.action?",e,t)},I=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getTimeDayTypeProduction.action?",e,t)},A=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceReport/getQueryDeviceStateTimeUtilization.action?",e,t)},B=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceRealLive/getManyDeviceTimeFluctuationRate.action?",e,t)}},7749:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"o",(function(){return o})),n.d(t,"j",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"s",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"q",(function(){return v})),n.d(t,"r",(function(){return g})),n.d(t,"b",(function(){return w})),n.d(t,"m",(function(){return m})),n.d(t,"p",(function(){return b})),n.d(t,"n",(function(){return y})),n.d(t,"k",(function(){return C})),n.d(t,"l",(function(){return x})),n.d(t,"i",(function(){return D})),n.d(t,"t",(function(){return O}));var r=n("b775"),i=n("99f6"),a=function(e,t){return Object(r["k"])("open-api/TvBoard/deviceEarlyWarning/getDeviceWarnRecord.action?",e,t)},o=function(e,t){return Object(r["d"])(i["e"]+"board/prodChart/oee?",e,t)},c=function(e,t){return Object(r["d"])(i["e"]+"custom/listPlannedProduction?",e,t)},s=function(e,t){return Object(r["k"])(i["e"]+"custom/insertPlannedProduction?",e,t)},u=function(e,t){return Object(r["k"])(i["e"]+"custom/updatePlannedProduction?",e,t)},l=function(e,t){return Object(r["d"])(i["e"]+"board/listBreakdownDetail?",e,t)},d=function(e,t){return Object(r["d"])(i["e"]+"board/dtPlatoChart?",e,t)},f=function(e,t){return Object(r["d"])(i["e"]+"board/dtWarnList?",e,t)},h=function(e,t){return Object(r["d"])(i["e"]+"board/dtWarningDetailList?",e,t)},p=function(e,t){return Object(r["k"])(i["e"]+"custom/insertOrUpdateWarningConfig?",e,t)},v=function(e,t){return Object(r["d"])(i["e"]+"board/prodChart/qty?",e,t)},g=function(e,t){return Object(r["d"])(i["e"]+"board/prodChart/yield?",e,t)},w=function(e,t){return Object(r["d"])(i["e"]+"board/deviceQtyTable?",e,t)},m=function(e,t){return Object(r["d"])(i["e"]+"board/listWarnStatisticsChart?",e,t)},b=function(e,t){return Object(r["d"])(i["e"]+"board/prodChartGroup?",e,t)},y=function(e,t){return Object(r["d"])(i["e"]+"custom/mapSpmAndDischargeNumber?",e,t)},C=function(e,t){return Object(r["d"])(i["e"]+"board/listRunStatisticsChart?",e,t)},x=function(e,t){return Object(r["d"])(i["e"]+"board/listTimeOperationRateChart?",e,t)},D=function(e,t){return Object(r["d"])(i["e"]+"board/listPerformanceOperationRateChart?",e,t)},O=function(e,t){return Object(r["d"])(i["e"]+"board/yieldComparisonChart?",e,t)}},"77ed":function(e,t,n){},"7f3d":function(e,t,n){"use strict";var r=n("77ed"),i=n.n(r);i.a},ab13:function(e,t,n){var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,a=n("44d2"),o=n("ae40"),c=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!c},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},dc3d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"kanban"},[n("div",{staticClass:"titleHead"},[n("p",{attrs:{id:"pHead"}},[e._v(e._s(e.title))])]),n("div",{staticClass:"kanbanContent"},[n("div",{staticClass:"leftContent"},[n("div",{staticClass:"left1"},[n("div",{staticClass:"left1title"},[e._v("今日运行状态")]),n("div",{staticClass:"left1content"},[n("div",{staticClass:"left1_1"},[n("div",{ref:"echarts2",staticClass:"left1_1content",attrs:{id:"echarts2"}}),n("div",{staticClass:"left1_1title"},[e._v("运行状态分布")])]),n("div",{staticClass:"left1_2"},[n("pie-progress",{attrs:{chartName:"OEE",refName:"oeeChart",width:"100%",height:"80%",chartData:e.oeeChartData}}),n("div",{staticClass:"left1_2title"},[e._v(" OEE ")])],1)]),n("div",{staticClass:"line"})]),n("div",{staticClass:"left2"},[n("div",{staticClass:"left2title"},[e._v("设备效率")]),n("div",{ref:"echarts1",staticClass:"left2content",attrs:{id:"echarts1"}}),n("div",{staticClass:"line"})]),n("div",{staticClass:"left3"},[n("div",{staticClass:"left3title"},[e._v("设备告警")]),n("div",{staticClass:"left3content"},[n("table",{attrs:{id:"warnTable"}},e._l(e.warnList,(function(t,r){return n("tr",{key:r},[e._m(0,!0),n("td",[n("p",{staticClass:"active"},[e._v(e._s(t.deviceName)+" 于 "+e._s(t.warningStartTime)+" ")]),n("p",{staticClass:"active"},[e._v("报警内容："+e._s(e.warnFunc(t)))])])])})),0)]),n("div",{staticClass:"line"})])]),n("div",{staticClass:"rightContent"},[n("div",{staticClass:"right1"},[n("div",{staticClass:"right1title"},[e._v("设备分布")]),e._m(1),n("div",{ref:"right1content",staticClass:"right1content",attrs:{id:"right1content"},domProps:{innerHTML:e._s(e.devStateHtml)}})]),n("div",{staticClass:"right2"},[n("div",{staticClass:"right2title"},[e._v("宕机时间")]),n("div",{ref:"echarts4",staticClass:"right2content",attrs:{id:"echarts4"}})]),n("div",{staticClass:"right2"},[n("div",{staticClass:"right2title"},[e._v("良品率")]),n("div",{ref:"echarts5",staticClass:"right2content",attrs:{id:"echarts5"}})]),n("div",{staticClass:"right2"},[n("div",{staticClass:"right2title"},[e._v("稼动率")]),n("div",{ref:"echarts6",staticClass:"right2content",attrs:{id:"echarts6"}})]),n("div",{staticClass:"right2"},[n("div",{staticClass:"right2title"},[e._v("产能")]),n("div",{ref:"echarts7",staticClass:"right2content",attrs:{id:"echarts7"}})])])])])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("td",[n("div",{staticClass:"warnRed"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"devLegen"},[n("div",{staticClass:"yxLege"}),n("div",{staticClass:"legeTitle"},[e._v("运行")]),n("div",{staticClass:"kxLege"}),n("div",{staticClass:"legeTitle"},[e._v("空闲")]),n("div",{staticClass:"lxLege"}),n("div",{staticClass:"legeTitle"},[e._v("离线")]),n("div",{staticClass:"gjLege"}),n("div",{staticClass:"legeTitle"},[e._v("告警")])])}],a=(n("99af"),n("4de4"),n("7db0"),n("4160"),n("caad"),n("c975"),n("a15b"),n("fb6a"),n("b0c0"),n("a9e3"),n("b680"),n("4d63"),n("ac1f"),n("25f0"),n("2532"),n("5319"),n("1276"),n("159b"),n("96cf"),n("1da1")),o=n("1157"),c=n.n(o),s=n("99f6"),u=n("0f5b"),l=n("7598"),d=n("7749"),f=n("e7dd"),h=n("582a"),p=(n("6464"),n("ef53")),v={name:"kanban",components:{PieProgress:u["a"]},data:function(){return{title:"",groupId:0,allId:0,showRun:!1,timer:{},timer4:{},time:"",warnHtml:"",devStateHtml:"",UtilizNum:0,devList:[],devLbIndex:0,warnList:[],productTaskData:[],rowDeviceNum:10,repairCard:{no:0,do:0,off:0},maintainCard:{no:0,do:0,off:0},checkCard:{no:0,do:0,off:0},current:1,size:6,current_w:1,size_w:4,kanbanConfig:{title:"数字化车间看板",key:"",time:15e3},electricList:[],todayElecticeNum:0,upDevUser:"无",code:"",oeeChartData:{full:0,value:0,titleVal:"0%"},cutDevice:{deviceCode:"",todayValue:0,planPro:0},devJSON:[]}},mounted:function(){var e=this.$refs.right1content,t=e;if(this.finga(t),this.kanbanConfig.showEnergy){var n=this.$refs.right4content,r=n;this.finga4(r)}},created:function(){var e=this,t=this;window.toDevicePage=t.toDevicePage,s["m"][this.getUrlKeyMain("cid",window.location.href)]&&(t.kanbanConfig=s["m"][this.getUrlKeyMain("cid",window.location.href)]),null!==this.getUrlKeyMain("tvNo",window.location.href)?(this.title=t.kanbanConfig.group[this.getUrlKeyMain("tvNo",window.location.href)].title,this.groupId=t.kanbanConfig.group[this.getUrlKeyMain("tvNo",window.location.href)].id,this.allId=t.kanbanConfig.group[this.getUrlKeyMain("tvNo",window.location.href)].allId,this.showRun=t.kanbanConfig.group[this.getUrlKeyMain("tvNo",window.location.href)].showRun,this.code=t.kanbanConfig.group[this.getUrlKeyMain("tvNo",window.location.href)].code):this.title=t.kanbanConfig.title,this.getDataTime(),this.$nextTick((function(){e.showLineAndDev(),e.init()})),setInterval((function(){e.getUpDevUser()}),35e3),setInterval((function(){e.showLineAndDev()}),5e3),t.kanbanConfig?setTimeout((function(){setInterval((function(){t.init()}),t.kanbanConfig.time)}),0):setTimeout((function(){setInterval((function(){t.init()}),15e3)}),0)},methods:{init:function(){this.getUpDevUser(),this.showEchartsData(),this.showEcharts2Data(),this.getOeeData(),this.showEcharts4Data(),this.showEcharts6Data(),this.showDevManagerData(),this.showWarn()},getUpDevUser:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(f["g"])({groupId:e.groupId},{});case 3:n=t.sent,n.code===h["M"].OPERATION_SUCCESS&&(n.rows.length>0?e.upDevUser=n.rows[0].realName+"("+n.rows[0].userName+")":e.upDevUser="无"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},finga:function(e){var t=this;this.timer=setInterval((function(){e.scrollTop+=1,e.clientHeight+e.scrollTop===e.scrollHeight&&(clearInterval(t.timer),setTimeout((function(){e.scrollTop=0}),2e3),setTimeout((function(){t.finga(e)}),4e3))}),50)},finga4:function(e){var t=this;this.timer4=setInterval((function(){e.scrollTop+=1,e.clientHeight+e.scrollTop===e.scrollHeight&&(clearInterval(t.timer4),setTimeout((function(){e.scrollTop=0}),2e3),setTimeout((function(){t.finga4(e)}),4e3))}),50)},warnFunc:function(e){return"报警信息"===e.warnName?e.warnValue:e.warnName},oeeFunc:function(e,t,n,r,i){return(e*t*(n*r/(60*i))/100).toFixed(2)},getplanProData:function(){var e=this;this.tableData=[],Object(d["j"])({keyWord:this.cutDevice.deviceCode,pageNum:1,pageSize:1},{}).then((function(t){var n;t.code===e.GLOBAL.STATUS_CODE.OPERATION_SUCCESS&&(e.cutDevice.planPro=(null===(n=t.rows[0])||void 0===n?void 0:n.plannedProduction)||0,e.htmlDevState(e.devJSON))}))},getOeeData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a,o,c,s,u,l,f,v,g,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={startTime:Object(p["b"])(0)+" 00:00:00",endTime:Object(p["b"])(0)+" 23:59:59",timeKeyEnum:"DAY",queryRunTime:!0,deviceCode:e.code},t.next=4,Object(d["o"])(n,{});case 4:r=t.sent,r.code===h["M"].OPERATION_SUCCESS&&(i=r.rows[0],a=i.availability,o=void 0===a?0:a,c=i.planCt,s=void 0===c?0:c,u=i.actualQty,l=void 0===u?0:u,f=i.runTime,v=r.rows[0].yield?Number(r.rows[0].yield.toFixed(2)):0,g=o?Number(o.toFixed(2)):0,w=0,w=0===v||0===g?0:e.oeeFunc(v,g,s,l,f),e.oeeChartData.full=100,e.oeeChartData.value=w,e.oeeChartData.titleVal=w+"%"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},showEchartsData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.devList.length&&e.devLbIndex!==e.devList.length-1){t.next=16;break}return t.prev=1,n={},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),e.groupId>0&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.next=7,Object(l["g"])({current:1,size:99999,startTime:Object(p["d"])(),endTime:Object(p["e"])()},n);case 7:r=t.sent,r.code===h["M"].OPERATION_SUCCESS&&(e.devList=r.rows,e.getDeviceTimeRecentDayUtilization(),e.devLbIndex=0),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.log(t.t0);case 14:t.next=18;break;case 16:e.getDeviceTimeRecentDayUtilization(),e.devLbIndex++;case 18:case"end":return t.stop()}}),t,null,[[1,11]])})))()},getDeviceTimeRecentDayUtilization:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a,o,c,s,u,d,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,n={conditionJson1:[{column:"deviceCode",operator:1,ptype:"string",type:"eq",value:e.devList[e.devLbIndex].deviceCode}]},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),t.next=5,Object(l["i"])({startTime:Object(p["b"])(7)+" 00:00:00",endTime:Object(p["b"])(0)+" 23:59:59"},n);case 5:if(r=t.sent,r.code===h["M"].OPERATION_SUCCESS){for(i=[],a=[],o=[],c=[],s=0,u=0;u<r.rows.length;u++)i.push(Number((100*r.rows[u].value).toFixed(2))),o.push(e.formatDateThree(r.rows[u].time)),c.push(Number((100*r.rows[u].value).toFixed(2))),s+=r.rows[u].value;for(d=(s/c.length*100).toFixed(2),f=0;f<c.length;f++)a.push(Number(d));e.showEcharts(i,a,o,Math.min.apply(null,c)-5,Math.max.apply(null,c)+5,e.devList[e.devLbIndex].deviceName)}t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},showDevManagerData:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),e.groupId>0&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.prev=3,t.next=6,Object(l["c"])({},n);case 6:r=t.sent,r.code===h["M"].OPERATION_SUCCESS&&(void 0===r.rows.waitCount?(e.checkCard.no=0,e.checkCard.do=0,e.checkCard.off=0):(e.checkCard.no=r.rows.waitCount,e.checkCard.do=r.rows.ingCount,e.checkCard.off=r.rows.finishCount)),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,t.finish(12);case 14:return t.prev=14,t.next=17,Object(l["e"])({},n);case 17:i=t.sent,i.code===h["M"].OPERATION_SUCCESS&&(e.repairCard.no=i.rows.waitCount,e.repairCard.do=i.rows.ingCount,e.repairCard.off=i.rows.finishCount),t.next=23;break;case 21:t.prev=21,t.t1=t["catch"](14);case 23:return t.prev=23,t.finish(23);case 25:return t.prev=25,t.next=28,Object(l["d"])({},n);case 28:a=t.sent,a.code===h["M"].OPERATION_SUCCESS&&(e.maintainCard.no=a.rows.waitCount,e.maintainCard.do=a.rows.ingCount,e.maintainCard.off=a.rows.finishCount),t.next=34;break;case 32:t.prev=32,t.t2=t["catch"](25);case 34:return t.prev=34,t.finish(34);case 36:case"end":return t.stop()}}),t,null,[[3,10,12,14],[14,21,23,25],[25,32,34,36]])})))()},showEcharts2Data:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),n.conditionJson1=[{column:"groupId",operator:1,ptype:"list",type:"in",value:e.groupId}],t.prev=3,t.next=6,Object(l["f"])({},n);case 6:r=t.sent,r.code===h["M"].OPERATION_SUCCESS&&e.showEcharts2([{name:"运行",value:r.rows.runCount},{name:"空闲",value:r.rows.idleCount},{name:"离线",value:r.rows.offLineCount},{name:"告警",value:r.rows.warnCount}]),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[3,10,12,14]])})))()},showEcharts3Data:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[]},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),n.conditionJson1=[{column:"groupId",operator:1,ptype:"list",type:"in",value:e.groupId}],t.prev=3,t.next=6,Object(l["i"])({startTime:Object(p["d"])(),endTime:Object(p["e"])()},n);case 6:r=t.sent,r.code===h["M"].OPERATION_SUCCESS&&(i=parseInt(100*r.rows[0].value),e.showEcharts3(i),e.UtilizNum=i),t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[3,10,12,14]])})))()},showEcharts4Data:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d["m"])({startTime:Object(p["b"])(0)+" 00:00:00",endTime:Object(p["b"])(0)+" 23:59:59",timeKeyEnum:"LESSON",deviceCode:e.code},{});case 3:if(n=t.sent,n.code===h["M"].OPERATION_SUCCESS){for(r=[],i=[],a=0;a<n.rows.length;a++)r.push(Number(n.rows[a].radio.toFixed(0))),i.push(n.rows[a].key);e.showEcharts4(r,i)}t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("OEE",t.t0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},showEcharts6Data:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a,o,c,s,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(d["o"])({startTime:Object(p["b"])(0)+" 00:00:00",endTime:Object(p["b"])(0)+" 23:59:59",timeKeyEnum:"LESSON",deviceCode:e.code},{});case 3:if(n=t.sent,n.code===h["M"].OPERATION_SUCCESS){for(r=[],i=[],a=[],o=[],c=[],s=[],u=0;u<n.rows.length;u++)n.rows[u].availability?r.push(Number(n.rows[u].availability.toFixed(2))):r.push(0),n.rows[u].yield?i.push(Number(n.rows[u].actualQty.toFixed(0))):i.push(0),n.rows[u].planQty?a.push(Number(n.rows[u].planQty.toFixed(0))):a.push(0),n.rows[u].yield?o.push(Number(n.rows[u].yield.toFixed(2))):o.push(0),n.rows[u].planYield?c.push(Number(n.rows[u].planYield.toFixed(2))):c.push(0),s.push(n.rows[u].key);e.showEcharts6(r,s),e.showEcharts7(i,a,s),e.showEcharts5(o,c,s)}t.next=11;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log("OEE",t.t0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,7]])})))()},showLineAndDev:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r,i,a,o,c,s,u,d,f,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={conditionJson1:[],current:1,size:99999999},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),e.groupId&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"list",type:"in",value:e.groupId}]),n.conditionJson1.push({column:"isProductionDevice",operator:1,ptype:"int",type:"eq",value:1}),t.prev=4,t.next=7,Object(l["h"])({startTime:Object(p["d"])(),endTime:Object(p["e"])()},n);case 7:if(r=t.sent,r.code===h["M"].OPERATION_SUCCESS){for(i=[],a=[],o=[],c=[],s=0;s<r.rows.length;s++)3!==r.rows[s].realState&&c.push(r.rows[s]);for(o=e.showRun?c:r.rows,u=0;u<o.length;u++)d="",d=o[u].productionLine?o[u].productionLine:o[u].workshop?o[u].workshop:o[u].factory?o[u].factory:"其他",f=i.indexOf(d),-1===f?(i.push(d),a.push({lineName:d,devListData:[o[u]]})):a[f].devListData.push(o[u]);e.devJSON=a,a[0].devListData.length>0&&(v=a[0].devListData.find((function(e){return e.deviceName.includes("裁切检测包装机")})),e.cutDevice.deviceCode=v.deviceCode,e.cutDevice.todayValue=e.getDeviceTodayValue(v),e.getplanProData())}t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](4);case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}}),t,null,[[4,11,13,15]])})))()},getDeviceTodayValue:function(e){var t=0;if(e.todayValue)t=e.todayValue;else{for(var n=0,r=e.parameter,i=(new Date).getHours(),a=0;a<r.length;a++)i<8?("生产计数白天总数据"===r[a].parameterName&&(n+=Number(r[a].parameterValue)),"生产计数晚上总数据"===r[a].parameterName&&(n+=Number(r[a].parameterValue))):i<20&&i>8?"生产计数白天总数据"===r[a].parameterName&&(n+=Number(r[a].parameterValue)):i>20&&("生产计数白天总数据"===r[a].parameterName&&(n+=Number(r[a].parameterValue)),"生产计数晚上总数据"===r[a].parameterName&&(n+=Number(r[a].parameterValue)));t=n}return t},htmlDevState:function(e){this.devStateHtml="";var t=6,n=75,r=!0;window.innerWidth<=1024?(t=6,n=24,r=!1):window.innerWidth<=1280&&(t=8,n=32,r=!1);for(var i=.3*this.$refs.right1content.offsetHeight-n,a=e,o="",c=0;c<a.length;c++){var s=Math.ceil(a[c].devListData.length/t),u=0,l=0;if(0!==c){var d=Math.ceil(a[c-1].devListData.length/t);o+=d>=2?r?'<div class="lineCON" style="margin-top:'+1.1*d*i+'px;" >':'<div class="lineCON" style="margin-top:'+(d-1)*i+'px;" >':'<div class="lineCON" >'}else o+='<div class="lineCON" >';o+='      <p class="lineName" >'+a[c].lineName+"</p>";for(var f=0;f<s;f++){a[c].devList<=t?l+=a[c].devListData.length:(u+1)*t>a[c].devListData.length?l+=a[c].devListData.length%t:l+=t,u++,o+='      <div class="lineDev" >',o+='        <div class="blackDev" >';for(var h=0;h<t;h++)o+='       <div class="blackTask" ></div>';o+='           <div class="blackLine" ></div>',o+="           </div>",o+='           <div class="blackState" >';for(var p=f*t;p<l;p++){if(o+="<div onclick=\"toDevicePage('".concat(a[c].devListData[p].deviceCode,"','").concat(a[c].devListData[p].deviceName,'\')" class="devTask state').concat(a[c].devListData[p].deviceRealState,'">'),a[c].devListData[p].todayValue)o+='          <span class="devTask_span2"  >'+a[c].devListData[p].todayValue+"</span>";else{for(var v=0,g=a[c].devListData[p].parameter,w=(new Date).getHours(),m=0;m<g.length;m++)w<8?("生产计数白天总数据"===g[m].parameterName&&(v+=Number(g[m].parameterValue)),"生产计数晚上总数据"===g[m].parameterName&&(v+=Number(g[m].parameterValue))):w<20&&w>8?"生产计数白天总数据"===g[m].parameterName&&(v+=Number(g[m].parameterValue)):w>20&&("生产计数白天总数据"===g[m].parameterName&&(v+=Number(g[m].parameterValue)),"生产计数晚上总数据"===g[m].parameterName&&(v+=Number(g[m].parameterValue)));o+='          <span class="devTask_span2"  >'+v+"</span>"}o+="          <p>"+a[c].devListData[p].deviceName+"</p>",o+="           </div>"}o+='<div class="devTask planpro_box">\n            <span class="devTask_span2">'.concat(this.cutDevice.planPro,"</span>\n            <p>计划产量</p>\n          </div>"),o+='<div class="devTask '.concat(this.getDiffState(),'">\n            <span class="devTask_span2">').concat(this.cutDevice.todayValue-this.cutDevice.planPro,"</span>\n            <p>差值</p>\n          </div>"),o+="          </div>",o+="      </div>"}o+="</div>"}this.devStateHtml=o},getDiffState:function(){return this.cutDevice.todayValue-this.cutDevice.planPro>0?"devTask_green":this.cutDevice.todayValue-this.cutDevice.planPro<0?"devTask_red":"devTask_yellow"},toDevicePage:function(e,t){this.$router.push({path:"/xwreport/capacity",query:{deviceCode:e,deviceName:t}})},scrollDev:function(){var e,t=this,n=this;this.timer=setInterval((function(){t.$nextTick((function(){t.$refs.right1content.scrollTop===e?(clearInterval(t.timer),setTimeout((function(){}),2500)):(e=n.$refs.right1content.scrollTop,t.$refs.right1content.scrollTo(0,e+1))}))}),50)},showWarn:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return window.innerWidth<=1024&&(e.size_w=3),n={current:e.current_w,size:e.size_w},e.getUrlKeyMain("cid",window.location.href)&&(n.secretKey=e.kanbanConfig.key),e.groupId>0&&(n.conditionJson1=[{column:"groupId",operator:1,ptype:"int",type:"eq",value:e.groupId}]),t.prev=4,t.next=7,Object(l["b"])({processStateEnum:"UN_PROCESS"},n);case 7:r=t.sent,r.code===h["M"].OPERATION_SUCCESS&&(e.current_w*e.size_w>=r.total?e.current_w=1:e.current_w++,e.warnList=r.rows),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](4),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))()},showEcharts:function(e,t,n,r,i,a){var o=["#36CE9E","#0090FF","#FFC005","#FF515A","#8B5CFF","#00CA69"],c=function(e,t){var n="",r=/^#[\da-f]{6}$/i;return r.test(e)&&(n="rgba(".concat(parseInt("0x"+e.slice(1,3)),",").concat(parseInt("0x"+e.slice(3,5)),",").concat(parseInt("0x"+e.slice(5,7)),",").concat(t,")")),n},s={a:50,b:35,c:18,d:[15,0,0,40]};window.innerWidth<=1024?s={a:30,b:25,c:8,d:[5,0,0,10]}:window.innerWidth<=1280&&(s={a:30,b:20,c:12,d:[5,0,0,20]});var u=this.$echarts.init(this.$refs.echarts1),l={color:o,title:{text:a,padding:s.d,left:"left",textStyle:{color:"#fff",fontSize:s.c}},legend:{itemHeight:5,right:10,top:0,icon:"roundRect",textStyle:{verticalAlign:"middle",color:"#ffffff"}},grid:{top:s.a,bottom:s.b},xAxis:[{type:"category",boundaryGap:!1,axisLabel:{formatter:"{value}",fontSize:s.c,textStyle:{color:"#fff"}},data:n}],yAxis:[{min:r,max:i,type:"value",axisLabel:{fontSize:s.c,textStyle:{color:"#fff"}},nameTextStyle:{color:"#fff",fontSize:12,lineHeight:40},splitLine:{lineStyle:{color:"rgba(150, 164, 244, 0.2)"}},axisLine:{show:!1},axisTick:{show:!1}}],series:[{name:"平均效率",type:"line",zlevel:3,showSymbol:!1,lineStyle:{normal:{color:o[0],shadowBlur:3}},data:t},{name:"设备效率",type:"line",zlevel:3,showSymbol:!1,lineStyle:{normal:{color:o[1],shadowBlur:3,shadowColor:c(o[1],.5),shadowOffsetY:8}},areaStyle:{normal:{color:this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:c(o[1],.3)},{offset:1,color:c(o[1],.1)}],!1),shadowColor:c(o[1],.1),shadowBlur:10}},data:e}]};u.setOption(l,!0),window.addEventListener("resize",(function(){u.resize()}))},showEcharts2:function(e){var t={a:15,b:[5,0,5,0],c:"1%",d:["35%","50%"],e:15,f:15};window.innerWidth<=1024?t={a:10,b:[0,0,0,0],c:"0%",d:["30%","50%"],e:10,f:10}:window.innerWidth<=1280&&(t={a:12,b:[2,0,2,0],c:"0%",d:["30%","50%"],e:12,f:12});var n=this.$echarts.init(this.$refs.echarts2),r=["#09DBA0","#E2CD16","#A0A0A0","#F1464E"],i=["运行","空闲","离线","告警"],a={color:r,grid:{top:"15%",left:0,right:t.c,bottom:5,containLabel:!0},legend:{orient:"vertical",top:"center",right:0,itemWidth:t.e,itemHeight:t.f,textStyle:{color:"#ffffff",align:"left",verticalAlign:"middle",rich:{name:{color:"rgba(255,255,255,1)",fontSize:t.a,padding:t.b},value:{color:"rgba(255,255,255,0.5)",fontSize:t.a},rate:{color:"rgba(255,255,255,0.9)",fontSize:t.a}}},data:i,formatter:function(t){if(e.length){var n=e.filter((function(e){return e.name===t}))[0];return"{name|".concat(t,":}{rate| ").concat(n.value,"台}")}}},series:[{name:"需求类型占比",color:["rgba(75, 243, 249, 0.2)"],type:"pie",center:t.d,radius:["45%","75%"],label:{normal:{show:!1},emphasis:{show:!0,textStyle:{fontSize:"12"}}},labelLine:{show:!1,length:0,length2:0},data:[{name:"全部",value:100}]},{name:"需求类型占比",type:"pie",center:t.d,radius:["45%","68%"],label:{normal:{show:!1},emphasis:{show:!0,textStyle:{fontSize:"12"}}},labelLine:{show:!1,length:0,length2:0},data:e}]};n.setOption(a,!0),window.addEventListener("resize",(function(){n.resize()}))},showEcharts3:function(e){var t={a:"80%",b:"65%",c:"70%",d:"31%",e:12};window.innerWidth<=1024?t={a:"80%",b:"65%",c:"70%",d:"30%",e:2}:window.innerWidth<=1280&&(t={a:"80%",b:"65%",c:"70%",d:"30%",e:10});var n=this.$echarts.init(this.$refs.echarts3),r=e,i=100,a={legend:{show:!1},series:[{name:"最外部进度条",type:"gauge",radius:t.a,splitNumber:10,axisLine:{lineStyle:{color:[[.2,"#02d5ff"],[.4,"#009eff"],[.6,"#0072ff"],[.8,"#a82dff"],[1,"#e92dff"]],width:10}},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{show:!1},title:{show:!1},data:[{name:"title",value:r}],pointer:{show:!1},animationDuration:4e3},{name:"刻度尺",type:"gauge",radius:t.b,splitNumber:10,min:0,max:i,axisLine:{lineStyle:{color:[[1,{type:"radial",x:.5,y:.6,r:.6,colorStops:[{offset:.85,color:"#031F46"},{offset:.93,color:"#086989"},{offset:1,color:"#12D7EF"}]}]],width:500}},splitLine:{show:!0,length:14,lineStyle:{width:3,color:"#12E5FE"}},axisTick:{show:!0,splitNumber:18,lineStyle:{color:"#12E5FE",width:1},length:5},axisLabel:{distance:2,color:"#CEF3FE",fontSize:t.e},detail:{show:!1},animationDuration:4e3},{name:"外部指针",type:"gauge",radius:t.c,axisLine:{lineStyle:{color:[[r/i-.001,"rgba(0,0,0,0)"],[r/i+.003,"#C34743"],[1,"rgba(0,0,0,0)"]],width:80}},axisLabel:{show:!1},axisTick:{show:!1},splitLine:{show:!1},itemStyle:{show:!1},detail:{show:!1},title:{show:!1},data:[{name:"title",value:r}],pointer:{show:!1},animationDuration:4e3},{name:"内层带指针",type:"gauge",radius:t.d,splitNumber:10,min:0,max:100,axisLine:{lineStyle:{color:[[1,{type:"radial",x:.5,y:.59,r:.6,colorStops:[{offset:.72,color:"#032046"},{offset:.94,color:"#086989"},{offset:.98,color:"#0FAFCB"},{offset:1,color:"#0EA4C1"}]}]],width:1e3}},splitLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},pointer:{show:!0,length:"95%",width:5},itemStyle:{color:"#12E5FF"},data:[{value:r}],detail:{show:!1}}]};n.setOption(a,!0),window.addEventListener("resize",(function(){n.resize()}))},showEcharts4:function(e,t){var n=this.$echarts.init(this.$refs.echarts4),r={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"2%",right:"4%",bottom:"10%",top:"10%",containLabel:!0},xAxis:{type:"category",data:t,axisLine:{lineStyle:{color:"white"}},axisLabel:{textStyle:{fontFamily:"Microsoft YaHei"},formatter:function(e){var t=e.split(" ")[1];return t.split(":")[0]}}},yAxis:{type:"value",axisLine:{show:!1,lineStyle:{color:"white"}},splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.3)"}},axisLabel:{}},series:[{name:"",type:"bar",barWidth:"35%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#f5804d"},{offset:1,color:"#f5804d"}]),barBorderRadius:12}},data:e}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))},showEcharts6:function(e,t){var n=this.$echarts.init(this.$refs.echarts6),r={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"2%",right:"4%",bottom:"10%",top:"10%",containLabel:!0},xAxis:{type:"category",data:t,axisLine:{lineStyle:{color:"white"}},axisLabel:{textStyle:{fontFamily:"Microsoft YaHei"},formatter:function(e){var t=e.split(" ")[1];return t.split(":")[0]}}},yAxis:{type:"value",axisLine:{show:!1,lineStyle:{color:"white"}},splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.3)"}},axisLabel:{}},series:[{name:"",type:"bar",barWidth:"35%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#e3cd16"},{offset:1,color:"#e3cd16"}]),barBorderRadius:12}},data:e}]};n.setOption(r,!0),window.addEventListener("resize",(function(){n.resize()}))},showEcharts7:function(e,t,n){var r=this.$echarts.init(this.$refs.echarts7),i={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"2%",right:"4%",bottom:"10%",top:"10%",containLabel:!0},xAxis:{type:"category",data:n,axisLine:{lineStyle:{color:"white"}},axisLabel:{textStyle:{fontFamily:"Microsoft YaHei"},formatter:function(e){var t=e.split(" ")[1];return t.split(":")[0]}}},yAxis:{type:"value",axisLine:{show:!1,lineStyle:{color:"white"}},splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.3)"}},axisLabel:{}},series:[{name:"",type:"bar",barWidth:"35%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#d351d6"},{offset:1,color:"#d351d6"}]),barBorderRadius:12}},data:e},{name:"",type:"line",barWidth:"35%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#09dba0"},{offset:1,color:"#09dba0"}])}},data:t}]};r.setOption(i,!0),window.addEventListener("resize",(function(){r.resize()}))},showEcharts5:function(e,t,n){var r=this.$echarts.init(this.$refs.echarts5),i={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"2%",right:"4%",bottom:"10%",top:"10%",containLabel:!0},xAxis:{type:"category",data:n,axisLine:{lineStyle:{color:"white"}},axisLabel:{textStyle:{fontFamily:"Microsoft YaHei"},formatter:function(e){var t=e.split(" ")[1];return t.split(":")[0]}}},yAxis:{type:"value",axisLine:{show:!1,lineStyle:{color:"white"}},splitLine:{show:!0,lineStyle:{color:"rgba(255,255,255,0.3)"}},axisLabel:{}},series:[{name:"",type:"bar",barWidth:"35%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#09dba0"},{offset:1,color:"#09dba0"}]),barBorderRadius:12}},data:e},{name:"",type:"line",barWidth:"35%",itemStyle:{normal:{color:new this.$echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#409eff"},{offset:1,color:"#409eff"}])}},data:t}]};r.setOption(i,!0),window.addEventListener("resize",(function(){r.resize()}))},nameFormat:function(e,t,n){var r=e,i=t,a=t,o=1;if(r.length>2*t+1){var c=r.split("|");c.length>1&&(c[0].length<t&&(i=c[0].length,a=2*t-c[0].length),c[1].length<t&&(i=2*t-c[1].length,a=c[1].length),c[0]=c[0].substring(0,i),c[1]=c[1].substring(0,a),null!=c&&(r=c.join("|")))}else{c=r.split("|");c.length>1&&(c[0].length<t&&c[1].length<t&&(o=0),null!=c&&(r=c.join("|")))}return 1===n&&(1===o?r=r.substring(0,r.length/2)+"\n"+r.substring(r.length/2):0===o&&(r=r.split("|").join("\n"))),r},tick:function(){var e=new Date,t=e.getYear();t<1900&&(t+=1900);var n=e.getMonth()+1;n<10&&(n="0"+n);var r=e.getDate();r<10&&(r="0"+r);var i=e.getHours();i<10&&(i="0"+i);var a=e.getMinutes();a<10&&(a="0"+a);var o=e.getSeconds();o<10&&(o="0"+o),this.time=t+" 年 "+n+" 月 "+r+" 日 "+i+" : "+a+" : "+o},getDataTime:function(){this.dataTime=new Date(c.a.ajax({type:"HEAD",async:!1}).getResponseHeader("Date")).getTime(),console.log("时间",c.a.ajax({type:"HEAD",async:!1}).getResponseHeader("Date")),this.toGetTime()},toGetTime:function(){var e=this;setInterval((function(){var t=new Date(e.dataTime),n=t.getFullYear(),r=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate(),a=t.getHours()<10?"0"+t.getHours():t.getHours(),o=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),c=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();e.time=n+" 年 "+r+" 月 "+i+" 日   "+a+":"+o+":"+c,e.dataTime+=1e3}),1e3)},showLogo:function(){return"logo_"+this.kanbanConfig.logo},showLogo2:function(){return"161"===this.getUrlKeyMain("cid",window.location.href)?"logo_lt2":""},showLogo3:function(){return"161"===this.getUrlKeyMain("cid",window.location.href)?"logo_ry2":""},getUrlKeyMain:function(e,t){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t)||[,""])[1].replace(/\+/g,"%20"))||null},formatDateThree:function(e){var t="",n="";t=new Date(e);var r=t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,i=t.getDate()<10?"0"+t.getDate():t.getDate();return n=r+"-"+i,n},limitMoveNum:function(){var e=0;return this.productTaskData.forEach((function(t){e+=t.length})),e>2?1:3}}},g=v,w=(n("7f3d"),n("2877")),m=Object(w["a"])(g,r,i,!1,null,"e3cf76f6",null);t["default"]=m.exports},e7dd:function(e,t,n){"use strict";n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"j",(function(){return f})),n.d(t,"g",(function(){return h}));var r=n("b775"),i=function(e,t){return Object(r["k"])("existFunctionUpdate/listAndonMttRMtbF.action?",e,t)},a=function(e,t){return Object(r["k"])("deviceException/getDeviceExceptionComparedAnalyzeNew.action?",e,t)},o=function(e,t){return Object(r["k"])("existFunctionUpdate/getAndonExceptionWarnReport.action?",e,t)},c=function(e,t){return Object(r["k"])("existFunctionUpdate/listDeviceCallDetail.action?",e,t)},s=function(e,t){return Object(r["k"])("existFunctionUpdate/listRepairTimeAnalysis.action?",e,t)},u=function(e,t){return Object(r["d"])("realUserWork/getWorkDeviceOfUser.action?",e,t)},l=function(e,t){return Object(r["d"])("realUserWork/getDeviceWorkState.action?",e,t)},d=function(e,t){return Object(r["d"])("realUserWork/startWork.action?",e,t)},f=function(e,t){return Object(r["d"])("realUserWork/stopWork.action?",e,t)},h=function(e,t){return Object(r["k"])("realUserWork/listRealUserWorkRecord.action?",e,t)}},ef53:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return l}));n("a15b");function r(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1,n=(new Date).getDate();return t=t<10?"0"+t:t,n=n<10?"0"+n:n,[e,t,n].join("-")+" 00:00:00"}function i(e){var t=new Date(e),n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate();return r=r<10?"0"+r:r,i=i<10?"0"+i:i,[n,r,i].join("-")+" 00:00:00"}function a(){var e=(new Date).getFullYear(),t=(new Date).getMonth()+1,n=(new Date).getDate();return t=t<10?"0"+t:t,n=n<10?"0"+n:n,[e,t,n].join("-")+" 23:59:59"}function o(e){var t=new Date(e),n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate();return r=r<10?"0"+r:r,i=i<10?"0"+i:i,[n,r,i].join("-")+" 23:59:59"}function c(e){var t=new Date((new Date).getTime()-864e5*e),n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate();return r=r<10?"0"+r:r,i=i<10?"0"+i:i,[n,r,i].join("-")}function s(e,t){var n=new Date(t-864e5*e),r=n.getFullYear(),i=n.getMonth()+1,a=n.getDate();return i=i<10?"0"+i:i,a=a<10?"0"+a:a,[r,i,a].join("-")}function u(){var e=new Date;e.setDate(1);var t=e.getFullYear(),n=e.getMonth()+1;n=n>10?n:"0"+n;var r=e.getDate();return r=r<10?"0"+r:r,t+"-"+n+"-"+r}function l(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1;n=n>10?n:"0"+n;var r=new Date(t,n,1);console.log(r);var i=864e5,a=new Date(r-i),o=a.getDate();return console.log(o),o=o<10?"0"+o:o,t+"-"+n+"-"+o}}}]);
//# sourceMappingURL=chunk-31ec8526.b8c53913.js.map