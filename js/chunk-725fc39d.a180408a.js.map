{"version":3,"sources":["webpack:///./src/views/kanban_xdf/deviceState.vue?89d8","webpack:///src/views/kanban_xdf/deviceState.vue","webpack:///./src/views/kanban_xdf/deviceState.vue?78cd","webpack:///./src/views/kanban_xdf/deviceState.vue?7e39","webpack:///./src/views/kanban_xdf/deviceState.vue?8897","webpack:///./src/api/kanban.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","_m","_l","item","index","key","_s","deviceName","deviceLiveReportVo","staticStyle","toHoursAndMinutes","runTimeSum","_e","idleTimeSum","offlineTimeSum","warnTimeSum","availability","staticRenderFns","name","data","kanbanConfig","devStateList","current_s","size_s","currentTime","dataTime","destroyed","timer","clearInterval","methods","hours","Math","floor","totalMinutes","minutes","getTodayFirstDay","y","time","getFullYear","m","getMonth","d","getDate","join","getTodayLastDay","getUrlKeyMain","component","deviceRealLiveGetDeviceRealState","param","jsonData","postAplicationJSON","deviceRealLiveGetDeviceStateReportStatistics","deviceManagerGetCheckCount","deviceManagerGetRepairTaskCount","deviceManagerGetMaintainTaskCount","deviceReportGetDeviceDayUtilization","deviceEarlyWarningGetDeviceWarnRecord","deviceRealLiveGetPageByDevice","getDeviceMonitorReport","getGasHoursUseReportBoard","getEnergyTodayUse","getEnergyTodayAndWeek","getTodayAndYesterdayElectricityRecord","getTopTenElectricityDevices","energyReportGetElectricityEnergyReport","energyReportGetWaterEnergyReport","energyReportGetGasEnergyReport","energyReportGetRecentDayEnergyRecord","getAndonKanbanOfRiSheng","listDeviceExceptionCount","config","getDeviceStateReportStatistics","getRepairTask","getMaintainTask","getServerTime","getAplicationJSON","getGroupTree","getConfigurationByEnum","getAllGroupAndDeviceOpenApi","getDeviceTimeFluctuationRate","getDeviceTimeCapacityAndEnergyEfficiency","GetOneDayDetailStateClockInfoOpen","getOneDayDetailStateClockOpen","getDeviceInfoOpen","getDeviceHoursEffTrendOpen","getTimeDayTypeProduction","getQueryDeviceStateTimeUtilization","getManyDeviceTimeFluctuationRate"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIO,GAAG,UAAUH,EAAG,MAAM,CAACI,IAAI,WAAWF,YAAY,aAAa,CAACF,EAAG,QAAQ,CAACK,MAAM,CAAC,GAAK,eAAe,CAACT,EAAIU,GAAG,GAAGV,EAAIW,GAAIX,EAAgB,cAAE,SAASY,EAAKC,GAAO,OAAOT,EAAG,KAAK,CAACU,IAAID,GAAO,CAACT,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIe,GAAGH,EAAKI,eAAeZ,EAAG,KAAK,CAAEQ,EAAKK,mBAA6B,WAAEb,EAAG,OAAO,CAACc,YAAY,CAAC,MAAQ,YAAY,CAAClB,EAAIO,GAAGP,EAAIe,GAAGf,EAAImB,kBAAkBP,EAAKK,mBAAmBG,gBAAgBpB,EAAIqB,KAAOT,EAAKK,mBAAmBG,WAAoEpB,EAAIqB,KAA5DjB,EAAG,OAAO,CAACc,YAAY,CAAC,MAAQ,SAAS,CAAClB,EAAIO,GAAG,SAAkBH,EAAG,KAAK,CAAEQ,EAAKK,mBAA8B,YAAEb,EAAG,OAAO,CAACc,YAAY,CAAC,MAAQ,YAAY,CAAClB,EAAIO,GAAGP,EAAIe,GAAGf,EAAImB,kBAAkBP,EAAKK,mBAAmBK,iBAAiBtB,EAAIqB,KAAOT,EAAKK,mBAAmBK,YAAqEtB,EAAIqB,KAA5DjB,EAAG,OAAO,CAACc,YAAY,CAAC,MAAQ,SAAS,CAAClB,EAAIO,GAAG,SAAkBH,EAAG,KAAK,CAAEQ,EAAKK,mBAAiC,eAAEb,EAAG,OAAO,CAACc,YAAY,CAAC,MAAQ,YAAY,CAAClB,EAAIO,GAAGP,EAAIe,GAAGf,EAAImB,kBAAkBP,EAAKK,mBAAmBM,oBAAoBvB,EAAIqB,KAAOT,EAAKK,mBAAmBM,eAAwEvB,EAAIqB,KAA5DjB,EAAG,OAAO,CAACc,YAAY,CAAC,MAAQ,SAAS,CAAClB,EAAIO,GAAG,SAAkBH,EAAG,KAAK,CAAEQ,EAAKK,mBAA8B,YAAEb,EAAG,OAAO,CAACc,YAAY,CAAC,MAAQ,YAAY,CAAClB,EAAIO,GAAGP,EAAIe,GAAGf,EAAImB,kBAAkBP,EAAKK,mBAAmBO,iBAAiBxB,EAAIqB,KAAOT,EAAKK,mBAAmBO,YAAqExB,EAAIqB,KAA5DjB,EAAG,OAAO,CAACc,YAAY,CAAC,MAAQ,SAAS,CAAClB,EAAIO,GAAG,SAAkBH,EAAG,KAAK,CAACJ,EAAIO,GAAGP,EAAIe,GAAGH,EAAKK,mBAAmBQ,aAAe,MAAM,aAAY,GAAGrB,EAAG,MAAM,CAACE,YAAY,eAC7mDoB,EAAkB,CAAC,WAAa,IAAI1B,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIO,GAAG,UAAUH,EAAG,KAAK,CAACc,YAAY,CAAC,MAAQ,YAAY,CAAClB,EAAIO,GAAG,UAAUH,EAAG,KAAK,CAACc,YAAY,CAAC,MAAQ,YAAY,CAAClB,EAAIO,GAAG,UAAUH,EAAG,KAAK,CAACc,YAAY,CAAC,MAAQ,YAAY,CAAClB,EAAIO,GAAG,UAAUH,EAAG,KAAK,CAACc,YAAY,CAAC,MAAQ,YAAY,CAAClB,EAAIO,GAAG,UAAUH,EAAG,KAAK,CAACJ,EAAIO,GAAG,Y,oIC+C7Y,GACEoB,KAAM,aACNC,KAFF,WAGI,MAAO,CACLC,aAAc,GACdC,aAAc,GACdC,UAAW,EACXC,OAAQ,GACRC,YAAa,EACbC,SAAU,IAGd,QAZF,WAYA,8JACA,8DACA,2BACA,+DAEA,sDACA,eACA,qDAUA,gBACA,uBACA,mBACA,KACA,gCACA,oBACA,4DACA,wBACA,kBACA,KA1BA,8CAgCEC,UA5CF,WA6CIlC,KAAKmC,OAASC,cAAcpC,KAAKmC,QAEnCE,QAAS,CACPnB,kBADJ,SACA,GACM,IAAIoB,EAAQC,KAAKC,MAAMC,EAAe,IAClCC,EAAUH,KAAKC,MAAMC,EAAe,IACxC,OAAIH,EACK,GAAf,gDAEe,GAAf,kCAGIK,iBAVJ,WAWM,IAAN,0BACUC,EAAIC,EAAKC,cACTC,EAAIF,EAAKG,WAAa,EACtBC,EAAIJ,EAAKK,UAIb,OAHAH,EAAIA,EAAI,GAAK,IAAMA,EAAIA,EACvBE,EAAIA,EAAI,GAAK,IAAMA,EAAIA,EAEhB,CAACL,EAAGG,EAAGE,GAAGE,KAAK,KAAO,aAE/BC,gBApBJ,WAqBM,IAAN,0BACUR,EAAIC,EAAKC,cACTC,EAAIF,EAAKG,WAAa,EACtBC,EAAIJ,EAAKK,UAIb,OAHAH,EAAIA,EAAI,GAAK,IAAMA,EAAIA,EACvBE,EAAIA,EAAI,GAAK,IAAMA,EAAIA,EAEhB,CAACL,EAAGG,EAAGE,GAAGE,KAAK,KAAO,aAE/B,aA9BJ,WA8BA,uKACA,GACA,6BACA,gBACA,CACA,4BACA,WACA,YACA,UACA,WATA,kBAiBA,eACA,CACA,+BACA,4BACA,oBACA,eAEA,GAxBA,OAiBA,EAjBA,OA0BA,oCAEA,8BACA,cAEA,cAEA,uBAjCA,mDAoCA,kBApCA,wGAyCIE,cAvEJ,SAuEA,KAEM,OACN,oBACA,iDACA,IACA,mCACA,MAII,YAlFJ,WAkFA,uLAEA,sBAFA,OAEA,EAFA,OAGA,kBACA,eAJA,mDAMA,kBANA,8DCjLoW,I,wBCQhWC,EAAY,eACd,EACAxD,EACA2B,GACA,EACA,KACA,WACA,MAIa,aAAA6B,E,6CCnBf,yBAAikB,EAAG,G,kCCApkB,wtCAWaC,EAAmC,SAACC,EAAOC,GAAR,OAAqBC,eAAmB,6DAA8DF,EAAOC,IAGhJE,EAA+C,SAACH,EAAOC,GAAR,OAAqBC,eAAmB,yEAA0EF,EAAOC,IAGxKG,EAA6B,SAACJ,EAAOC,GAAR,OAAqBC,eAAmB,uDAAwDF,EAAOC,IAGpII,EAAkC,SAACL,EAAOC,GAAR,OAAqBC,eAAmB,4DAA6DF,EAAOC,IAG9IK,EAAoC,SAACN,EAAOC,GAAR,OAAqBC,eAAmB,8DAA+DF,EAAOC,IAGlJM,EAAsC,SAACP,EAAOC,GAAR,OAAqBC,eAAmB,gEAAiEF,EAAOC,IAGtJO,EAAwC,SAACR,EAAOC,GAAR,OAAqBC,eAAmB,kEAAmEF,EAAOC,IAG1JQ,EAAgC,SAACT,EAAOC,GAAR,OAAqBC,eAAmB,0DAA2DF,EAAOC,IAG1IS,EAAyB,SAACV,EAAOC,GAAR,OAAqBC,eAAmB,iEAAkEF,EAAOC,IAM1IU,EAA4B,SAACX,EAAOC,GAAR,OAAqBC,eAAmB,kEAAmEF,EAAOC,IAG9IW,EAAoB,SAACZ,EAAOC,GAAR,OAAqBC,eAAmB,0DAA2DF,EAAOC,IAG9HY,EAAwB,SAACb,EAAOC,GAAR,OAAqBC,eAAmB,8DAA+DF,EAAOC,IAGtIa,EAAwC,SAACd,EAAOC,GAAR,OAAqBC,eAAmB,8EAA+EF,EAAOC,IAGtKc,EAA8B,SAACf,EAAOC,GAAR,OAAqBC,eAAmB,oEAAqEF,EAAOC,IAGlJe,EAAyC,SAAChB,EAAOC,GAAR,OAAqBC,eAAmB,mEAAoEF,EAAOC,IAG5JgB,EAAmC,SAACjB,EAAOC,GAAR,OAAqBC,eAAmB,6DAA8DF,EAAOC,IAGhJiB,EAAiC,SAAClB,EAAOC,GAAR,OAAqBC,eAAmB,2DAA4DF,EAAOC,IAG5IkB,EAAuC,SAACnB,EAAOC,GAAR,OAAqBC,eAAmB,iEAAkEF,EAAOC,IAGxJmB,EAA0B,SAACpB,EAAOC,GAAR,OAAqBC,eAAmB,+CAAgDF,EAAOC,IAGzHoB,EAA2B,SAACrB,EAAOC,EAAUqB,GAAlB,OAA6BpB,eAAmB,sDAAuDF,EAAOC,EAAUqB,IAGnJC,EAAiC,SAACvB,EAAOC,EAAUqB,GAAlB,OAA6BpB,eAAmB,uEAAwEF,EAAOC,EAAUqB,IAG1KE,EAAgB,SAACxB,EAAOC,EAAUqB,GAAlB,OAA6BpB,eAAmB,uDAAwDF,EAAOC,EAAUqB,IAGzIG,EAAkB,SAACzB,EAAOC,EAAUqB,GAAlB,OAA6BpB,eAAmB,yDAA0DF,EAAOC,EAAUqB,IAS7II,EAAgB,SAAC1B,EAAOC,EAAUqB,GAAlB,OAA6BK,eAAkB,2BAA4B3B,EAAOC,EAAUqB,IAE5GM,EAAe,SAAC5B,EAAOC,EAAUqB,GAAlB,OAA6BpB,eAAmB,gCAAiCF,EAAOC,EAAUqB,IAEjHO,EAAyB,SAAC7B,EAAOC,EAAUqB,GAAlB,OAA6BpB,eAAmB,gEAAiEF,EAAOC,EAAUqB,IAE3JQ,EAA8B,SAAC9B,EAAOC,EAAUqB,GAAlB,OAA6BpB,eAAmB,uDAAwDF,EAAOC,EAAUqB,IAEvJS,EAA+B,SAAC/B,EAAOC,EAAUqB,GAAlB,OAA6BpB,eAAmB,uEAAwEF,EAAOC,EAAUqB,IAExKU,EAA2C,SAAChC,EAAOC,EAAUqB,GAAlB,OAA6BpB,eAAmB,mFAAoFF,EAAOC,EAAUqB,IAEhMW,EAAoC,SAACjC,EAAOC,GAAR,OAC/CC,eACE,wEACAF,EACAC,IAGSiC,EAAgC,SAAClC,EAAOC,GAAR,OAC3CC,eACE,kEACAF,EACAC,IAGSkC,EAAoB,SAACnC,EAAOC,GAAR,OAC/BC,eACE,wDACAF,EACAC,IAGSmC,EAA6B,SAACpC,EAAOC,GAAR,OACxCC,eACE,iEACAF,EACAC,IAISoC,EAA2B,SAACrC,EAAOC,GAAR,OACtCC,eACE,mEACAF,EACAC,IAISqC,EAAqC,SAACtC,EAAOC,GAAR,OAChDC,eACE,2EACAF,EACAC,IAISsC,EAAmC,SAACvC,EAAOC,GAAR,OAC9CC,eACE,2EACAF,EACAC,K","file":"js/chunk-725fc39d.a180408a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"kanban_page\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"设备状态\")]),_c('div',{ref:\"tableWra\",staticClass:\"table_wra\"},[_c('table',{attrs:{\"id\":\"stateTable\"}},[_vm._m(0),_vm._l((_vm.devStateList),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item.deviceName))]),_c('td',[(item.deviceLiveReportVo.runTimeSum)?_c('span',{staticStyle:{\"color\":\"#24FFFF\"}},[_vm._v(_vm._s(_vm.toHoursAndMinutes(item.deviceLiveReportVo.runTimeSum)))]):_vm._e(),(!item.deviceLiveReportVo.runTimeSum)?_c('span',{staticStyle:{\"color\":\"#999\"}},[_vm._v(\"-\")]):_vm._e()]),_c('td',[(item.deviceLiveReportVo.idleTimeSum)?_c('span',{staticStyle:{\"color\":\"#FFF719\"}},[_vm._v(_vm._s(_vm.toHoursAndMinutes(item.deviceLiveReportVo.idleTimeSum)))]):_vm._e(),(!item.deviceLiveReportVo.idleTimeSum)?_c('span',{staticStyle:{\"color\":\"#999\"}},[_vm._v(\"-\")]):_vm._e()]),_c('td',[(item.deviceLiveReportVo.offlineTimeSum)?_c('span',{staticStyle:{\"color\":\"#C0BFBF\"}},[_vm._v(_vm._s(_vm.toHoursAndMinutes(item.deviceLiveReportVo.offlineTimeSum)))]):_vm._e(),(!item.deviceLiveReportVo.offlineTimeSum)?_c('span',{staticStyle:{\"color\":\"#999\"}},[_vm._v(\"-\")]):_vm._e()]),_c('td',[(item.deviceLiveReportVo.warnTimeSum)?_c('span',{staticStyle:{\"color\":\"#FF5353\"}},[_vm._v(_vm._s(_vm.toHoursAndMinutes(item.deviceLiveReportVo.warnTimeSum)))]):_vm._e(),(!item.deviceLiveReportVo.warnTimeSum)?_c('span',{staticStyle:{\"color\":\"#999\"}},[_vm._v(\"-\")]):_vm._e()]),_c('td',[_vm._v(_vm._s(item.deviceLiveReportVo.availability + ' %')+\" \")])])})],2),_c('div',{staticClass:\"light\"})])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',[_vm._v(\"设备名称\")]),_c('th',{staticStyle:{\"color\":\"#24FFFF\"}},[_vm._v(\"运行时长\")]),_c('th',{staticStyle:{\"color\":\"#FFF719\"}},[_vm._v(\"空闲时长\")]),_c('th',{staticStyle:{\"color\":\"#C0BFBF\"}},[_vm._v(\"离线时长\")]),_c('th',{staticStyle:{\"color\":\"#FF5353\"}},[_vm._v(\"告警时长\")]),_c('th',[_vm._v(\"效率\")])])}]\n\nexport { render, staticRenderFns }","<!-- 分辨率 900*573 -->\n<template>\n  <div class=\"kanban_page\">\n    <div class=\"title\">设备状态</div>\n    <div class=\"table_wra\" ref=\"tableWra\">\n      <table id=\"stateTable\">\n        <tr>\n          <th>设备名称</th>\n          <th style=\"color: #24FFFF\">运行时长</th>\n          <th style=\"color: #FFF719\">空闲时长</th>\n          <th style=\"color: #C0BFBF\">离线时长</th>\n          <th style=\"color: #FF5353\">告警时长</th>\n          <th>效率</th>\n        </tr>\n        <tr v-for=\"(item, index) in devStateList\" :key=\"index\">\n          <td>{{ item.deviceName }}</td>\n          <td>\n            <span  v-if=\"item.deviceLiveReportVo.runTimeSum\" style=\"color: #24FFFF\" >{{ toHoursAndMinutes(item.deviceLiveReportVo.runTimeSum) }}</span>\n            <span  v-if=\"!item.deviceLiveReportVo.runTimeSum\" style=\"color: #999\" >-</span>\n          </td>\n          <td>\n            <span  v-if=\"item.deviceLiveReportVo.idleTimeSum\" style=\"color: #FFF719\" >{{ toHoursAndMinutes(item.deviceLiveReportVo.idleTimeSum) }}</span>\n            <span  v-if=\"!item.deviceLiveReportVo.idleTimeSum\" style=\"color: #999\" >-</span>\n          </td>\n          <td>\n            <span  v-if=\"item.deviceLiveReportVo.offlineTimeSum\" style=\"color: #C0BFBF\" >{{ toHoursAndMinutes(item.deviceLiveReportVo.offlineTimeSum) }}</span>\n            <span  v-if=\"!item.deviceLiveReportVo.offlineTimeSum\" style=\"color: #999\" >-</span>\n          </td>\n          <td>\n            <span  v-if=\"item.deviceLiveReportVo.warnTimeSum\" style=\"color: #FF5353\" >{{ toHoursAndMinutes(item.deviceLiveReportVo.warnTimeSum) }}</span>\n            <span  v-if=\"!item.deviceLiveReportVo.warnTimeSum\" style=\"color: #999\" >-</span>\n          </td>\n          <td>{{ item.deviceLiveReportVo.availability + ' %' }} </td>\n        </tr>\n      </table>\n\n      <div class=\"light\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\n// import $ from 'jquery';\nimport { fontSize } from '@/utils/common';\n// import $ from 'jquery';\nimport { getDeviceStateReportStatistics, getServerTime } from '@/api/kanban';\nimport { STATUS_CODE } from '@/utils/constantsFile';\nimport { KANBAN_CONFIG } from '@/utils/ajaxConfigure';\nexport default {\n  name: 'distribute',\n  data() {\n    return {\n      kanbanConfig: {},\n      devStateList: [],\n      current_s: 1,\n      size_s: 12,\n      currentTime: 0,\n      dataTime: 0\n    };\n  },\n  async created() {\n    document.documentElement.style.fontSize = fontSize() + 'px';\n    window.onresize = () => {\n      document.documentElement.style.fontSize = fontSize() + 'px';\n    };\n    if (KANBAN_CONFIG[this.getUrlKeyMain('cid', window.location.href)]) {\n      this.kanbanConfig =\n        KANBAN_CONFIG[this.getUrlKeyMain('cid', window.location.href)];\n    }\n    // try {\n    //   const res = await getServerTime({}, {});\n    //   this.currentTime = res.rows;\n    //   console.log(res);\n    // } catch (error) {\n    //   console.log(error);\n    // }\n    // this.currentTime = new Date($.ajax({ type: 'HEAD', async: false }).getResponseHeader('Date')).getTime();\n    this.getDataTime();\n    setTimeout(() => {\n      this.showDevState();\n    }, 500);\n    this.timer = setInterval(() => {\n      this.showDevState();\n    }, this.kanbanConfig?.time || 15000);\n    setInterval(() => {\n      this.getDataTime();\n    }, 30000);\n  },\n  // mounted() {\n  //   const row = (this.$refs.tableWra.clientHeight - 4 * fontSize()) / (5.5 * fontSize());\n  //   this.size_s = Math.floor(row) - 1;\n  // },\n  destroyed() {\n    this.timer && clearInterval(this.timer);\n  },\n  methods: {\n    toHoursAndMinutes(totalMinutes) {\n      var hours = Math.floor(totalMinutes / 60);\n      var minutes = Math.floor(totalMinutes % 60);\n      if (hours) {\n        return `${hours}小时${minutes > 0 ? ` ${minutes}分` : ''}`;\n      } else {\n        return `${minutes > 0 ? ` ${minutes}分` : ''}`;\n      }\n    },\n    getTodayFirstDay() {\n      const time = new Date(this.dataTime);\n      var y = time.getFullYear(); // 获取年份\n      var m = time.getMonth() + 1; // 获取月份\n      var d = time.getDate(); // 获取当月最后一日\n      m = m < 10 ? '0' + m : m; // 月份补 0\n      d = d < 10 ? '0' + d : d; // 日数补 0\n\n      return [y, m, d].join('-') + ' 00:00:00';\n    },\n    getTodayLastDay() {\n      const time = new Date(this.dataTime);\n      var y = time.getFullYear(); // 获取年份\n      var m = time.getMonth() + 1; // 获取月份\n      var d = time.getDate(); // 获取当月最后一日\n      m = m < 10 ? '0' + m : m; // 月份补 0\n      d = d < 10 ? '0' + d : d; // 日数补 0\n\n      return [y, m, d].join('-') + ' 23:59:59';\n    },\n    async showDevState() {\n      var condtion = {\n        secretKey: this.kanbanConfig.key,\n        conditionJson1: [\n          {\n            column: 'isProductionDevice',\n            operator: 1,\n            ptype: 'int',\n            type: 'eq',\n            value: 1\n          }\n        ]\n      };\n      // if (!localStorage.getItem('companyId')) {\n      //   condtion.secretKey = this.kanbanConfig.key;\n      // }\n      try {\n        const res = await getDeviceStateReportStatistics(\n          {\n            startTime: this.getTodayFirstDay(),\n            endTime: this.getTodayLastDay(),\n            current: this.current_s,\n            size: this.size_s\n          },\n          condtion\n        );\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          // console.log('设备状态', res);\n          if (this.current_s * this.size_s >= res.total) {\n            this.current_s = 1;\n          } else {\n            this.current_s++;\n          }\n          this.devStateList = res.rows;\n        }\n      } catch (error) {\n        console.log(error);\n        // showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    getUrlKeyMain(name, url) {\n      // eslint-disable-next-line no-sparse-arrays\n      return (\n        decodeURIComponent(\n          (new RegExp('[?|&]' + name + '=' + '([^&;]+?)(&|#|;|$)').exec(\n            url\n          ) || ['', ''])[1].replace(/\\+/g, '%20')\n        ) || null\n      );\n    },\n    // 看板时间\n    async getDataTime() {\n      try {\n        const res = await getServerTime({}, {});\n        this.dataTime = res.rows;\n        console.log(res);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.kanban_page {\n  width: 100%;\n  height: 100%;\n  // background: url('~@/assets/img/kanban/kanbanbg.png') no-repeat;\n  background: url('~@/assets/img/kanban/background.png') no-repeat;\n  background-size: 100% 100%;\n  color: #ffffff;\n  padding: 0 4rem;\n  overflow: hidden;\n\n  .title {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 9%;\n    font-size: 5rem;\n    font-weight: bold;\n    color: #24ffff;\n    background-image: url('~@/assets/img/kanban/title4.png');\n    background-repeat: no-repeat;\n    background-size: 100% 100%;\n    margin-top: -5px;\n    margin-bottom: 10px;\n  }\n  .table_wra {\n    position: relative;\n    height: 87%;\n    padding: 2rem 3.5rem;\n    overflow: hidden;\n    background: #409eff24;\n\n    #stateTable {\n      width: 100%;\n      border-collapse: collapse;\n      text-align: center;\n      overflow: hidden;\n      tr {\n        height: 5.5rem;\n      }\n      tr:nth-child(even) {\n        background: rgba(14, 85, 244, 0.35);\n      }\n      th {\n        font-weight: normal;\n        font-size: 2rem;\n      }\n      td {\n        font-size: 2.4rem;\n      }\n    }\n    .light {\n      position: absolute;\n      bottom: 0.5rem;\n      left: 50%;\n      transform: translate(-50%, 0);\n      width: 80rem;\n      height: 2rem;\n      background: url('~@/assets/img/kanban/line1.png') no-repeat;\n      background-size: 100% 100%;\n    }\n  }\n}\n@media screen and (max-width: 1200px) {\n  .kanban_page {\n    .table_wra {\n      padding: 10px 20px;\n\n      #stateTable {\n        tr {\n          height: 35px;\n        }\n        th {\n          font-size: 16px;\n        }\n        td {\n          font-size: 14px;\n        }\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceState.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceState.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./deviceState.vue?vue&type=template&id=fe9b9f18&scoped=true&\"\nimport script from \"./deviceState.vue?vue&type=script&lang=js&\"\nexport * from \"./deviceState.vue?vue&type=script&lang=js&\"\nimport style0 from \"./deviceState.vue?vue&type=style&index=0&id=fe9b9f18&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fe9b9f18\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceState.vue?vue&type=style&index=0&id=fe9b9f18&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./deviceState.vue?vue&type=style&index=0&id=fe9b9f18&lang=less&scoped=true&\"","/*\r\n * @Descripttion: api接口\r\n * @version:\r\n * @Author: ZJM\r\n * @Date: 2020-04-28 21:50:07\r\n * @LastEditors: ZJM\r\n * @LastEditTime: 2022-11-21 14:11:57\r\n */\r\nimport { postAplicationJSON, getAplicationJSON } from '@/utils/request';\r\n\r\n// 查询设备实时状态\r\nexport const deviceRealLiveGetDeviceRealState = (param, jsonData) => postAplicationJSON('open-api/TvBoard/deviceRealLive/getDeviceRealState.action?', param, jsonData);\r\n\r\n// 状态设备报表\r\nexport const deviceRealLiveGetDeviceStateReportStatistics = (param, jsonData) => postAplicationJSON('open-api/TvBoard/deviceRealLive/getDeviceStateReportStatistics.action?', param, jsonData);\r\n\r\n// 点检任务数量统计\r\nexport const deviceManagerGetCheckCount = (param, jsonData) => postAplicationJSON('open-api/TvBoard/deviceManager/getCheckCount.action?', param, jsonData);\r\n\r\n// 维修任务数量统计\r\nexport const deviceManagerGetRepairTaskCount = (param, jsonData) => postAplicationJSON('open-api/TvBoard/deviceManager/getRepairTaskCount.action?', param, jsonData);\r\n\r\n// 保养任务数量统计\r\nexport const deviceManagerGetMaintainTaskCount = (param, jsonData) => postAplicationJSON('open-api/TvBoard/deviceManager/getMaintainTaskCount.action?', param, jsonData);\r\n\r\n// 设备利用率\r\nexport const deviceReportGetDeviceDayUtilization = (param, jsonData) => postAplicationJSON('open-api/TvBoard/deviceReport/getDeviceDayUtilization.action?', param, jsonData);\r\n\r\n// 设备告警列表\r\nexport const deviceEarlyWarningGetDeviceWarnRecord = (param, jsonData) => postAplicationJSON('open-api/TvBoard/deviceEarlyWarning/getDeviceWarnRecord.action?', param, jsonData);\r\n\r\n// 查询设备实况(状态,产量)信息\r\nexport const deviceRealLiveGetPageByDevice = (param, jsonData) => postAplicationJSON('open-api/TvBoard/deviceRealLive/getPageByDevice.action?', param, jsonData);\r\n\r\n// 设备时间稼动率\r\nexport const getDeviceMonitorReport = (param, jsonData) => postAplicationJSON('open-api/TvBoard/deviceRealLive/getDeviceMonitorReport.action?', param, jsonData);\r\n\r\n// 气表统计流量计瞬时流量记录看板\r\nexport const energyReportGetGasReportBoard = (param, jsonData) => postAplicationJSON('open-api/TvBoard/energyReport/getGasReportBoard.action?', param, jsonData);\r\n\r\n// 气表统计流量计每小时流量记录看板\r\nexport const getGasHoursUseReportBoard = (param, jsonData) => postAplicationJSON('open-api/TvBoard/energyReport/getGasHoursUseReportBoard.action?', param, jsonData);\r\n\r\n// 能源查询今日每只表计的能源用量\r\nexport const getEnergyTodayUse = (param, jsonData) => postAplicationJSON('open-api/TvBoard/energyReport/getEnergyTodayUse.action?', param, jsonData);\r\n\r\n// 能源统计-水,气,电 今日,本周\r\nexport const getEnergyTodayAndWeek = (param, jsonData) => postAplicationJSON('open-api/TvBoard/energyReport/getEnergyTodayAndWeek.action?', param, jsonData);\r\n\r\n// 电表今日和昨日的每小时用电量\r\nexport const getTodayAndYesterdayElectricityRecord = (param, jsonData) => postAplicationJSON('open-api/TvBoard/energyReport/getTodayAndYesterdayElectricityRecord.action?', param, jsonData);\r\n\r\n// 当班或当天用电量top10\r\nexport const getTopTenElectricityDevices = (param, jsonData) => postAplicationJSON('open-api/TvBoard/energyReport/getTopTenElectricityDevices.action?', param, jsonData);\r\n\r\n// 电能统计获取分组下全年能耗,月能耗,统计月份,环比增长率\r\nexport const energyReportGetElectricityEnergyReport = (param, jsonData) => postAplicationJSON('open-api/TvBoard/energyReport/getElectricityEnergyReport.action?', param, jsonData);\r\n\r\n// 水能统计获取分组下全年能耗,月能耗,统计月份,环比增长率\r\nexport const energyReportGetWaterEnergyReport = (param, jsonData) => postAplicationJSON('open-api/TvBoard/energyReport/getWaterEnergyReport.action?', param, jsonData);\r\n\r\n// 气能统计获取分组下全年能耗,月能耗,统计月份,环比增长率\r\nexport const energyReportGetGasEnergyReport = (param, jsonData) => postAplicationJSON('open-api/TvBoard/energyReport/getGasEnergyReport.action?', param, jsonData);\r\n\r\n// 能源最近多少日每日的用量\r\nexport const energyReportGetRecentDayEnergyRecord = (param, jsonData) => postAplicationJSON('open-api/TvBoard/energyReport/getRecentDayEnergyRecord.action?', param, jsonData);\r\n\r\n// 安灯设备看板\r\nexport const getAndonKanbanOfRiSheng = (param, jsonData) => postAplicationJSON('realUserWork/getAndonKanbanOfRiSheng.action?', param, jsonData);\r\n\r\n// 安灯 - 设备异常次数\r\nexport const listDeviceExceptionCount = (param, jsonData, config) => postAplicationJSON('existFunctionUpdate/listDeviceExceptionCount.action', param, jsonData, config);\r\n\r\n// 设备状态统计\r\nexport const getDeviceStateReportStatistics = (param, jsonData, config) => postAplicationJSON('open-api/TvBoard/deviceReport/getDeviceStateReportStatistics.action?', param, jsonData, config);\r\n\r\n// 维修列表\r\nexport const getRepairTask = (param, jsonData, config) => postAplicationJSON('open-api/TvBoard/deviceManager/getRepairTask.action?', param, jsonData, config);\r\n\r\n// 保养列表\r\nexport const getMaintainTask = (param, jsonData, config) => postAplicationJSON('open-api/TvBoard/deviceManager/getMaintainTask.action?', param, jsonData, config);\r\n\r\n// 根据条件获取设备历史参数\r\nexport const getDeviceHistoryParameterByCondition = (param, jsonData, config) => postAplicationJSON('open-api/getDeviceHistoryParameterByCondition.action?', param, jsonData, config);\r\n\r\n// 根据时间段设备查询设备参数十分钟记录报表\r\nexport const getTenMinutesTimeDeviceParameterReport = (param, jsonData, config) => postAplicationJSON('open-api/TvBoard/deviceRealLive/getTenMinutesTimeDeviceParameterReport.action?', param, jsonData, config);\r\n\r\n// 获取服务器时间\r\nexport const getServerTime = (param, jsonData, config) => getAplicationJSON('open-api/getTime.action?', param, jsonData, config);\r\n// 获取分组树形结构\r\nexport const getGroupTree = (param, jsonData, config) => postAplicationJSON('open-api/getGroupTree.action?', param, jsonData, config);\r\n// 获取配置根据枚举获取\r\nexport const getConfigurationByEnum = (param, jsonData, config) => postAplicationJSON('open-api/TvBoard/deviceManager/getConfigurationByEnum.action?', param, jsonData, config);\r\n// 查询所有分组以及分组下的的所有设备\r\nexport const getAllGroupAndDeviceOpenApi = (param, jsonData, config) => postAplicationJSON('open-api/TvBoard/device/getAllGroupAndDevice.action?', param, jsonData, config);\r\n// 单台设备时间段稼动率统计,可按照日,周,月\r\nexport const getDeviceTimeFluctuationRate = (param, jsonData, config) => postAplicationJSON('open-api/TvBoard/deviceRealLive/getDeviceTimeFluctuationRate.action?', param, jsonData, config);\r\n// 单台设备时间段产能能效(电能),可按照日,周,月\r\nexport const getDeviceTimeCapacityAndEnergyEfficiency = (param, jsonData, config) => postAplicationJSON('open-api/TvBoard/deviceRealLive/getDeviceTimeCapacityAndEnergyEfficiency.action?', param, jsonData, config);\r\n// 设备24小时运行状态图\r\nexport const GetOneDayDetailStateClockInfoOpen = (param, jsonData) =>\r\n  postAplicationJSON(\r\n    'open-api/TvBoard/deviceRealLive/getOneDayDetailStateClockInfo.action?',\r\n    param,\r\n    jsonData\r\n  );\r\n// 设备24小时运行状态图\r\nexport const getOneDayDetailStateClockOpen = (param, jsonData) =>\r\n  postAplicationJSON(\r\n    'open-api/TvBoard/deviceReport/getOneDayDetailStateClock.action?',\r\n    param,\r\n    jsonData\r\n  );\r\n// 获取设备信息\r\nexport const getDeviceInfoOpen = (param, jsonData) =>\r\n  postAplicationJSON(\r\n    'open-api/TvBoard/deviceRealLive/getDeviceInfo.action?',\r\n    param,\r\n    jsonData\r\n  );\r\n// 获取设备小时效率趋势\r\nexport const getDeviceHoursEffTrendOpen = (param, jsonData) =>\r\n  postAplicationJSON(\r\n    'open-api/TvBoard/deviceRealLive/getDeviceHoursEffTrend.action?',\r\n    param,\r\n    jsonData\r\n  );\r\n\r\n// 条件查询时间段的<日期类型,日周月>产量\r\nexport const getTimeDayTypeProduction = (param, jsonData) =>\r\n  postAplicationJSON(\r\n    'open-api/TvBoard/deviceRealLive/getTimeDayTypeProduction.action?',\r\n    param,\r\n    jsonData\r\n  );\r\n\r\n// 条件查询时间段筛选的设备状态的时间\r\nexport const getQueryDeviceStateTimeUtilization = (param, jsonData) =>\r\n  postAplicationJSON(\r\n    'open-api/TvBoard/deviceReport/getQueryDeviceStateTimeUtilization.action?',\r\n    param,\r\n    jsonData\r\n  );\r\n\r\n// 多台设备时间段稼动率统计,可按照日,周,月\r\nexport const getManyDeviceTimeFluctuationRate = (param, jsonData) =>\r\n  postAplicationJSON(\r\n    'open-api/TvBoard/deviceRealLive/getManyDeviceTimeFluctuationRate.action?',\r\n    param,\r\n    jsonData\r\n  );\r\n"],"sourceRoot":""}