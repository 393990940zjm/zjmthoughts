(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d8b123ae"],{"01f6":function(t,e,n){"use strict";var a=n("4ce3"),o=n.n(a);o.a},"0a72":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.showPage,expression:"showPage===0"}]},[n("sHeader",{attrs:{titleName:t.WORK_STATION.FINISH_REGISTRATION}},[n("div",{staticClass:"head-operation",attrs:{slot:"header-action"},slot:"header-action"},[n("HeadOperationItem",{attrs:{name:"showInfo"},on:{onOprationItem:function(e){return t.goHome()}}},[n("i",{staticClass:"icon-back_white",attrs:{slot:"operation-icon"},slot:"operation-icon"}),n("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[t._v(t._s(t.BTN_TEXT.RETURN))])]),n("HeadOperationItem",{attrs:{name:"showInfo"},on:{onOprationItem:function(e){return t.showRecord()}}},[n("i",{staticClass:"icon-list_white",attrs:{slot:"operation-icon"},slot:"operation-icon"}),n("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[t._v(t._s(t.BTN_TEXT.CHECK_OPERATION))])])],1)]),n("el-container",[n("div",{staticClass:"mainContent"},[n("div",{staticClass:"searchDiv"},[n("div",{staticClass:"searchLeft"},[n("label",[t._v("任务单号 ：")]),n("el-input",{staticClass:"searchInput",model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}}),n("el-button",{on:{click:t.refreshTable}},[t._v(t._s(t.BTN_TEXT.SEARCH))]),n("el-button",{on:{click:t.resetTable}},[t._v(t._s(t.BTN_TEXT.RESET))])],1),n("div",{staticClass:"searchRight"},[n("label",[t._v("操作工姓名 ：")]),n("el-input",{staticClass:"searchInput",attrs:{disabled:!0},model:{value:t.realName,callback:function(e){t.realName=e},expression:"realName"}})],1)]),n("VXETable",{ref:"FixGrid",attrs:{tableName:"",height:t.$options.filters.getTableHeight(125),tableLoading:t.tableLoading,"pager-config":t.tablePage,tableDatas:t.tableDatas,tableColumns:t.tableColumns,tablePage:t.tablePage},on:{onTablePageChange:t.onTablePageChange}})],1),t.dialogVisible?n("el-dialog",{ref:"CustomColumnDialog",class:["CustomColumn"],attrs:{title:t.BTN_TEXT.WORK_END,width:"700px",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{ref:"form",staticClass:"taskFrom",attrs:{inline:!0,model:t.formRow,"label-position":"left","label-width":"100px",size:"mini",disabled:!0}},[n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{staticClass:"formItem",attrs:{label:t.CONSTANTS_PRODUCT.WORK_CODE+":"}},[n("el-input",{staticClass:"inputStyle",model:{value:t.formRow.taskCode,callback:function(e){t.$set(t.formRow,"taskCode",e)},expression:"formRow.taskCode"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{staticClass:"formItem",attrs:{label:t.CONSTANTS_PRODUCT.LINE_NAME+":"}},[n("el-input",{staticClass:"inputStyle",model:{value:t.formRow.groupName,callback:function(e){t.$set(t.formRow,"groupName",e)},expression:"formRow.groupName"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{staticClass:"formItem",attrs:{label:t.CONSTANTS_PRODUCT.MATERIAL_NAME+":"}},[n("el-input",{staticClass:"inputStyle",model:{value:t.formRow.materialsName,callback:function(e){t.$set(t.formRow,"materialsName",e)},expression:"formRow.materialsName"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{staticClass:"formItem",attrs:{label:t.CONSTANTS_PRODUCT.WORK_NUM+":"}},[n("el-input",{staticClass:"inputStyle",model:{value:t.formRow.taskCount,callback:function(e){t.$set(t.formRow,"taskCount",e)},expression:"formRow.taskCount"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{staticClass:"formItem",attrs:{label:t.CONSTANTS_PRODUCT.START_RECORD_NUM+":"}},[n("el-input",{staticClass:"inputStyle",model:{value:t.startRecord,callback:function(e){t.startRecord=e},expression:"startRecord"}})],1)],1),n("el-col",{attrs:{span:12}},[n("el-form-item",{staticClass:"formItem",attrs:{label:t.CONSTANTS_PRODUCT.FINISH_NUM+":"}},[n("el-input",{staticClass:"inputStyle",model:{value:t.formRow.completeCount,callback:function(e){t.$set(t.formRow,"completeCount",e)},expression:"formRow.completeCount"}})],1)],1)],1)],1),0===t.showData.lineDevProduct.length?n("p",{staticStyle:{color:"red"}},[t._v("未设置产线计数设备")]):t._e(),n("el-form",{ref:"productForm",attrs:{inline:!0,model:t.showData,"label-position":"left",size:"mini",rules:t.rulesUpdate,"label-width":"120px"}},[n("el-row",[t._l(t.showData.lineDevProduct,(function(e,a){return n("el-col",{key:a,attrs:{span:12}},[n("el-form-item",{attrs:{label:t.CONSTANTS_PRODUCT.END_RECORD_NUM+"["+e.deviceName+"]:",prop:"lineDevProduct."+a+".value",rules:t.rulesUpdate.value}},[n("el-input",{staticClass:"inputClass",attrs:{id:"input"+a,oninput:"value=value.replace(/[^\\d.]/g,'')",maxlength:"9"},on:{input:function(e){return t.editFunc()},focus:function(e){return t.toFocus("input"+a)},blur:function(e){return t.toBlur(e,"input"+a)}},model:{value:t.showData.lineDevProduct[a].value,callback:function(e){t.$set(t.showData.lineDevProduct[a],"value",e)},expression:"showData.lineDevProduct[index].value"}})],1)],1)})),n("el-col",{attrs:{span:24}},[n("el-form-item",{staticClass:"formItemFull",attrs:{label:t.CONSTANTS_PRODUCT.ALL_COUNT_REPORT}},[n("el-input",{staticClass:"inputStyleFull",attrs:{disabled:!0},model:{value:t.finishAllNum,callback:function(e){t.finishAllNum=e},expression:"finishAllNum"}})],1)],1)],2)],1),n("el-row",{attrs:{gutter:24}},[n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.num(1)}}},[t._v("1")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.num(2)}}},[t._v("2")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.num(3)}}},[t._v("3")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.num(4)}}},[t._v("4")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.num(5)}}},[t._v("5")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.num(6)}}},[t._v("6")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.num(7)}}},[t._v("7")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.num(8)}}},[t._v("8")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.num(9)}}},[t._v("9")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.num(".")}}},[t._v(".")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.num(0)}}},[t._v("0")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{staticClass:"btnClass",attrs:{type:""},on:{click:function(e){return t.del()}}},[t._v("删除")])],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{disabled:0===t.showData.lineDevProduct.length,type:"primary",size:"mini"},on:{click:t.submitStart}},[t._v(t._s(t.BTN_TEXT.WORK_END))]),n("el-button",{attrs:{size:"mini"},on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.BTN_TEXT.CANCEL))])],1)],1):t._e()],1)],1),1===t.showPage?n("div",[n("record",{on:{goBack:t.goBack}})],1):t._e()])},o=[],i=(n("c975"),n("a15b"),n("d81d"),n("a9e3"),n("ac1f"),n("5319"),n("1276"),n("96cf"),n("1da1")),r=n("85a8"),s=n("5861"),c=n("cf46"),l=n("3fa5"),u=n("6464"),d=n("1660"),f=n("ac6c"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("sHeader",{attrs:{titleName:t.WORK_STATION.FINISH_REGISTRATION}},[n("div",{staticClass:"head-operation",attrs:{slot:"header-action"},slot:"header-action"},[n("HeadOperationItem",{attrs:{name:"showInfo"},on:{onOprationItem:function(e){return t.goBack()}}},[n("i",{staticClass:"icon-back_white",attrs:{slot:"operation-icon"},slot:"operation-icon"}),n("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[t._v(t._s(t.BTN_TEXT.RETURN))])])],1)]),n("el-container",[n("div",{staticClass:"mainContent"},[n("div",{staticClass:"searchDiv"},[n("div",{staticClass:"searchLeft"},[n("label",[t._v("任务单号：")]),n("el-input",{staticClass:"searchInput",model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}}),n("el-button",{on:{click:t.refreshTable}},[t._v(t._s(t.BTN_TEXT.SEARCH))]),n("el-button",{on:{click:t.resetTable}},[t._v(t._s(t.BTN_TEXT.RESET))])],1)]),n("HeaderTitle",{attrs:{titleName:"完工记录",flag:!1}}),n("VXETable",{ref:"FixGrid",attrs:{tableName:"",height:t.$options.filters.getTableHeight(160),tableLoading:t.tableLoading,"pager-config":t.tablePage,tableDatas:t.tableDatas,tableColumns:t.tableColumns,tablePage:t.tablePage},on:{onTablePageChange:t.onTablePageChange}})],1)])],1)},p=[],m=n("c4c8"),g=n("582a"),b={components:{HeaderTitle:r["a"],HeadOperationItem:s["a"],VXETable:c["a"],sHeader:d["a"],HeaderAction:f["a"]},data:function(){return{WORK_STATION:g["R"],CONSTANTS_PRODUCT:g["m"],TITLE:g["N"],PAGE_TITLE:g["I"],MSG:g["H"],BTN_TEXT:g["c"],STATUS_CODE:g["M"],searchInput:"",realName:window.localStorage.getItem("realName").replace(/"/g,""),showPage:0,tableLoading:!1,tableDatas:[],tableColumns:[{field:"endOperatorUserRealName",title:g["m"].END_USER,width:"120",align:"center"},{field:"endTime",title:g["m"].END_TIME,width:"180",align:"center"},{field:"groupName",title:g["m"].LINE_NAME,width:"120",align:"center"},{field:"taskCode",title:g["m"].WORK_CODE,width:"120",align:"center"},{field:"materialsName",title:g["m"].MATERIAL_NAME,width:"120",align:"center"},{field:"allCountReport",title:g["m"].ALL_COUNT_REPORT,width:"120",align:"center"},{field:"endTaskDeviceProductionRecordList",title:g["m"].USER_COMPUTE_PRODUCT,width:"300",align:"center",formatter:function(t){var e=t.cellValue,n=(t.row,t.column,[]);for(var a in e)n.push("["+e[a].deviceName+"] "+e[a].recordCountReport);return n.join(" , ")}},{field:"endTaskDeviceProductionRecordList",title:g["m"].USER_END_RECORD,width:"300",align:"center",formatter:function(t){var e=t.cellValue,n=(t.row,t.column,[]);for(var a in e)n.push("["+e[a].deviceName+"] "+e[a].manualRecordCount);return n.join(" , ")}},{field:"endTaskDeviceProductionRecordList",title:g["m"].USER_START_RECORD,width:"300",align:"center",formatter:function(t){var e=t.cellValue,n=(t.row,t.column,[]);for(var a in e)n.push("["+e[a].deviceName+"] "+e[a].startManualRecordCount);return n.join(" , ")}},{field:"endTaskDeviceProductionRecordList",title:g["m"].DEV_COMPUTE_PRODUCT,width:"300",align:"center",formatter:function(t){var e=t.cellValue,n=(t.row,t.column,[]);for(var a in e)n.push("["+e[a].deviceName+"] "+e[a].deviceRecordCountReport);return n.join(" , ")}},{field:"endTaskDeviceProductionRecordList",title:g["m"].DEV_END_RECORD,width:"300",align:"center",formatter:function(t){var e=t.cellValue,n=(t.row,t.column,[]);for(var a in e)n.push("["+e[a].deviceName+"] "+e[a].autoRecordCount);return n.join(" , ")}},{field:"endTaskDeviceProductionRecordList",title:g["m"].DEV_START_RECORD,width:"300",align:"center",formatter:function(t){var e=t.cellValue,n=(t.row,t.column,[]);for(var a in e)n.push("["+e[a].deviceName+"] "+e[a].startAutoRecordCount);return n.join(" , ")}}],tablePage:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0}}},methods:{onTablePageChange:function(t,e){this.tablePage.currentPage=t,this.tablePage.pageSize=e,this.findList()},findList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.tableLoading=!0,n={current:t.tablePage.currentPage,size:t.tablePage.pageSize},a={},""!==t.searchInput&&(a.conditionJson1=[{column:"taskCode",operator:1,ptype:"string",type:"like",value:t.searchInput}]),e.next=7,Object(m["i"])(n,a);case 7:o=e.sent,o.code===g["M"].OPERATION_SUCCESS?(t.tableDatas=o.rows,t.tablePage.total=o.total,t.tableLoading=!1):Object(l["c"])(o.message),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),Object(u["a"])(g["N"].NOTIFY,e.t0);case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}}),e,null,[[0,11,14,16]])})))()},refreshTable:function(){this.tablePage.currentPage=1,this.tablePage.pageSize=10,this.findList()},resetTable:function(){this.searchInput="",this.tablePage.currentPage=1,this.tablePage.pageSize=10,this.findList()},goBack:function(){this.$emit("goBack")}},mounted:function(){},created:function(){this.findList()},destroyed:function(){}},v=b,C=v,T=(n("8d40"),n("2877")),k=Object(T["a"])(C,h,p,!1,null,"088b3094",null),w=k.exports,R={components:{HeaderTitle:r["a"],HeadOperationItem:s["a"],VXETable:c["a"],sHeader:d["a"],HeaderAction:f["a"],record:w},data:function(){var t=this,e=this.$createElement,n=function(e,n,a){var o=/^\d+(?=\.{0,1}\d+$|$)/;return o.test(n)?Number(n)>99999999||Number(n)<0?a(new Error("请输入范围0-99999999的数字")):isNaN(n)?a(new Error("请输入正数")):t.showData.lineDevProduct[e.field.split(".")[1]].manualRecordCount>n?a(new Error("请大于开工数")):a():a(new Error("请输入正数"))};return{WORK_STATION:g["R"],CONSTANTS_PRODUCT:g["m"],TITLE:g["N"],PAGE_TITLE:g["I"],MSG:g["H"],BTN_TEXT:g["c"],STATUS_CODE:g["M"],rulesUpdate:{value:[{required:!0,message:g["H"].PLEASE_ENTER_CONTENT},{validator:n},{pattern:/^[0-9.]+$/,message:"请输入正数"}]},formRow:{},showData:{lineDevProduct:[]},searchInput:"",realName:window.localStorage.getItem("realName").replace(/"/g,""),showPage:0,tableLoading:!1,dialogVisible:!1,finishAllNum:0,startRecord:"",tableDatas:[],tableColumns:[{field:"",title:g["c"].OPERATION,width:"100",align:"center",fixed:"left",slots:{default:function(n){var a=n.row;n.column,n.cellValue;return[e("div",[e("el-button",{on:{click:function(){return t.goInfo(a)}}},["完工"])])]}}},{field:"groupName",title:g["m"].LINE_NAME,width:"auto",align:"center",fixed:"left"},{field:"taskCode",title:g["m"].WORK_CODE,width:"auto",align:"center",fixed:"left"},{field:"materialsCode",title:g["m"].MATERIAL_CODE,width:"auto",align:"center"},{field:"materialsName",title:g["m"].MATERIAL_NAME,width:"auto",align:"center"},{field:"materialsModel",title:g["m"].MATERIAL_NORMS,width:"auto",align:"center"},{field:"modelNumber",title:g["m"].MODULE_NUM,width:"auto",align:"center"},{field:"taskCount",title:g["m"].WORK_NUM,width:"auto",align:"center"},{field:"completeCount",title:g["m"].FINISH_NUM,width:"auto",align:"center"}],tablePage:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0}}},computed:{},methods:{onTablePageChange:function(t,e){this.tablePage.currentPage=t,this.tablePage.pageSize=e,this.findList()},findList:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.tableLoading=!0,n={current:t.tablePage.currentPage,size:t.tablePage.pageSize},a={},""!==t.searchInput&&(a.conditionJson1=[{column:"taskCode",operator:1,ptype:"string",type:"like",value:t.searchInput}]),e.next=7,Object(m["o"])(n,a);case 7:o=e.sent,o.code===g["M"].OPERATION_SUCCESS?(t.tableDatas=o.rows,t.tablePage.total=o.total,t.tableLoading=!1):Object(l["c"])(o.message),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),Object(u["a"])(g["N"].NOTIFY,e.t0);case 14:return e.prev=14,e.finish(14);case 16:case"end":return e.stop()}}),e,null,[[0,11,14,16]])})))()},refreshTable:function(){this.tablePage.currentPage=1,this.tablePage.pageSize=10,this.findList()},resetTable:function(){this.searchInput="",this.tablePage.currentPage=1,this.tablePage.pageSize=10,this.findList()},showRecord:function(){this.dialogVisible=!1,this.showPage=1},goBack:function(){this.showPage=0},goInfo:function(t){this.startRecord="",this.finishAllNum=0,this.dialogVisible=!this.dialogVisible,this.formRow=JSON.parse(JSON.stringify(t)),this.prevStart(t)},prevStart:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m["j"])({productionTaskId:t.productionTaskId});case 3:a=n.sent,a.code===g["M"].OPERATION_SUCCESS?(e.showData.lineDevProduct=a.rows.map((function(t){return t.value=0,t.devAutoCount=0,t.deviceName="",t.computeFinish=0,t})),e.getLineDevProduct(t)):Object(l["c"])(a.message),n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),Object(u["a"])(g["N"].NOTIFY,n.t0);case 10:return n.prev=10,n.finish(10);case 12:case"end":return n.stop()}}),n,null,[[0,7,10,12]])})))()},getLineDevProduct:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,o,i,r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(m["d"])({groupId:t.groupId});case 3:if(a=n.sent,a.code===g["M"].OPERATION_SUCCESS){for(o in e.showData.lineDevProduct)for(i in a.rows)e.showData.lineDevProduct[o].deviceCode===a.rows[i].deviceCode&&(e.showData.lineDevProduct[o].devAutoCount=a.rows[i].todayValue,e.showData.lineDevProduct[o].deviceName=a.rows[i].deviceName);for(s in r=[],e.showData.lineDevProduct)r.push("["+e.showData.lineDevProduct[s].deviceName+"] "+e.showData.lineDevProduct[s].manualRecordCount);e.startRecord=r.join(" , ")}else Object(l["c"])(a.message);n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](0),Object(u["a"])(g["N"].NOTIFY,n.t0);case 10:return n.prev=10,n.finish(10);case 12:case"end":return n.stop()}}),n,null,[[0,7,10,12]])})))()},submitStart:function(){var t=this;this.$refs.productForm.validate((function(e){e&&t.submitUpdateFunc()}))},submitUpdateFunc:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,o,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(o in e.prev=0,n={},n.productionTaskId=t.formRow.productionTaskId,n.inspectCount=t.formRow.inspectCount,n.ngCount=t.formRow.ngCount,n.completeCount=t.formRow.completeCount,n.taskStartId=t.showData.lineDevProduct[0].taskStartId,a=[],t.showData.lineDevProduct)i={},i.taskStartRecordId=t.showData.lineDevProduct[o].taskStartRecordId,i.deviceCode=t.showData.lineDevProduct[o].deviceCode,i.autoRecordCount=t.showData.lineDevProduct[o].devAutoCount,i.manualRecordCount=t.showData.lineDevProduct[o].value,i.recordCountReport=t.showData.lineDevProduct[o].computeFinish,a.push(i);return e.next=11,Object(m["k"])(n,a);case 11:r=e.sent,r.code===g["M"].OPERATION_SUCCESS?(Object(l["b"])(r.message),t.dialogVisible=!1,t.findList()):Object(l["c"])(r.message),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),Object(u["a"])(g["N"].NOTIFY,e.t0);case 18:return e.prev=18,e.finish(18);case 20:case"end":return e.stop()}}),e,null,[[0,15,18,20]])})))()},toFocus:function(t){this.active=t},toBlur:function(t,e){var n=this;this.active=e,clearTimeout(this.setTimeOut),this.setTimeOut=setTimeout((function(){-1===document.activeElement.id.indexOf("input")?n.active=document.activeElement.id:n.active=""}),150)},num:function(t){var e=this;if(this.active){var n=document.getElementById(this.active),a=n.selectionStart,o=n.selectionEnd;if(void 0===a||void 0===o)return;var i=n.value;if("."===t){if(-1!==i.indexOf("."))return!1;if(0===a)return!1}var r=i.substring(0,a)+t+i.substring(o);n.value=r,n.focus(),this.$nextTick((function(){n.selectionStart=a+1,n.selectionEnd=o+1,e.showData.lineDevProduct[Number(e.active.replace("input",""))].value=r,e.editFunc()}))}},del:function(){var t=this;if(this.active){var e=document.getElementById(this.active),n=e.selectionStart,a=e.selectionEnd;if(void 0===n||void 0===a)return;var o=e.value,i=o.substring(0,n-1)+o.substring(a);e.value=i,e.focus(),this.$nextTick((function(){0===n?(e.selectionStart=n,e.selectionEnd=a):(e.selectionStart=n-1,e.selectionEnd=a-1),t.showData.lineDevProduct[Number(t.active.replace("input",""))].value=i,t.editFunc()}))}},editFunc:function(){this.$refs.productForm.validate((function(t){}));var t=0;for(var e in this.showData.lineDevProduct)if(this.showData.lineDevProduct[e].value>this.showData.lineDevProduct[e].manualRecordCount){var n=this.$options.filters.accSubtr(Number(this.showData.lineDevProduct[e].value),Number(this.showData.lineDevProduct[e].manualRecordCount));this.showData.lineDevProduct[e].computeFinish=n,t=this.$options.filters.computedAdd(t,Number(this.showData.lineDevProduct[e].computeFinish))}else{var a=Number(this.showData.lineDevProduct[e].value);this.showData.lineDevProduct[e].computeFinish=a,t=this.$options.filters.computedAdd(t,Number(this.showData.lineDevProduct[e].computeFinish))}this.finishAllNum=t},goHome:function(){this.$router.replace("/workstation/home")}},mounted:function(){},created:function(){this.findList()},destroyed:function(){}},N=R,P=N,O=(n("4524"),Object(T["a"])(P,a,o,!1,null,"7c9a8353",null));e["default"]=O.exports},"15e8":function(t,e,n){},1660:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header-imgmore no-modal-shelter",staticStyle:{background:"#0871dc"}},[t._m(0),n("div",{staticStyle:{width:"73%","text-align":"center"}},[n("span",{staticClass:"text"},[t._v(t._s(t.titleName))])]),n("div",{staticStyle:{width:"17%",float:"right"}},[t._t("header-action")],2)])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"10%"}},[n("span",{staticClass:"spnb"},[t._v("Shattrath")])])}],i=(n("b0c0"),n("582a")),r={name:"sHeader",props:{titleName:{type:String,default:""},flag:{type:Boolean,default:!0}},data:function(){return{BTN_TEXT:i["c"],title:""}},methods:{getTitle:function(){""===this.titleName?this.title=this.$route.name:this.title=this.titleName}},watch:{titleName:function(t,e){this.title=t}},created:function(){this.getTitle()},components:{}},s=r,c=(n("4b71"),n("2877")),l=Object(c["a"])(s,a,o,!1,null,"67e853c5",null);e["a"]=l.exports},2532:function(t,e,n){"use strict";var a=n("23e7"),o=n("5a34"),i=n("1d80"),r=n("ab13");a({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"390b":function(t,e,n){},4524:function(t,e,n){"use strict";var a=n("15e8"),o=n.n(a);o.a},"4b71":function(t,e,n){"use strict";var a=n("aef9"),o=n.n(a);o.a},"4ce3":function(t,e,n){},5861:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"operation-item",on:{click:t.onOprationItem}},[n("div",{staticClass:"operation-icon"},[t._t("operation-icon")],2),n("div",{staticClass:"operation-span"},[t._t("operation-name")],2)])},o=[],i=(n("b0c0"),{props:{name:{type:String,required:!0}},methods:{onOprationItem:function(){this.$emit("onOprationItem",this.name)}}}),r=i,s=(n("01f6"),n("2877")),c=Object(s["a"])(r,a,o,!1,null,"0cfe45f8",null);e["a"]=c.exports},"5a34":function(t,e,n){var a=n("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},6464:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("5c96");function o(t,e){a["Notification"].error({title:t,message:e,duration:2e3,position:"bottom-right",showClose:!0})}},"7a15":function(t,e,n){},"85a8":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"header-left-border"},[n("div",[n("span",{staticClass:"head-title-span"},[t._v(t._s(t.title))])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"head-search",on:{click:t.onSearch}},[n("i",{staticClass:"icon-search"}),n("span",{staticClass:"search-span"},[t._v("搜索")])]),n("div",[t._t("head-search")],2)]),n("div",[t._t("head-operation")],2)])},o=[],i=(n("b0c0"),{name:"HeaderTitle",props:{titleName:{type:String,default:""},flag:{type:Boolean,default:!1}},data:function(){return{title:""}},methods:{getTitle:function(){""===this.titleName?this.title=this.$route.name:this.title=this.titleName},onSearch:function(){this.$emit("searchButtonClick")}},watch:{titleName:function(t,e){this.getTitle()}},created:function(){this.getTitle()},components:{}}),r=i,s=(n("af73"),n("2877")),c=Object(s["a"])(r,a,o,!1,null,"d1fc4504",null);e["a"]=c.exports},"8d40":function(t,e,n){"use strict";var a=n("ed74"),o=n.n(a);o.a},ab13:function(t,e,n){var a=n("b622"),o=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(a){}}return!1}},ac6c:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"operation-item",on:{click:t.onOprationItem}},[n("div",{staticClass:"operation-span"},[t._t("action")],2)])},o=[],i=(n("b0c0"),{props:{name:{type:String,required:!0}},methods:{onOprationItem:function(){this.$emit("onOprationItem",this.name)}}}),r=i,s=(n("e01d"),n("2877")),c=Object(s["a"])(r,a,o,!1,null,"53baf306",null);e["a"]=c.exports},aef9:function(t,e,n){},af73:function(t,e,n){"use strict";var a=n("7a15"),o=n.n(a);o.a},b9bd:function(t,e,n){},bf39:function(t,e,n){"use strict";var a=n("390b"),o=n.n(a);o.a},c4c8:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"n",(function(){return i})),n.d(e,"l",(function(){return r})),n.d(e,"s",(function(){return s})),n.d(e,"e",(function(){return c})),n.d(e,"m",(function(){return l})),n.d(e,"t",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"E",(function(){return f})),n.d(e,"q",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"r",(function(){return m})),n.d(e,"z",(function(){return g})),n.d(e,"d",(function(){return b})),n.d(e,"D",(function(){return v})),n.d(e,"A",(function(){return C})),n.d(e,"B",(function(){return T})),n.d(e,"o",(function(){return k})),n.d(e,"f",(function(){return w})),n.d(e,"g",(function(){return R})),n.d(e,"h",(function(){return N})),n.d(e,"k",(function(){return P})),n.d(e,"j",(function(){return O})),n.d(e,"v",(function(){return _})),n.d(e,"p",(function(){return S})),n.d(e,"u",(function(){return E})),n.d(e,"y",(function(){return D})),n.d(e,"w",(function(){return I})),n.d(e,"x",(function(){return y})),n.d(e,"C",(function(){return x})),n.d(e,"i",(function(){return A}));var a=n("b775"),o=function(t,e){return Object(a["k"])("deviceRealProduction/getDeviceRealProductionByDeviceCode.action?",t,e)},i=function(t,e){return Object(a["k"])("productionTask/getPageProductionTaskByCondition.action?",t,e)},r=function(t,e){return Object(a["k"])("productionTask/getListProductionTaskQueryParameter.action?",t,e)},s=function(t,e){return Object(a["k"])("productionTask/insertBatch.action?",t,e)},c=function(t,e){return Object(a["k"])("productionTask/deleteByIds.action?",t,e)},l=function(t,e){return Object(a["k"])("productionTask/getOperatorUser.action?",t,e)},u=function(t,e){return Object(a["k"])("productionTask/insertOrUpdateBatch.action?",t,e)},d=function(t,e){return Object(a["k"])("deviceGroup/getListGroupAndProductionLine.action?",t,e)},f=function(t,e){return Object(a["k"])("productionTask/updateById.action?",t,e)},h=function(t,e){return Object(a["k"])("productionTask/getPageProductionTaskRecordById.action?",t,e)},p=function(t,e){return Object(a["k"])("deviceRealParameterValue/getPageDeviceProductionSnapshot.action?",t,e)},m=function(t,e){return Object(a["k"])("productionTask/getPageProductionTaskStartByCondition.action?",t,e)},g=function(t,e){return Object(a["k"])("productionTaskStart/getListProductionTaskStartQueryParameter.action?",t,e)},b=function(t,e){return Object(a["k"])("deviceRealProduction/getListByGroupId.action?",t,e)},v=function(t,e){return Object(a["k"])("productionTaskStart/insertProductionTaskStartRecord.action?",t,e)},C=function(t,e){return Object(a["k"])("productionTaskStart/getListProductionTaskStartRecordQueryParameter.action?",t,e)},T=function(t,e){return Object(a["k"])("productionTaskStart/getPageProductionTaskStartRecordByCondition.action?",t,e)},k=function(t,e){return Object(a["k"])("productionTask/getPageProductionTaskEndByCondition.action?",t,e)},w=function(t,e){return Object(a["k"])("productionTaskEnd/getListProductionTaskEndQueryParameter.action?",t,e)},R=function(t,e){return Object(a["k"])("productionTaskEnd/getListProductionTaskEndRecordQueryParameter.action?",t,e)},N=function(t,e){return Object(a["k"])("productionTaskEnd/getPageProductionTaskEndRecordByCondition.action?",t,e)},P=function(t,e){return Object(a["k"])("productionTaskEnd/insertProductionTaskEndRecord.action?",t,e)},O=function(t,e){return Object(a["k"])("productionTaskEnd/getProductionTaskStartRecordByProductionId.action?",t,e)},_=function(t,e){return Object(a["k"])("productionTaskInspection/getListProductionTaskInspectionQueryParameter.action?",t,e)},S=function(t,e){return Object(a["k"])("productionTask/getPageProductionTaskInspectionByCondition.action?",t,e)},E=function(t,e){return Object(a["k"])("productionTaskInspection/getListInspectionType.action?",t,e)},D=function(t,e){return Object(a["k"])("productionTaskInspection/insertProductionTaskInspection.action?",t,e)},I=function(t,e){return Object(a["k"])("productionTaskInspection/getListProductionTaskInspectionRecordQueryParameter.action?",t,e)},y=function(t,e){return Object(a["k"])("productionTaskInspection/getPageProductionTaskInspectionRecordByCondition.action?",t,e)},x=function(t,e){return Object(a["k"])("productionTaskStart/getPageProductionTaskStartRecordByCurrentUser.action?",t,e)},A=function(t,e){return Object(a["k"])("productionTaskEnd/getPageProductionTaskEndRecordByCurrentUser.action?",t,e)}},caad:function(t,e,n){"use strict";var a=n("23e7"),o=n("4d64").includes,i=n("44d2"),r=n("ae40"),s=r("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!s},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cf46:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("vxe-grid",{ref:t.tableName+"Table",staticClass:"vxe-table-element",attrs:{"row-style":t.rowStyle,"header-row-style":t.headerStyle,resizable:t.resizable,border:t.border,"show-header":t.showHeader,"auto-resize":t.autoResize,"header-align":t.headerAlign,"show-footer":t.showFooter,"show-footer-overflow":t.showFooterOverflow,"show-overflow":t.showOverflow,stripe:t.stripe,"max-height":t.maxHeight,height:t.height,size:t.size,"remote-sort":!0,"highlight-hover-row":t.highlightHoverRow,"highlight-current-row":t.highlightCurrentRow,loading:t.tableLoading,"tooltip-config":t.tooltipConfig,"keep-source":t.keepSource,"edit-config":t.editConfig,columns:t.tableColumns,data:t.tableDatas,"checkbox-config":t.checkboxConfig,"radio-config":{trigger:"row"},"seq-config":{startIndex:(t.tablePage.currentPage-1)*t.tablePage.pageSize},"pager-config":t.tablePage,"span-method":t.mergeRowMethod,"export-config":{cellRender:t.handleCellRender}},on:{"cell-click":t.cellClickEvent,"cell-dblclick":t.cellDBLClickEvent,"page-change":t.handlePageChange,"sort-change":t.sortChange,"checkbox-change":t.checkboxChangeEvent,"checkbox-all":t.checkboxChangeEvent,"current-change":t.currentChangeEvent},scopedSlots:t._u([{key:"pager_left",fn:function(){return[n("div",{staticClass:"page-left"},[n("div",[t._t("tableOperation")],2)])]},proxy:!0}],null,!0)})],1)},o=[],i=(n("4de4"),n("caad"),n("a9e3"),n("2532"),{props:{rowStyle:{type:Function},headerStyle:{type:Function},resizable:{type:Boolean,default:!0},tableName:{type:String,required:!0},showHeader:{type:Boolean,default:!0},border:{type:[Boolean,String],default:!0},autoResize:{type:Boolean,default:!0},headerAlign:{type:String,default:"center"},showFooter:{type:Boolean,default:!1},showFooterOverflow:{type:[Boolean,String],default:"tooltip"},showOverflow:{type:[Boolean,String],default:"tooltip"},stripe:{type:Boolean,default:!0},maxHeight:{type:[Number,String],default:""},height:{type:[Number,String],default:"500px"},size:{type:String,default:"small"},highlightHoverRow:{type:Boolean,default:!0},highlightCurrentRow:{type:Boolean,default:!1},tableLoading:{type:Boolean,default:!1},tooltipConfig:{type:Object,default:function(){return{theme:"light",enterable:!0}}},checkboxConfig:{type:Object,default:function(){return{}}},exportConfig:{type:Object,default:function(){return{}}},keepSource:{type:Boolean,default:!1},editConfig:{type:[Boolean,Object],default:!1},tableDatas:{type:Array,required:!0},tableColumns:{type:Array,required:!0},tablePage:{type:Object,required:!0},checkRecords:{type:Array,default:function(){return[]}}},data:function(){return{isAllChecked:!1,isIndeterminate:!1,selectRecords:[],mergeArr:[]}},watch:{checkRecords:function(t,e){0===t.length&&this.checkboxChangeEvent([])}},methods:{handleCellRender:function(t){var e=t.row,n=t.column,a=t.cellValue;return console.log(666,e,n,a),{style:"color: red;"}},handlePageChange:function(t){var e=t.currentPage,n=t.pageSize;this.isAllChecked=!1,this.selectRecords=[],this.$emit("onTablePageChange",e,n)},sortChange:function(t){t.column;var e=t.property,n=t.order;console.log(666),this.isAllChecked=!1,this.selectRecords=[],this.$emit("sortChange",e,n)},checkboxChangeEvent:function(t){var e=t.records;this.isAllChecked=this.$refs[this.tableName+"Table"].isAllCheckboxChecked(),this.isIndeterminate=this.$refs[this.tableName+"Table"].isCheckboxIndeterminate(),e?this.selectRecords=e:(this.selectRecords=[],this.isIndeterminate=!1),0===this.selectRecords.length&&(this.isAllChecked=!1),this.$emit("chooseCheck",e)},changeAllEvent:function(){this.$refs[this.tableName+"Table"].setAllCheckboxRow(this.isAllChecked),this.selectRecords=this.$refs[this.tableName+"Table"].getCheckboxRecords(),0===this.selectRecords.length&&(this.isAllChecked=!1),this.$emit("chooseCheck",this.selectRecords)},exportData:function(t,e,n){console.log(n);var a={isColgroup:!0,filename:t,useStyle:!0,type:"xlsx",columns:n.filter((function(t){return console.log(t),""!==t.field})),data:e};this.$refs[this.tableName+"Table"].exportData(a)},exportDatax:function(t,e,n){console.log(n);var a={isColgroup:!0,filename:t,useStyle:!0,type:"csv",data:e};n&&(a.columnFilterMethod=function(t){return n.includes(t.property)}),this.$refs[this.tableName+"Table"].exportData(a)},cellClickEvent:function(t){var e=t.row;this.$emit("clickRows",e)},cellDBLClickEvent:function(t){var e=t.row;this.$emit("dbclickRows",e)},currentChangeEvent:function(t){var e=t.row,n=this.$refs[this.tableName+"Table"].$getRowIndex(e);this.$emit("currentChangeEvent",e,n)},setCurrentRow:function(t){this.$refs[this.tableName+"Table"].setCurrentRow(this.tableDatas[t])},clearCurrentRow:function(){this.$refs[this.tableName+"Table"].clearCurrentRow()},toggleCheckboxRow:function(t){this.$refs[this.tableName+"Table"].toggleCheckboxRow(t)},clearCheckboxRow:function(){this.$refs[this.tableName+"Table"].clearCheckboxRow()},getCheckboxRecords:function(){return this.$refs[this.tableName+"Table"].getCheckboxRecords()},getRadioRecord:function(){return this.$refs[this.tableName+"Table"].getRadioRecord()},setCheckboxRow:function(t,e){return this.$refs[this.tableName+"Table"].setCheckboxRow(t,e)},mergeRowMethod:function(t){var e=t.row,n=t.$rowIndex,a=t.column,o=t.data,i=this.mergeArr;if(this.mergeArr.length>0){var r=e[a.property];if(r&&i.includes(a.property)){var s=e[i[0]],c=o[n-1],l=o[n+1];if(c&&c[a.property]===r&&c[i[0]]===s)return{rowspan:0,colspan:0};var u=1;while(l&&l[a.property]===r&&l[i[0]]===s)l=o[++u+n];if(u>1)return{rowspan:u,colspan:1}}}}}}),r=i,s=(n("bf39"),n("2877")),c=Object(s["a"])(r,a,o,!1,null,"00902082",null);e["a"]=c.exports},e01d:function(t,e,n){"use strict";var a=n("b9bd"),o=n.n(a);o.a},ed74:function(t,e,n){}}]);
//# sourceMappingURL=chunk-d8b123ae.e60918ad.js.map