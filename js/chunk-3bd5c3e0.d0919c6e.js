(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bd5c3e0"],{"2a88":function(e,t,i){"use strict";var n=i("f8d5"),o=i.n(n);o.a},"3b9a":function(e,t,i){},"857a":function(e,t,i){var n=i("1d80"),o=/"/g;e.exports=function(e,t,i,a){var c=String(n(e)),s="<"+t;return""!==i&&(s+=" "+i+'="'+String(a).replace(o,"&quot;")+'"'),s+">"+c+"</"+t+">"}},9914:function(e,t,i){"use strict";var n=i("f8f0"),o=i.n(n);o.a},af03:function(e,t,i){var n=i("d039");e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},b314:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{class:[e.$store.state.dialogMarginClass,"import-dialog"],attrs:{title:e.importDialogName,visible:e.isShow},on:{"update:visible":function(t){e.isShow=t}}},[i("span",{staticClass:"display-flex"},[i("el-link",{staticClass:"width-120 margin-right-10",attrs:{underline:!1},on:{click:e.exportTemplate}},[e._v(e._s(e.exportFileName))]),i("el-input",{staticClass:"margin-right-10",attrs:{size:"small",disabled:""},model:{value:e.importFileName,callback:function(t){e.importFileName=t},expression:"importFileName"}}),i("el-upload",{ref:"upload",staticClass:"display-flex file-upload",attrs:{action:"","auto-upload":!1,accept:".xlsx, .xls","http-request":e.submitFile,"file-list":e.importFiles,"show-file-list":!1,"on-change":e.selectFile,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError}},[i("el-button",{staticClass:"margin-right-10",attrs:{slot:"trigger",size:"small"},slot:"trigger"},[e._v(e._s(e.BTN_TEXT.CHOOSE_FILE))]),i("el-button",{staticClass:"custom-button",attrs:{size:"small",type:"primary",disabled:0===e.importFiles.length},on:{click:e.uploadBtnClick}},[e._v(e._s(e.BTN_TEXT.IMPORT))]),i("el-button",{staticClass:"custom-button",attrs:{size:"small",type:"danger"},on:{click:e.cleanFile}},[e._v("清空")])],1)],1),i("span",{directives:[{name:"show",rawName:"v-show",value:e.isUploadProgressShow,expression:"isUploadProgressShow"}],staticClass:"display-flex margin-top-15"},[i("span",[e._v(e._s(e.VARIABLE.UPLOAD_PROGRESS)+":")]),i("el-progress",{attrs:{"text-inside":!0,percentage:e.uploadPercent,"stroke-width":22,format:e.formatText,color:e.uploadProgressColor}})],1),e.errorList.length>0?i("div",{staticClass:"errorDiv"},[i("div",{staticClass:"errorTitle"},[e._v(e._s(e.VARIABLE.ERROR_INFO)+":"+e._s(e.errorList.length)+e._s(e.VARIABLE.ARTICLE))]),i("div",{staticClass:"errorListDiv"},e._l(e.errorList,(function(e,t){return i("el-alert",{key:t,attrs:{title:e.failData+"  "+e.failReason,type:"error","show-icon":""}})})),1)]):e._e()])},o=[],a=(i("b0c0"),i("582a")),c=i("3fa5"),s={components:{},props:{importDialogName:{type:String,default:""},exportFileName:{type:String,default:""}},data:function(){return{BTN_TEXT:a["c"],VARIABLE:a["P"],importFileName:"",importFiles:[],uploadPercent:0,isUploadProgressShow:!1,uploadProgressColor:"#0871dc",errorList:[],isShow:!1,limit:1}},computed:{},created:function(){},methods:{exportTemplate:function(){this.$emit("exportTemplate")},submitFile:function(e){this.isUploadProgressShow=!1,this.uploadPercent=0,this.errorList=[],this.$emit("submitImportFile",e)},selectFile:function(e,t){this.importFileName=e.name,this.importFiles=t},handleUploadSuccess:function(e){e.rows&&e.rows.length>0?(this.isUploadProgressShow=!1,this.uploadPercent=0,Object(c["a"])(a["H"].IMPORT_ERROR),e.rows&&(this.errorList=e.rows)):(this.isShow=!1,console.log("成功",e),Object(c["b"])(a["H"].IMPORT_SUCCESS),this.$emit("closeImportDialog"))},handleUploadError:function(e){console.log("失败",e),this.isUploadProgressShow=!1,this.uploadPercent=0,Object(c["a"])(e),e.rows&&(this.errorList=e.rows,console.log(this.errorList))},uploadBtnClick:function(){this.$refs.upload.submit(),this.uploadPercent=0},formatText:function(e){return"".concat(e,"%")},resetUploadProgressBar:function(){var e=this;this.isUploadProgressShow=!1,this.uploadPercent=0,this.$nextTick((function(){e.importFileName=""})),this.importFileName="",this.errorList=[]},cleanFile:function(){var e=this;this.$nextTick((function(){e.importFileName="",e.importFiles=[],e.$refs.upload.clearFiles(),e.errorList=[],e.isUploadProgressShow=!1,e.uploadPercent=0}))},cleanFile2:function(){var e=this;this.$nextTick((function(){e.importFileName="",e.importFiles=[],e.$refs.upload.clearFiles()}))}}},r=s,l=(i("2a88"),i("2877")),u=Object(l["a"])(r,n,o,!1,null,"a8356c7a",null);t["a"]=u.exports},b58d:function(e,t,i){"use strict";i.d(t,"l",(function(){return a})),i.d(t,"m",(function(){return c})),i.d(t,"n",(function(){return s})),i.d(t,"o",(function(){return r})),i.d(t,"p",(function(){return l})),i.d(t,"k",(function(){return u})),i.d(t,"H",(function(){return d})),i.d(t,"G",(function(){return h})),i.d(t,"I",(function(){return m})),i.d(t,"s",(function(){return p})),i.d(t,"t",(function(){return f})),i.d(t,"u",(function(){return g})),i.d(t,"r",(function(){return C})),i.d(t,"i",(function(){return b})),i.d(t,"j",(function(){return v})),i.d(t,"h",(function(){return k})),i.d(t,"v",(function(){return T})),i.d(t,"w",(function(){return w})),i.d(t,"e",(function(){return x})),i.d(t,"d",(function(){return S})),i.d(t,"b",(function(){return E})),i.d(t,"f",(function(){return y})),i.d(t,"y",(function(){return _})),i.d(t,"c",(function(){return O})),i.d(t,"g",(function(){return D})),i.d(t,"a",(function(){return P})),i.d(t,"z",(function(){return R})),i.d(t,"A",(function(){return I})),i.d(t,"B",(function(){return N})),i.d(t,"F",(function(){return j})),i.d(t,"q",(function(){return F})),i.d(t,"x",(function(){return L})),i.d(t,"E",(function(){return A})),i.d(t,"C",(function(){return B})),i.d(t,"D",(function(){return M}));var n=i("b775"),o=i("99f6"),a=function(e,t){return Object(n["k"])("checkItems/getAll.action?",e,t)},c=function(e,t){return Object(n["k"])("checkItems/getList.action?",e,t)},s=function(e,t){return Object(n["k"])("checkItems/insert.action?",e,t)},r=function(e,t){return Object(n["k"])("checkItems/insertBatch.action?",e,t)},l=function(e,t){return Object(n["k"])("checkItems/updateById.action?",e,t)},u=function(e,t){return Object(n["k"])("checkItems/deleteByIds.action?",e,t)},d=function(e,t){return Object(n["k"])("scenes/getPageScenes.action?",e,t)},h=function(e,t){return Object(n["k"])("scenes/deleteByIds.action?",e,t)},m=function(e,t){return Object(n["k"])("scenes/insertOrUpdateScenesAndShift.action?",e,t)},p=function(e,t){return Object(n["k"])("checkTemplate/getPageCheckTemplate.action?",e,t)},f=function(e,t){return Object(n["k"])("checkTemplate/insert.action?",e,t)},g=function(e,t){return Object(n["k"])("checkTemplate/updateById.action?",e,t)},C=function(e,t){return Object(n["k"])("checkTemplate/deleteByIds.action?",e,t)},b=function(e,t){return Object(n["k"])("checkItemTemplateRelationship/getListCheckTemplateRelationshipItem.action?",e,t)},v=function(e,t){return Object(n["k"])("checkItemTemplateRelationship/insertOrUpdateBatch.action?",e,t)},k=function(e,t){return Object(n["k"])("checkItemTemplateRelationship/deleteById.action?",e,t)},T=function(e,t){return Object(n["k"])("checkTemplateWorkshopTypeRelationship/getPageWorkshopTypeRelationshipTemplate.action?",e,t)},w=function(e,t){return Object(n["k"])("checkTemplateWorkshopTypeRelationship/updateWorkshopTypeRelationshipTemplate.action?",e,t)},x=function(e,t){return Object(n["k"])("check/getListGroupTreeDeviceCheckByCurrentUser.action?",e,t)},S=function(e,t){return Object(n["k"])("check/getListGroupTreeDeviceCheck.action?",e,t)},E=function(e,t){return Object(n["k"])("check/getListCheckListByDeviceCode.action?",e,t)},y=function(e,t){return Object(n["k"])("check/getListLastCheckListByDeviceCode.action?",e,t)},_=function(e,t){return Object(n["k"])("check/updateCheckList.action?",e,t)},O=function(e,t){return Object(n["k"])("check/getListDeviceCheckHistory.action?",e,t)},D=function(e,t){return Object(n["k"])("check/getListShiftByDeviceCode.action?",e,t)},P=function(e,t){return Object(n["k"])("check/getAppCheckListByDateAndDeviceCode.action?",e,t)},R=function(e,t){return Object(n["k"])("check/updateHolidayInspectionFree.action?",e,t)},I=function(e,t){return Object(n["k"])("fileResource/deleteByIds.action?",e,t)},N=function(e,t){return Object(n["k"])("check/getCheckRepairTaskSwitch.action?",e,t)},j=function(e,t){return Object(n["k"])("check/insertCheckRepairTask.action?",e,t)},F=function(e,t){return Object(n["k"])("check/checkReview.action?",e,t)},L=function(e,t){return Object(n["k"])("check/checkUnReview.action?",e,t)},A=function(e,t){return Object(n["k"])("check/getUnReviewCheckRecord.action?",e,t)},B=function(e,t){return Object(n["e"])(o["d"]+"check/getListCheckListByDeviceCode.action?",e,t)},M=function(e,t){return Object(n["e"])(o["d"]+"check/getListLastCheckListByDeviceCode.action?",e,t)}},bcc1:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content"},[i("vue-draggable",{staticClass:"draggable",attrs:{animation:"380",ghostClass:"ghost",handle:".move-row"},model:{value:e.headColumn,callback:function(t){e.headColumn=t},expression:"headColumn"}},e._l(e.headColumn,(function(t){return i("li",{key:t.field,staticClass:"node-row"},[i("el-checkbox",{attrs:{disabled:!0,checked:t.visible}}),i("div",{staticClass:"headProess move-row"},[i("div",{staticClass:"title move-row"},[e._v(" "+e._s(t.title)+" "),i("i",{staticClass:"icon-button",attrs:{icon:"node-move"}})]),i("div",{staticClass:"proess",style:"width:"+t.width})]),i("el-input",{model:{value:t.width,callback:function(i){e.$set(t,"width",i)},expression:"item.width"}},[i("template",{slot:"append"},[e._v("px")])],2)],1)})),0),i("vue-draggable",{staticClass:"draggable",attrs:{animation:"380",ghostClass:"ghost",handle:".move-row"},model:{value:e.middleColumn,callback:function(t){e.middleColumn=t},expression:"middleColumn"}},e._l(e.middleColumn,(function(t){return i("li",{key:t.field,staticClass:"node-row move-row"},[i("el-checkbox",{attrs:{checked:t.visible},on:{change:function(i){return e.checkChange(t)}}}),i("div",{staticClass:"headProess move-row"},[i("div",{staticClass:"title"},[e._v(" "+e._s(t.title)+" "),i("i",{staticClass:"icon-button",attrs:{icon:"node-move"}})]),i("div",{staticClass:"proess",style:"width:"+t.width})]),i("el-input",{model:{value:t.width,callback:function(i){e.$set(t,"width",i)},expression:"item.width"}},[i("template",{slot:"append"},[e._v("px")])],2)],1)})),0),i("vue-draggable",{staticClass:"draggable",attrs:{animation:"380",ghostClass:"ghost",handle:".move-row"},model:{value:e.operationColumn,callback:function(t){e.operationColumn=t},expression:"operationColumn"}},e._l(e.operationColumn,(function(t){return i("li",{key:t.field,staticClass:"node-row"},[i("el-checkbox",{attrs:{disabled:!0,checked:t.visible}}),i("div",{staticClass:"headProess move-row"},[i("div",{staticClass:"title"},[e._v(" "+e._s(t.title)+" "),i("i",{staticClass:"icon-button",attrs:{icon:"node-move"}})]),i("div",{staticClass:"proess",style:"width:"+t.width})]),i("el-input",{model:{value:t.width,callback:function(i){e.$set(t,"width",i)},expression:"item.width"}},[i("template",{slot:"append"},[e._v("px")])],2)],1)})),0),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.saveCustomColumn}},[e._v(e._s(e.BTN_TEXT.CONFIRM))]),i("el-button",{on:{click:e.canleCustomColumn}},[e._v(e._s(e.BTN_TEXT.CLOSE))]),i("el-button",{on:{click:e.resetCustomColumn}},[e._v(e._s(e.BTN_TEXT.RESTORE_DEFAULT))])],1)],1)},o=[],a=(i("99af"),i("c7cd"),i("53ca")),c=i("582a"),s=i("310e"),r=i.n(s),l={components:{VueDraggable:r.a},props:{nowColumns:{type:Array,default:function(){return[]}}},data:function(){return{first:!1,BTN_TEXT:c["c"],checkColumn:[],headColumn:[],middleColumn:[],operationColumn:[],columns:[],oldColumns:[],width:[]}},computed:{},created:function(){var e=this;this.$nextTick((function(){e.oldColumns=e.deepClone(e.nowColumns),e.checkColumn=[],e.headColumn=[],e.middleColumn=[],e.operationColumn=[],e.columns=[];for(var t=0;t<e.nowColumns.length;t++)if("checkbox"!==e.nowColumns[t].type){void 0===e.nowColumns[t].visible&&(e.nowColumns[t].visible=!0);var i={};void 0===e.nowColumns[t].width?(e.nowColumns[t].width="auto",i.width="auto",i.field=e.nowColumns[t].field):(i.width=e.nowColumns[t].width,i.field=e.nowColumns[t].field),e.width.push(i),"left"===e.nowColumns[t].fixed?e.headColumn.push(e.deepClone(e.nowColumns[t])):"right"===e.nowColumns[t].fixed?e.operationColumn.push(e.deepClone(e.nowColumns[t])):e.middleColumn.push(e.deepClone(e.nowColumns[t]))}else e.checkColumn.push(e.deepClone(e.nowColumns[t]))}))},methods:{init:function(e){var t=this;this.$nextTick((function(){t.checkColumn=[],t.headColumn=[],t.middleColumn=[],t.operationColumn=[],t.columns=[],setTimeout((function(){for(var i=0;i<e.length;i++)if("checkbox"!==e[i].type){for(var n in void 0===e[i].visible&&(e[i].visible=!0),t.width)t.width[n].field===e[i].field&&(e[i].width=t.width[n].width);"left"===e[i].fixed?t.headColumn.push(e[i]):"right"===e[i].fixed?t.operationColumn.push(e[i]):t.middleColumn.push(e[i])}else t.checkColumn.push(e[i])}),0)}))},saveCustomColumn:function(){var e=this;this.columns=[],this.columns=this.columns.concat(this.checkColumn).concat(this.headColumn).concat(this.middleColumn).concat(this.operationColumn),setTimeout((function(){for(var t in e.oldColumns=e.deepClone(e.columns),e.width=[],e.columns){var i={};i.width=e.nowColumns[t].width,i.field=e.nowColumns[t].field,e.width.push(i)}e.$emit("saveCustomColumn",e.columns)}),150)},deepClone:function(e){var t=Array.isArray(e)?[]:{};if(e&&"object"===Object(a["a"])(e))for(var i in e)e.hasOwnProperty(i)&&(e[i]&&"object"===Object(a["a"])(e[i])?t[i]=this.deepClone(e[i]):t[i]=e[i]);return t},checkChange:function(e){e.visible=!e.visible},canleCustomColumn:function(){this.$emit("showCustomColumn")},resetCustomColumn:function(){this.$emit("resetCustomColumn")}}},u=l,d=(i("9914"),i("2877")),h=Object(d["a"])(u,n,o,!1,null,"17e8e46c",null);t["a"]=h.exports},c7cd:function(e,t,i){"use strict";var n=i("23e7"),o=i("857a"),a=i("af03");n({target:"String",proto:!0,forced:a("fixed")},{fixed:function(){return o(this,"tt","","")}})},def1:function(e,t,i){"use strict";var n=i("3b9a"),o=i.n(n);o.a},f450:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-container",[i("el-main",{staticClass:"view eq",staticStyle:{"overflow-y":"auto"}},[i("header-search",{attrs:{"show-primary-search":!0,cssType:"1"},on:{refreshTableData:e.refreshTableData}}),i("el-row",[i("el-col",{attrs:{span:24}},[i("div",{staticClass:"searchDiv"},[i("div",[i("span",{staticStyle:{"margin-left":"10px"}},[e._v("日期范围:")]),i("el-date-picker",{staticClass:"dateTime",attrs:{size:"mini",type:"daterange",align:"left","unlink-panels":"","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":e.BTN_TEXT.TO,"start-placeholder":e.BTN_TEXT.STARTTIME,"end-placeholder":e.BTN_TEXT.ENDTIME,"picker-options":e.pickerOptions,"default-time":["00:00:00","23:59:59"]},on:{change:e.refreshTable},model:{value:e.dateTime,callback:function(t){e.dateTime=t},expression:"dateTime"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini"},on:{click:function(t){return e.exportTable()}}},[e._v("导出")]),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini"},on:{click:function(t){return e.showReview()}}},[e._v("审核")])],1)]),i("div",{staticStyle:{clear:"both"}},[i("VXETable",{ref:"FixGrid",attrs:{id:"table",tableName:e.EQUIPMENT_DATA.FIXTASK_TABLE,height:e.$options.filters.getTableHeight(220),tableLoading:e.tableLoading,"pager-config":e.fixTableData.page,tableDatas:e.fixTableData.data,tableColumns:e.tableColumns,tablePage:e.fixTableData.page,highlightCurrentRow:!0},on:{onTablePageChange:e.handleFixTablePageChange,chooseCheck:e.checkboxChangeEvent,clickRows:e.clickRows}})],1)])],1),i("el-dialog",{attrs:{title:"提示",visible:e.centerDialogVisible,width:"500px",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[i("span",[e._v("请对勾选的点检任务进行审核")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"success"},on:{click:function(t){return e.checkReviewPass()}}},[e._v("通过")]),i("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.checkReviewNoPass()}}},[e._v("不通过")])],1)])],1)],1)},o=[],a=(i("96cf"),i("1da1")),c=i("2909"),s=i("85a8"),r=i("5861"),l=i("cf46"),u=i("3fa5"),d=i("6464"),h=i("eec9"),m=i("bcc1"),p=i("99f6"),f=i("582a"),g=i("b58d"),C=i("b314"),b=i("f82c"),v={name:"FixTask",computed:{},components:{HeaderTitle:s["a"],HeadOperationItem:r["a"],VXETable:l["a"],SearchBox:h["a"],ImportDialog:C["a"],CustomColumn:m["a"]},inject:["reload"],data:function(){return{REPAIR_TASK:f["L"],VARIABLE:f["P"],EXPORT_NAME:f["y"],FIXTASK_TYPE_STATUS:f["C"],TITLE:f["N"],PAGE_TITLE:f["I"],ENERGY:f["q"],MSG:f["H"],FIXTASK_STATUS:f["A"],EQUIPMENT_DATA:f["s"],BTN_TEXT:f["c"],isImportDialogShow:!1,manageTaskTable:{loading:!1,data:[],selectRecords:[],isAllChecked:!1,isIndeterminate:!1,page:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],perfect:!0,slots:{left:"pager_left"},layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"]},validRules:{repairName:[{required:!0,message:f["H"].PLEASE_ENTER_CONTENT},{max:100,message:"长度不得大于100个字符"},{pattern:/^[A-Za-z0-9\u4e00-\u9fa5]+$/,message:"不允许输入空格等特殊符号"}],typeIdList:[{required:!0,message:f["H"].PLEASE_CHOOSE_CONTENT,trigger:"change"}]},checkFlag:!1},checkboxConfig:{checkField:"checked",trigger:"row"},fixTableData:{data:[],page:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[5,10,20,50,100,200,500],perfect:!0,slots:{left:"pager_left"},layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"]},columns:[]},active2:2,tab:[],groupFilterData:null,repairTypeFilterData:null,deviceNameList:null,userNameList:null,filterData:{group:null,divice:null,repairType:null,user:null,repairtState:null},tableLoading:!1,title:"",selectRecords:[],defaultPageTitle:f["I"].REPAIR_TASK,createNewFixTaskModalData:{title:f["c"].CREATE_FIXTASK,show:!1},fixTaskConfirmTaskModalData:{title:f["s"].REPAIR_CONFIRM,show:!1,data:null,readonly:!1},fixManagementPage:{show:!1,title:f["s"].REPAIR_MANAGEMENT_TYPE,data:null,renderData:null,deleteList:[],isSearchBoxShow:!1,searchList:[],searchData:[],orderByData:{}},equipmentPicPage:{show:!1,title:f["c"].EQUIPMENT_PIC,data:null},equipmentPicPagedata:null,searchList:[],orderByData:{},searchData:[],isSearchBoxShow:!1,dialogVisibleCustomColumn:!1,tableColumns_head:[],tableColumns_operation:[],extendPropertyValueVoList:[],tableColumns:[{type:"checkbox",width:"50",align:"center"},{field:"recordId",minWidth:"120",visible:!0,title:"记录id",align:"center"},{field:"deviceName",minWidth:"120",visible:!0,title:f["q"].DEVICENAME,align:"center"},{field:"devicePriCode",visible:!0,title:f["i"].DEVICE_PRCODE,minWidth:"200",align:"center"},{field:"number",visible:!0,title:f["i"].DEVICE_EXTEND,minWidth:"200",align:"center"},{field:"shiftName",minWidth:"360",visible:!0,title:"班次时间",align:"center",formatter:function(e){var t=e.row;return t.shiftName+":"+t.checkStartTime+" - "+t.checkEndTime}},{field:"checkState",minWidth:"100",visible:!0,title:"点检状态",align:"center",formatter:function(e){var t=e.row;return 1===t.checkState?"正常点检":2===t.checkState?"点检不合格":3===t.checkState?"停机免检":4===t.checkState?"假日免检":5===t.checkState?"超时点检":void 0}},{field:"checkUser",minWidth:"100",visible:!0,title:"点检人",align:"center"},{field:"checkTime",minWidth:"160",visible:!0,title:"点检时间",align:"center"}],savedSearchCondition:[],pickerOptions:{shortcuts:[{text:f["c"].LAST_WEEK,onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i,t])}},{text:f["c"].LAST_MONTH,onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i,t])}},{text:f["c"].LAST_THREE_MONTHS,onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-7776e6),e.$emit("pick",[i,t])}}]},dateTime:"",centerDialogVisible:!1,CHECK_IMG:!1}},methods:{buttonClickEvent:function(e){"exit"!==e?this["".concat(e)]():this.closeFixManagement()},getFixTableData:function(){var e=this;console.log(this.dateTime),this.tableLoading=!0;var t={conditionJson1:[],operatorGroup:1,conditionJson2:[]};this.savedSearchCondition.length>0&&(t=b["l"].apply(void 0,Object(c["a"])(this.savedSearchCondition))),t.conditionJson1.push({column:"checkStartTime",type:"between",ptype:"between",value:this.dateTime[0]+","+this.dateTime[1]}),this.CHECK_IMG?t.conditionJson1.push({column:"checkState",type:"eq",ptype:"int",value:5}):t.conditionJson1.push({column:"checkState",type:"eq",ptype:"int",value:1}),t.conditionJson1.push({column:"reviewedBy",type:"isNull",ptype:"int"}),t.current=this.fixTableData.page.currentPage,t.size=this.fixTableData.page.pageSize,Object(g["E"])({},t).then((function(t){t.code===f["M"].OPERATION_SUCCESS?(e.fixTableData.data=t.rows,e.fixTableData.page.total=t.total,e.tableLoading=!1):Object(u["c"])(t.message)})).catch((function(e){Object(d["a"])(e)}))},refreshTable:function(){this.fixTableData.page.currentPage=1,this.getFixTableData()},refreshTableData:function(e){e&&(this.savedSearchCondition=Object(c["a"])(e),this.fixTableData.page.currentPage=1),this.getFixTableData()},checkboxChangeEvent:function(e){this.selectRecords=e},clickRows:function(e){var t=this.$refs.FixGrid.getCheckboxRecords();console.log(t);for(var i=!0,n=0;n<t.length;n++)t[n].recordId===e.recordId&&(i=!1);this.$refs.FixGrid.setCheckboxRow(e,i)},handleFixTablePageChange:function(e,t){this.fixTableData.page.currentPage=e,this.fixTableData.page.pageSize=t,this.getFixTableData()},exportTable:function(){var e=this;console.log(this.dateTime),this.tableLoading=!0;var t={conditionJson1:[],operatorGroup:1,conditionJson2:[]};this.savedSearchCondition.length>0&&(t=b["l"].apply(void 0,Object(c["a"])(this.savedSearchCondition))),t.conditionJson1.push({column:"checkStartTime",type:"between",ptype:"between",value:this.dateTime[0]+","+this.dateTime[1]}),this.CHECK_IMG?t.conditionJson1.push({column:"checkState",type:"eq",ptype:"int",value:5}):t.conditionJson1.push({column:"checkState",type:"eq",ptype:"int",value:1}),t.conditionJson1.push({column:"reviewedBy",type:"isNull",ptype:"int"}),t.current=1,t.size=99999999,Object(g["E"])({},t).then((function(t){t.code===f["M"].OPERATION_SUCCESS?(e.$refs.FixGrid.exportDatax("点检审核",t.rows),e.tableLoading=!1):Object(u["c"])(t.message)})).catch((function(e){Object(d["a"])(e)}))},showReview:function(){var e=this.$refs.FixGrid.getCheckboxRecords();0===e.length?Object(u["c"])("请勾选要审核的点检任务"):this.centerDialogVisible=!0},checkReviewPass:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i,n,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(i=e.$refs.FixGrid.getCheckboxRecords(),console.log(666,i),n=[],o=0;o<i.length;o++)n.push(i[o].recordId);return console.log(i,n),t.prev=5,t.next=8,Object(g["q"])({},n);case 8:a=t.sent,a.code===f["M"].OPERATION_SUCCESS?(e.centerDialogVisible=!1,Object(u["b"])(a.message),e.getFixTableData()):Object(u["c"])(a.message),t.next=14;break;case 12:t.prev=12,t.t0=t["catch"](5);case 14:return t.prev=14,t.finish(14);case 16:case"end":return t.stop()}}),t,null,[[5,12,14,16]])})))()},checkReviewNoPass:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i,n,o,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(i=e.$refs.FixGrid.getCheckboxRecords(),n=[],o=0;o<i.length;o++)n.push(i[o].recordId);return console.log(i,n),t.prev=4,t.next=7,Object(g["x"])({},n);case 7:a=t.sent,a.code===f["M"].OPERATION_SUCCESS?(e.centerDialogVisible=!1,Object(u["b"])(a.message),e.getFixTableData()):Object(u["c"])(a.message),t.next=13;break;case 11:t.prev=11,t.t0=t["catch"](4);case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}}),t,null,[[4,11,13,15]])})))()}},mounted:function(){p["C"][localStorage.getItem("companyId")]&&(this.CHECK_IMG=p["C"][localStorage.getItem("companyId")].CHECK_IMG);var e=new Date,t=new Date;t.setTime(t.getTime()-2592e6),this.dateTime=[this.$utils.toDateString(t,"yyyy-MM-dd")+" 00:00:00",this.$utils.toDateString(e,"yyyy-MM-dd")+" 23:59:59"],this.getFixTableData()},created:function(){}},k=v,T=k,w=(i("def1"),i("2877")),x=Object(w["a"])(T,n,o,!1,null,"01ecd210",null);t["default"]=x.exports},f8d5:function(e,t,i){},f8f0:function(e,t,i){}}]);
//# sourceMappingURL=chunk-3bd5c3e0.d0919c6e.js.map