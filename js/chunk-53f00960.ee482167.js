(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-53f00960"],{"01f6":function(t,e,a){"use strict";var i=a("4ce3"),n=a.n(i);n.a},"02b2":function(t,e,a){"use strict";var i=a("bb3d"),n=a.n(i);n.a},"0397":function(t,e,a){"use strict";var i=a("e15e"),n=a.n(i);n.a},"1e5e":function(t,e,a){"use strict";var i=a("b5d4"),n=a.n(i);n.a},2532:function(t,e,a){"use strict";var i=a("23e7"),n=a("5a34"),o=a("1d80"),r=a("ab13");i({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(o(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},2783:function(t,e,a){},"2a91":function(t,e,a){},"390b":function(t,e,a){},"3c42":function(t,e,a){"use strict";var i=a("2a91"),n=a.n(i);n.a},"4a05":function(t,e,a){"use strict";var i=a("f108"),n=a.n(i);n.a},"4ce3":function(t,e,a){},"4dfd":function(t,e,a){"use strict";a.d(e,"H",(function(){return n})),a.d(e,"G",(function(){return o})),a.d(e,"i",(function(){return r})),a.d(e,"D",(function(){return l})),a.d(e,"E",(function(){return s})),a.d(e,"v",(function(){return c})),a.d(e,"r",(function(){return u})),a.d(e,"K",(function(){return d})),a.d(e,"M",(function(){return f})),a.d(e,"L",(function(){return m})),a.d(e,"B",(function(){return p})),a.d(e,"s",(function(){return h})),a.d(e,"N",(function(){return b})),a.d(e,"p",(function(){return g})),a.d(e,"c",(function(){return v})),a.d(e,"b",(function(){return y})),a.d(e,"F",(function(){return w})),a.d(e,"I",(function(){return C})),a.d(e,"g",(function(){return x})),a.d(e,"h",(function(){return k})),a.d(e,"f",(function(){return D})),a.d(e,"a",(function(){return _})),a.d(e,"j",(function(){return P})),a.d(e,"d",(function(){return T})),a.d(e,"e",(function(){return O})),a.d(e,"y",(function(){return N})),a.d(e,"u",(function(){return I})),a.d(e,"J",(function(){return S})),a.d(e,"k",(function(){return F})),a.d(e,"q",(function(){return A})),a.d(e,"l",(function(){return E})),a.d(e,"n",(function(){return L})),a.d(e,"z",(function(){return j})),a.d(e,"t",(function(){return R})),a.d(e,"w",(function(){return V})),a.d(e,"x",(function(){return $})),a.d(e,"O",(function(){return z})),a.d(e,"m",(function(){return q})),a.d(e,"o",(function(){return B})),a.d(e,"A",(function(){return U})),a.d(e,"C",(function(){return M}));var i=a("b775"),n=function(t,e){return Object(i["l"])("v1/publishTemplate/listPublishTemplatesInShort?",t,e)},o=function(t,e){return Object(i["l"])("v1/publish/listCombinedPublishConfigs?",t,e)},r=function(t,e){return Object(i["l"])("v1/biz/layDownPublishConfig?",t,e)},l=function(t,e){return Object(i["l"])("v1/publish/deleteCloudPublishConfig?",t,e)},s=function(t,e){return Object(i["l"])("v1/publish/deleteEdgePublishConfig?",t,e)},c=function(t,e){return Object(i["l"])("/v1/acquireTemplate/listAcquireTemplates?",t,e)},u=function(t,e){return Object(i["l"])("/v1/acquireTemplate/insertAcquireTemplateName?",t,e)},d=function(t,e){return Object(i["l"])("/v1/acquireTemplate/updateAcquireTemplateName?",t,e)},f=function(t,e){return Object(i["l"])("/v1/acquireTemplate/updateAcquireTemplateProtocolDefinition?",t,e)},m=function(t,e){return Object(i["l"])("/v1/acquireTemplate/updateAcquireTemplatePointDataDefinition?",t,e)},p=function(t,e){return Object(i["l"])("/v1/gateway/listGateways?",t,e)},h=function(t,e){return Object(i["l"])("/v1/gateway/insertGateway?",t,e)},b=function(t,e){return Object(i["l"])("/v1/gateway/updateGatewayPwd?",t,e)},g=function(t,e){return Object(i["k"])("company/getList.action?",t,e)},v=function(t,e){return Object(i["l"])("v1/acquire/listAllAcquireConfigsInShort?",t,e)},y=function(t,e){return Object(i["l"])("v1/acquire/listAcquirePointData?",t,e)},w=function(t,e){return Object(i["l"])("v1/publish/insertPublishConfig?",t,e)},C=function(t,e){return Object(i["l"])("v1/publish/updatePublishConfig?",t,e)},x=function(t,e){return Object(i["l"])("v1/acquire/uploadPointDataExcel?",t,e)},k=function(t,e){return Object(i["l"])("v1/acquire/insertOneAcquirePointData?",t,e)},D=function(t,e){return Object(i["l"])("v1/acquire/updateAcquirePointData?",t,e)},_=function(t,e){return Object(i["l"])("v1/acquire/deleteAcquirePointData?",t,e)},P=function(t,e){return Object(i["l"])("v1/biz/queryEdgePointData?",t,e)},T=function(t,e){return Object(i["l"])("v1/acquire/pointDataOverwriteToCloud?",t,e)},O=function(t,e){return Object(i["l"])("v1/acquire/pointDataOverwriteToEdge?",t,e)},N=function(t,e){return Object(i["l"])("v1/acquire/listCombinedAcquireConfigs?",t,e)},I=function(t,e){return Object(i["l"])("v1/acquireTemplate/listAcquireProtocolTemplateInShort?",t,e)},S=function(t,e){return Object(i["l"])("v1/acquire/updateAcquireConfig?",t,e)},F=function(t,e){return Object(i["l"])("v1/biz/buildLink?",t,e)},A=function(t,e){return Object(i["l"])("v1/acquire/insertAcquireConfig?",t,e)},E=function(t,e){return Object(i["l"])("v1/acquire/deleteCloudAcquireConfig?",t,e)},L=function(t,e){return Object(i["l"])("v1/acquire/deleteEdgeAcquireConfig?",t,e)},j=function(t,e){return Object(i["l"])("v1/task/listCombinedTasks?",t,e)},R=function(t,e){return Object(i["l"])("v1/task/insertGatewayTaskName?",t,e)},V=function(t,e){return Object(i["l"])("v1/acquire/listAllAcquireConfigsInShort?",t,e)},$=function(t,e){return Object(i["l"])("v1/publish/listAllPublishConfigsInShort?",t,e)},z=function(t,e){return Object(i["l"])("v1/task/updateGatewayTask?",t,e)},q=function(t,e){return Object(i["l"])("v1/task/deleteCloudGatewayTask?",t,e)},B=function(t,e){return Object(i["l"])("v1/task/deleteEdgeTask?",t,e)},U=function(t,e){return Object(i["l"])("v1/task/listGatewayTasks?",t,e)},M=function(t,e){return Object(i["l"])("v1/acquire/listUsedPointDataByCode?",t,e)}},5861:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operation-item",on:{click:t.onOprationItem}},[a("div",{staticClass:"operation-icon"},[t._t("operation-icon")],2),a("div",{staticClass:"operation-span"},[t._t("operation-name")],2)])},n=[],o=(a("b0c0"),{props:{name:{type:String,required:!0}},methods:{onOprationItem:function(){this.$emit("onOprationItem",this.name)}}}),r=o,l=(a("01f6"),a("2877")),s=Object(l["a"])(r,i,n,!1,null,"0cfe45f8",null);e["a"]=s.exports},"5a34":function(t,e,a){var i=a("44e7");t.exports=function(t){if(i(t))throw TypeError("The method doesn't accept regular expressions");return t}},6464:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var i=a("5c96");function n(t,e){i["Notification"].error({title:t,message:e,duration:2e3,position:"bottom-right",showClose:!0})}},"7a15":function(t,e,a){},"7ac1":function(t,e,a){},"85a8":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-left-border"},[a("div",[a("span",{staticClass:"head-title-span"},[t._v(t._s(t.title))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"head-search",on:{click:t.onSearch}},[a("i",{staticClass:"icon-search"}),a("span",{staticClass:"search-span"},[t._v("搜索")])]),a("div",[t._t("head-search")],2)]),a("div",[t._t("head-operation")],2)])},n=[],o=(a("b0c0"),{name:"HeaderTitle",props:{titleName:{type:String,default:""},flag:{type:Boolean,default:!1}},data:function(){return{title:""}},methods:{getTitle:function(){""===this.titleName?this.title=this.$route.name:this.title=this.titleName},onSearch:function(){this.$emit("searchButtonClick")}},watch:{titleName:function(t,e){this.getTitle()}},created:function(){this.getTitle()},components:{}}),r=o,l=(a("af73"),a("2877")),s=Object(l["a"])(r,i,n,!1,null,"d1fc4504",null);e["a"]=s.exports},"8ba6":function(t,e,a){"use strict";var i=a("2783"),n=a.n(i);n.a},"8d64":function(t,e,a){},"8e8a":function(t,e,a){"use strict";var i=a("7ac1"),n=a.n(i);n.a},"8eee":function(t,e,a){"use strict";var i=a("8d64"),n=a.n(i);n.a},a09b:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.islist?a("div",{staticClass:"network NetWorkList"},[a("div",{staticClass:"header_con"},[a("div",{staticClass:"item_oper",on:{click:t.handleReload}},[a("i",{staticClass:"icon-refresh"}),a("span",{staticClass:"name"},[t._v("刷新")])]),a("div",{staticClass:"item_oper",on:{click:t.insertEvent}},[a("i",{staticClass:"icon-add"}),a("span",{staticClass:"name"},[t._v("新增接入")])])]),a("div",{staticClass:"mian_con"},[a("vxe-form",{attrs:{data:t.formData},on:{submit:t.listData}},[a("vxe-form-item",{attrs:{title:"网关编码:","item-render":{},field:"gatewayType"},scopedSlots:t._u([{key:"default",fn:function(){return[a("vxe-input",{attrs:{placeholder:"请输入"},model:{value:t.formData.gatewayType,callback:function(e){t.$set(t.formData,"gatewayType",e)},expression:"formData.gatewayType"}})]},proxy:!0}],null,!1,257214285)}),a("vxe-form-item",{attrs:{title:"公司",field:"companyName","item-render":{}},scopedSlots:t._u([{key:"default",fn:function(){return[a("vxe-select",{attrs:{placeholder:"请选择"},model:{value:t.formData.companyName,callback:function(e){t.$set(t.formData,"companyName",e)},expression:"formData.companyName"}},t._l(t.companyList,(function(t,e){return a("vxe-option",{key:e,attrs:{value:t.companyName,label:t.companyName}})})),1)]},proxy:!0}],null,!1,2542751286)}),a("vxe-form-item",{scopedSlots:t._u([{key:"default",fn:function(){return[a("vxe-button",{attrs:{type:"submit",status:"primary"}},[t._v("查询")]),a("vxe-button",{attrs:{type:"reset"}},[t._v("重置")])]},proxy:!0}],null,!1,35568857)})],1),a("div",{staticClass:"list_con"},[a("vxe-table",{ref:"xTable",attrs:{border:"",resizable:"","highlight-current-row":"","show-overflow":"",tablePage:t.tablePage,loading:t.tableLoading,height:t.$options.filters.getTableHeight(260),data:t.tableData}},[a("vxe-table-column",{attrs:{type:"seq",title:"序号",width:"60"}}),a("vxe-table-column",{attrs:{field:"companyName",width:"300",title:"公司名称","edit-render":{name:"$select",options:t.companyList}}}),a("vxe-table-column",{attrs:{field:"gatewayName",title:"网关名称"}}),a("vxe-table-column",{attrs:{field:"gatewayType",title:"网关系列"}}),a("vxe-table-column",{attrs:{field:"gatewayCode",title:"网关编码"}}),a("vxe-table-column",{attrs:{field:"northLinkState",title:"远程连接状态"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("vxe-button",{attrs:{status:t._f("statusStyle")(i.northLinkState),content:t._f("statusContent")(i.northLinkState)}})]}}],null,!1,1573216714)}),a("vxe-table-column",{attrs:{field:"southLinkState",title:"设备连接状态"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("vxe-button",{attrs:{status:t._f("statusStyle")(i.southLinkState),content:t._f("statusContent")(i.southLinkState)}})]}}],null,!1,2703394378)}),a("vxe-table-column",{attrs:{field:"bootTime",title:"启动时间"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",[t._v(t._s(t._f("timeSwitch")(i.bootTime)))])]}}],null,!1,343299001)}),a("vxe-table-column",{attrs:{title:"操作",align:"center",width:"300","show-overflow":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("vxe-button",{attrs:{type:"text",status:"primary",content:"访问"},on:{click:function(e){return t.handelVisit(i)}}}),a("vxe-button",{attrs:{type:"text",status:"danger",content:"重启"}}),a("vxe-button",{attrs:{type:"text",status:"primary",content:"修改密码"},on:{click:function(e){return t.modifyPassword(i,t.column)}}}),a("vxe-button",{attrs:{type:"text",status:"danger",content:"重置密码"}})]}}],null,!1,437066235)})],1),a("div",{staticClass:"page_con"},[a("vxe-pager",{attrs:{loading:t.tableLoading,border:!0,background:"","current-page":t.tablePage.currentPage,"page-size":t.tablePage.pageSize,total:t.tablePage.total,layouts:t.tablePage.layouts},on:{"page-change":t.handlePageChange}})],1)],1),a("vxe-modal",{ref:"xModal",attrs:{title:"新增接入",width:"600","destroy-on-close":""},on:{close:t.closeit},scopedSlots:t._u([{key:"default",fn:function(){return[a("vxe-form",{ref:"roleForm",attrs:{data:t.formTable,"title-align":"right","title-width":"100"},on:{submit:t.submitEvent}},[a("vxe-form-item",{attrs:{title:"公司",field:"companyCode",span:"24","item-render":{name:"$select",options:t.NameList}}}),a("vxe-form-item",{attrs:{title:"网关名称",field:"gatewayCode",span:"24","item-render":{name:"input"}}}),a("vxe-form-item",{attrs:{title:"网关系列",field:"gatewayName",span:"24","item-render":{name:"input"}}}),a("vxe-form-item",{attrs:{title:"网关验证码",field:"gatewayType",span:"24","item-render":{name:"input"}}}),a("vxe-form-item",{attrs:{data:t.formTable,align:"center",span:"24"},scopedSlots:t._u([{key:"default",fn:function(){return[a("vxe-button",{attrs:{type:"submit",status:"primary"}},[t._v("确定")]),a("vxe-button",{on:{click:function(e){return t.$refs.xModal.close()}}},[t._v("取消")])]},proxy:!0}],null,!1,1285946288)})],1)]},proxy:!0}],null,!1,2595473037),model:{value:t.showEdit,callback:function(e){t.showEdit=e},expression:"showEdit"}}),a("el-dialog",{attrs:{title:"修改密码",visible:t.dialogVisible,width:"500px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"roleForm",attrs:{model:t.form2},nativeOn:{submit:function(t){t.preventDefault()}}},[a("el-row",[a("el-col",{attrs:{span:20,offset:1}},[a("el-form-item",{attrs:{label:"新密码：","label-width":t.formLabelWidth,prop:""}},[a("el-input",{attrs:{type:"password",autocomplete:"off",size:"small"},model:{value:t.form2.NewPassWord,callback:function(e){t.$set(t.form2,"NewPassWord",e)},expression:"form2.NewPassWord"}})],1)],1),a("el-col",{attrs:{span:20,offset:1}},[a("el-form-item",{attrs:{label:"重复密码","label-width":t.formLabelWidth,prop:""}},[a("el-input",{attrs:{type:"password",autocomplete:"off",size:"small"},model:{value:t.form2.RePassWord,callback:function(e){t.$set(t.form2,"RePassWord",e)},expression:"form2.RePassWord"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{staticClass:"custom-button",attrs:{type:"primary"},on:{click:function(e){return t.PasswordConfirm(t.row)}}},[t._v("确认")]),a("el-button",{staticClass:"custom-button",on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])],1)],1)],1)]):a("netWork-detail",{attrs:{param:t.detailParam},on:{handleBack:t.handleBack}})},n=[],o=(a("fb6a"),a("96cf"),a("1da1")),r=a("85a8"),l=a("5861"),s=a("cf46"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"network_detail network"},[a("div",{staticClass:"header_con"},t._l(t.operList,(function(e,i){return a("div",{key:i},["ALL"==e.hasPower||e.hasPower.includes(t.componentName)?a("div",{staticClass:"item_oper",on:{click:function(a){return t.handleOper(e)}}},[a("i",{class:["icon",e.iconName]}),a("span",{staticClass:"name"},[t._v(t._s(e.name))])]):t._e()])})),0),a("div",{staticClass:"main_con"},[a("el-radio-group",{model:{value:t.componentName,callback:function(e){t.componentName=e},expression:"componentName"}},t._l(t.radioList,(function(e){return a("el-radio-button",{key:e.name,attrs:{label:e.component}},[t._v(t._s(e.name))])})),1),a("el-button",{staticClass:"back_btn",attrs:{size:"small",type:"primary"},on:{click:t.handleBack}},[t._v("返回")]),a("div",{staticClass:"tabs_con"},[a(t.componentName,{ref:"childRef",tag:"component",attrs:{param:t.param}})],1)],1)])},u=[],d=(a("b0c0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"NetWorkMessage network"},[a("div",{staticClass:"item_row"},[a("card-module",{attrs:{title:"网关基本信息",height:160},scopedSlots:t._u([{key:"module_con",fn:function(){return[a("el-form",{attrs:{model:t.basicFormData,"label-width":"auto",size:"small"}},[a("el-form-item",{attrs:{label:"网关名:"}},[a("el-input",{attrs:{placeholder:"",disabled:""},model:{value:t.basicFormData.gatewayName,callback:function(e){t.$set(t.basicFormData,"gatewayName",e)},expression:"basicFormData.gatewayName"}})],1),a("el-form-item",{attrs:{label:"网关编码:"}},[a("el-input",{attrs:{placeholder:"",disabled:""},model:{value:t.basicFormData.gatewayCode,callback:function(e){t.$set(t.basicFormData,"gatewayCode",e)},expression:"basicFormData.gatewayCode"}})],1)],1)]},proxy:!0}])}),a("card-module",{attrs:{title:"通信情况",height:310},scopedSlots:t._u([{key:"operation",fn:function(){return[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("查询")])]},proxy:!0},{key:"module_con",fn:function(){return[a("div",{staticClass:"c-blue fw-b m-b20"},[t._v("上次通信时间"),a("span",{staticClass:"m-l10"},[t._v("2022-05-20 13:14:00")])]),a("el-form",{attrs:{model:t.basicFormData,"label-width":"auto",size:"small"}},t._l(t.communicateOption,(function(e){return a("el-form-item",{key:e.label,attrs:{label:e.label}},[a("el-input",{attrs:{placeholder:""},model:{value:t.communicateFormData[e.key],callback:function(a){t.$set(t.communicateFormData,e.key,a)},expression:"communicateFormData[item.key]"}})],1)})),1)]},proxy:!0}])}),a("card-module",{attrs:{title:"NTP服务",height:370},scopedSlots:t._u([{key:"module_con",fn:function(){return[a("div",{staticClass:"m-b20 NTP"},[a("el-radio-group",{staticClass:"ml-4",model:{value:t.NTPFormData["startUse"],callback:function(e){t.$set(t.NTPFormData,"startUse",e)},expression:"NTPFormData['startUse']"}},[a("el-radio",{attrs:{label:"0",size:"large"}},[t._v("启用")]),a("el-radio",{attrs:{label:"1",size:"large"}},[t._v("不启用")])],1)],1),a("div",{staticClass:"m-b30 NTP"},[a("el-radio-group",{staticClass:"ml-4",model:{value:t.NTPFormData["startUse"],callback:function(e){t.$set(t.NTPFormData,"startUse",e)},expression:"NTPFormData['startUse']"}},[a("el-radio",{attrs:{label:"0",size:"large"}},[t._v("自定义服务器")]),a("el-radio",{attrs:{label:"1",size:"large"}},[t._v("自动选择")])],1)],1),a("el-form",{attrs:{model:t.basicFormData,"label-width":"auto",size:"small"}},[a("el-form-item",{attrs:{label:"服务器地址:"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.basicFormData.user,callback:function(e){t.$set(t.basicFormData,"user",e)},expression:"basicFormData.user"}})],1),a("el-form-item",{attrs:{label:"端口:"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.basicFormData.user,callback:function(e){t.$set(t.basicFormData,"user",e)},expression:"basicFormData.user"}})],1),a("el-form-item",{attrs:{label:"更新周期:"}},[a("el-input",{attrs:{placeholder:""},model:{value:t.basicFormData.user,callback:function(e){t.$set(t.basicFormData,"user",e)},expression:"basicFormData.user"}})],1)],1),a("div",{staticClass:"ta-c m-t35"},[a("el-button",{staticClass:"m-r30",attrs:{size:"mini",type:"primary"}},[t._v("保存修改")]),a("el-button",{attrs:{size:"mini"}},[t._v("取消")])],1)]},proxy:!0}])})],1),a("div",{staticClass:"item_row"},[a("card-module",{attrs:{title:"IP配置",height:160,conStyle:{padding:"0 10px"}},scopedSlots:t._u([{key:"operation",fn:function(){return[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("查询")])]},proxy:!0},{key:"module_con",fn:function(){return[a("div",{staticClass:"two_sides net0"},[a("div",{staticClass:"left_sides"},[t._v("NET0")]),a("div",{staticClass:"right_sides"},[a("div",{staticClass:"m-b20 IPConfig"},[a("el-radio-group",{staticClass:"ml-4",model:{value:t.IPFormData0["startUse"],callback:function(e){t.$set(t.IPFormData0,"startUse",e)},expression:"IPFormData0['startUse']"}},[a("el-radio",{attrs:{label:"0",size:"large"}},[t._v("静态 IP")]),a("el-radio",{attrs:{label:"1",size:"large"}},[t._v("DHCP")])],1)],1),a("el-form",{attrs:{model:t.IPFormData0,"label-width":"auto",size:"small"}},t._l(t.IPOption,(function(e){return a("el-form-item",{key:e.label,attrs:{label:e.label}},[a("el-input",{attrs:{placeholder:""},model:{value:t.IPFormData0[e.key],callback:function(a){t.$set(t.IPFormData0,e.key,a)},expression:"IPFormData0[item.key]"}})],1)})),1)],1)]),a("div",{staticClass:"two_sides net1"},[a("div",{staticClass:"left_sides"},[t._v("NET1")]),a("div",{staticClass:"right_sides"},[a("div",{staticClass:"m-b20 IPConfig"},[a("el-radio-group",{staticClass:"ml-4",model:{value:t.IPFormData1["startUse"],callback:function(e){t.$set(t.IPFormData1,"startUse",e)},expression:"IPFormData1['startUse']"}},[a("el-radio",{attrs:{label:"0",size:"large"}},[t._v("静态 IP")]),a("el-radio",{attrs:{label:"1",size:"large"}},[t._v("DHCP")])],1)],1),a("el-form",{attrs:{model:t.IPFormData1,"label-width":"auto",size:"small"}},t._l(t.IPOption,(function(e){return a("el-form-item",{key:e.label,attrs:{label:e.label}},[a("el-input",{attrs:{placeholder:""},model:{value:t.IPFormData1[e.key],callback:function(a){t.$set(t.IPFormData1,e.key,a)},expression:"IPFormData1[item.key]"}})],1)})),1)],1)]),a("div",{staticClass:"ta-c m-t35 p-b30"},[a("el-button",{staticClass:"m-r30",attrs:{size:"mini",type:"primary"}},[t._v("确认")]),a("el-button",{attrs:{size:"mini"}},[t._v("取消")])],1)]},proxy:!0}])})],1),a("div",{staticClass:"item_row"},[a("card-module",{attrs:{title:"4G设置",height:370},scopedSlots:t._u([{key:"module_con",fn:function(){return[a("div",{staticClass:"m-b20 NTP"},[a("el-radio-group",{staticClass:"ml-4",model:{value:t.fourGFormData["startUse"],callback:function(e){t.$set(t.fourGFormData,"startUse",e)},expression:"fourGFormData['startUse']"}},[a("el-radio",{attrs:{label:"0",size:"large"}},[t._v("启用")]),a("el-radio",{attrs:{label:"1",size:"large"}},[t._v("不启用")])],1)],1),a("el-form",{attrs:{model:t.fourGFormData,"label-width":"auto",size:"small"}},t._l(t.fourGOption,(function(e){return a("el-form-item",{key:e.label,attrs:{label:e.label}},[a("el-input",{attrs:{placeholder:""},model:{value:t.fourGFormData[e.key],callback:function(a){t.$set(t.fourGFormData,e.key,a)},expression:"fourGFormData[item.key]"}})],1)})),1),a("div",{staticClass:"ta-c m-t35"},[a("el-button",{staticClass:"m-r30",attrs:{size:"mini",type:"primary"}},[t._v("保存修改")]),a("el-button",{attrs:{size:"mini"}},[t._v("取消")])],1)]},proxy:!0}])}),a("card-module",{attrs:{title:"网络调试",height:260},scopedSlots:t._u([{key:"operation",fn:function(){return[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("运行")])]},proxy:!0},{key:"module_con",fn:function(){return[a("div",{staticClass:"ping_wra m-b20"},[a("span",{staticClass:"m-r5"},[t._v("ping:")]),a("el-dropdown",{staticClass:"m-r5",on:{command:t.handleCommand},scopedSlots:t._u([{key:"dropdown",fn:function(){return[a("el-dropdown-menu",[a("el-dropdown-item",{attrs:{command:"Eth0"}},[t._v("Eth0")]),a("el-dropdown-item",{attrs:{command:"Eth1"}},[t._v("Eth1")])],1)]},proxy:!0}])},[a("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(t.Eth)+": ")])]),a("el-input",{attrs:{size:"small"},model:{value:t.debugFormData["eth"],callback:function(e){t.$set(t.debugFormData,"eth",e)},expression:"debugFormData['eth']"}})],1),a("el-input",{attrs:{type:"textarea",autosize:{minRows:4,maxRows:6}},model:{value:t.debugFormData["content"],callback:function(e){t.$set(t.debugFormData,"content",e)},expression:"debugFormData['content']"}})]},proxy:!0}])})],1),a("div",{staticClass:"item_row"},[a("card-module",{attrs:{title:"WIFI配置",height:370},scopedSlots:t._u([{key:"operation",fn:function(){return[a("el-button",{attrs:{size:"mini",type:"primary"}},[t._v("编辑")])]},proxy:!0},{key:"module_con",fn:function(){return[a("div",{staticClass:"m-b20 NTP"},[a("el-radio-group",{staticClass:"ml-4",model:{value:t.WiFiFormData["startUse"],callback:function(e){t.$set(t.WiFiFormData,"startUse",e)},expression:"WiFiFormData['startUse']"}},[a("el-radio",{attrs:{label:"0",size:"large"}},[t._v("启用")]),a("el-radio",{attrs:{label:"1",size:"large"}},[t._v("不启用")])],1)],1),a("div",{staticClass:"m-b20 NTP"},[a("el-radio-group",{staticClass:"ml-4",model:{value:t.WiFiFormData["startUse"],callback:function(e){t.$set(t.WiFiFormData,"startUse",e)},expression:"WiFiFormData['startUse']"}},[a("el-radio",{attrs:{label:"0",size:"large"}},[t._v("Station")]),a("el-radio",{attrs:{label:"1",size:"large"}},[t._v("AP")])],1)],1),a("el-form",{attrs:{model:t.WiFiFormData,"label-width":"auto",size:"small"}},t._l(t.WiFiOption,(function(e){return a("el-form-item",{key:e.label,attrs:{label:e.label}},[a("el-input",{attrs:{placeholder:""},model:{value:t.WiFiFormData[e.key],callback:function(a){t.$set(t.WiFiFormData,e.key,a)},expression:"WiFiFormData[item.key]"}})],1)})),1),a("div",{staticClass:"ta-c m-t35"},[a("el-button",{staticClass:"m-r30",attrs:{size:"mini",type:"primary"}},[t._v("保存修改")]),a("el-button",{attrs:{size:"mini"}},[t._v("取消")])],1)]},proxy:!0}])})],1)])}),f=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card_module network",style:{minHeight:t.height+"px"}},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v(t._s(t.title))]),a("div",{staticClass:"oper_btn"},[t._t("operation")],2)]),a("div",{staticClass:"module_con network_form",style:t.conStyle},[t._t("module_con")],2)])},p=[],h=(a("a9e3"),{name:"CardModule",props:{title:{type:String,default:""},height:{type:[String,Number]},conStyle:{type:Object,default:function(){return{padding:"0 20px"}}}}}),b=h,g=(a("8ba6"),a("2877")),v=Object(g["a"])(b,m,p,!1,null,"5ee1b7d2",null),y=v.exports,w=a("4dfd"),C={name:"NetWorkMessage",components:{CardModule:y},props:{param:{type:Object,default:function(){return{gatewayId:null,gatewayCode:null}}}},data:function(){return{Eth:"Eth0",basicFormData:{gatewayName:"",gatewayCode:""},communicateFormData:{use:""},NTPFormData:{startUse:"0"},IPFormData0:{startUse:"0"},IPFormData1:{startUse:"0"},fourGFormData:{startUse:"0"},WiFiFormData:{startUse:"0"},debugFormData:{eth:""},communicateOption:[{key:"use",label:"CPU占用:"},{key:"use",label:"MEM占用:"},{key:"use",label:"磁盘占用:"},{key:"use",label:"程序版本:"}],IPOption:[{key:"ip",label:"IP:"},{key:"use",label:"gateway:"},{key:"use",label:"netmask:"}],fourGOption:[{key:"use",label:"APN:"},{key:"use",label:"用户名:"},{key:"use",label:"密码:"},{key:"use",label:"PIN码:"}],WiFiOption:[{key:"ip",label:"SSID:"},{key:"use",label:"Password:"}]}},created:function(){this.loadData()},methods:{reLoad:function(){this.loadData()},loadData:function(){var t=this;Object(w["B"])({pageNum:1,pageSize:1,id:this.param.gatewayId}).then((function(e){var a=e.data[0],i=a.gatewayCode,n=a.gatewayName;t.basicFormData={gatewayCode:i,gatewayName:n}}))},handleCommand:function(t){this.Eth=t}}},x=C,k=(a("a7c2"),Object(g["a"])(x,d,f,!1,null,"02177dda",null)),D=k.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ConcatConfigMessage network"},[a("div",{staticClass:"tabel_con"},[a("vxe-grid",{ref:"xGrid",staticClass:"vxe-table-element",attrs:{border:"full",resizable:"","keep-source":"","max-height":t.$options.filters.getTableHeight(200),"highlight-current-row":"",loading:t.tableLoading,columns:t.tableColumns,data:t.tableDatas}})],1),t.formVisible?a("div",{staticClass:"form_con"},[a("form-module",{attrs:{formData:t.detailFormData,formOptions:t.detailFormOptions},on:{selectChange:function(e){return t.selectChange(e,"detailFormOptions")}},scopedSlots:t._u([{key:"formItemSlot",fn:function(){return[a("div",{staticStyle:{height:"30px"}})]},proxy:!0},{key:"footer",fn:function(){return[a("el-button",{staticClass:"m-r20",attrs:{size:"mini",type:"primary"},on:{click:t.handleSave}},[t._v("保存修改")]),a("el-button",{attrs:{size:"mini"},on:{click:t.handleCancel}},[t._v("取消")])]},proxy:!0}],null,!1,4021597007)})],1):t._e(),a("el-dialog",{class:[t.$store.state.dialogMarginClass],attrs:{title:"新增连接",width:"450px",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"dialog_con"})])],1)},P=[],T=(a("99af"),a("4de4"),a("d81d"),a("a434"),a("5530")),O=a("2909"),N=[],I=[{key:"configName",label:"配置名:"},{type:"select",key:"templateId",label:"协议:",options:[]},{type:"line",key:"name",label:""}],S={name:"ConcatConfigMessage",components:{},props:{param:{type:Object,default:function(){return{gatewayId:null,gatewayCode:null}}}},data:function(){var t=this,e=this.$createElement;return{dialogVisible:!1,formVisible:!1,tableLoading:!1,currentRow:{},detailFormData:{},dialogFormData:{},dialogFormOptions:[],detailFormOptions:[],tableColumns:[{type:"seq",field:"",title:"序号",width:"80",align:"center"},{field:"configName",title:"连接名称",align:"center"},{field:"protocolName",title:"协议名称",align:"center"},{field:"configStatusEnum",title:"连接状态",align:"center",slots:{default:function(t){var a=t.row;t.column;return"IN_USE"===a.configStatusEnum?[e("span",{class:"concat takeEffect"},["已连接"])]:"NOT_IN_USE"===a.configStatusEnum?[e("span",{class:"noConcat takeEffect"},["未连接"])]:void 0}}},{field:"linkTime",title:"上次通信时间",align:"center",formatter:["formatDate","yyyy-MM-dd HH:mm:ss"]},{title:"操作",align:"center",fixed:"right",slots:{default:function(a){var i=a.row,n=a.column,o=[e("vxe-button",{attrs:{type:"text",status:"primary",content:"详情"},on:{click:function(){return t.handleDatial(i,n)}}})];return"NOT_IN_USE"===i.configStatusEnum?(o.splice(1,0,e("vxe-button",{attrs:{type:"text",status:"primary",content:"连接"},on:{click:function(){return t.handleConcat(i,n)}}})),o.splice(2,0,e("vxe-button",{attrs:{type:"text",status:"danger",content:"删除"},on:{click:function(){return t.handleDel(i,w["l"],"删除")}}}))):o.splice(1,0,e("vxe-button",{attrs:{type:"text",status:"danger",content:"远程删除"},on:{click:function(){return t.handleDel(i,w["n"],"远程删除")}}})),o}}}],tableDatas:[]}},mounted:function(){this.loadData(),this.getProtocol()},methods:{reLoad:function(){this.loadData()},loadData:function(){var t=this;this.tableLoading=!0,Object(w["y"])({gatewayCode:this.param.gatewayCode,gatewayId:this.param.gatewayId}).then((function(e){t.tableDatas=e.data||[],t.tableLoading=!1}))},getProtocol:function(){Object(w["u"])().then((function(t){var e;N=t.data||[],I[1].options=null===(e=t.data)||void 0===e?void 0:e.map((function(t){return{label:t.protocolName,value:t.id}}))}))},handleAddConcat:function(){this.dialogFormOptions=I,this.dialogVisible=!0},handleSaveAdd:function(){var t=this,e=this.dialogFormData,a=e.templateId,i=e.configName;delete this.dialogFormData.templateId,delete this.dialogFormData.configName,Object(w["q"])({gatewayId:this.param.gatewayId,templateId:a,configName:i,linkDefinitionContent:JSON.stringify(this.dialogFormData)}).then((function(e){t.dialogVisible=!1,t.loadData(),t.$message({message:"新增成功",type:"success"})}))},selectChange:function(t,e){var a,i,n=null===(a=N.filter((function(e){return e.id===t}))[0])||void 0===a||null===(i=a.protocolDefinition)||void 0===i?void 0:i.map((function(t){return{key:t.name,label:t.explaination+":"}}));this[e]=[].concat(I,Object(O["a"])(n))},handleDatial:function(t,e){var a,i;this.formVisible=!0,this.currentRow=t;var n=t.configName,o=t.templateId,r=t.protocolDefinitionContent;this.detailFormData=Object(T["a"])({configName:n,templateId:o},r);var l=(null===(a=N.filter((function(t){return t.id===o}))[0])||void 0===a||null===(i=a.protocolDefinition)||void 0===i?void 0:i.map((function(t){return{key:t.name,label:t.explaination+":"}})))||[];this.detailFormOptions=[].concat(I,Object(O["a"])(l))},handleCancel:function(){this.handleDatial(this.currentRow)},handleConcat:function(t){var e=this;Object(w["k"])({acquireConfigId:t.id,gatewayCode:this.param.gatewayCode}).then((function(t){e.loadData(),e.$message({message:"连接成功",type:"success"})}))},handleSave:function(){var t=this,e=this.detailFormData,a=e.templateId,i=e.configName;delete this.detailFormData.templateId,delete this.detailFormData.configName,Object(w["J"])({},{id:this.currentRow.id,gatewayId:this.currentRow.gatewayId,templateId:a,configName:i,protocolDefinitionContent:JSON.stringify(this.detailFormData)}).then((function(e){t.$message({message:"保存成功",type:"success"})}))},handleDel:function(t,e,a){var i=this;e({gatewayId:this.param.gatewayId,id:t.id,gatewayCode:"远程删除"===a?"001":void 0}).then((function(t){i.loadData(),i.$message({message:"删除成功",type:"success"})}))}}},F=S,A=(a("8eee"),Object(g["a"])(F,_,P,!1,null,"46d38e2b",null)),E=A.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"leftTask"},[a("div",{staticClass:"toolBox"},[a("span",[t._v("连接：")]),a("el-select",{staticStyle:{width:"100px"},attrs:{size:"mini",placeholder:t.VARIABLE.PLEASE_CHOOSE},model:{value:t.acquierValue,callback:function(e){t.acquierValue=e},expression:"acquierValue"}},t._l(t.acquierOption,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.initAcquireSearch()}}},[t._v(t._s(t.BTN_TEXT.SEARCH))]),a("el-button-group",{staticStyle:{float:"right"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.showParamDialog()}}},[t._v("查看网关内参数")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.toCloud()}}},[t._v("网关同步到平台")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.toEdge()}}},[t._v("平台同步到网关")])],1)],1),a("VXETable",{ref:"xGrid",attrs:{id:"table",resizable:!0,autoResize:!0,tableName:"user",height:t.$options.filters.getTableHeight(250),tableLoading:t.tableLoading,"pager-config":t.tablePage,tableDatas:t.tableDatas,tableColumns:t.tableColumns,tablePage:t.tablePage,highlightCurrentRow:!0},on:{onTablePageChange:t.onTablePageChange}})],1),t.isShowInfo?a("div",{staticClass:"rightTask"},[a("div",{staticClass:"rightTaskCon"},[a("el-form",{ref:"editCodeForm",staticClass:"form2"},[a("el-row",{attrs:{gutter:22}},t._l(t.protocolDefinition_x,(function(e,i){return a("el-col",{key:i,attrs:{span:22}},[a("el-form-item",{attrs:{label:e.explaination,"label-width":t.formLabelWidth}},[0===e.optionList.length?a("el-input",{attrs:{type:t.funcType(e.dataTypeEnum)},model:{value:e.nowValue,callback:function(a){t.$set(e,"nowValue",a)},expression:"item.nowValue"}}):t._e(),e.optionList.length>0?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.VARIABLE.PLEASE_CHOOSE},model:{value:e.nowValue,callback:function(a){t.$set(e,"nowValue",a)},expression:"item.nowValue"}},t._l(e.optionJson,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e()],1)],1)})),1)],1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.toUpdate()}}},[t._v(t._s(t.BTN_TEXT.SAVE+"修改"))]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.resetUpdate()}}},[t._v(t._s(t.BTN_TEXT.CANCEL))])],1)]):t._e(),a("el-dialog",{class:[t.$store.state.dialogMarginClass],attrs:{title:"新增参数",width:"550px",visible:t.dialogVisibleAdd},on:{"update:visible":function(e){t.dialogVisibleAdd=e}}},[a("div",{staticClass:"rightTaskCon2"},[a("el-form",{ref:"editCodeForm",staticClass:"form2"},[a("el-row",{attrs:{gutter:22}},t._l(t.protocolDefinition,(function(e,i){return a("el-col",{key:i,attrs:{span:22}},[a("el-form-item",{attrs:{label:e.explaination,"label-width":t.formLabelWidth}},[0===e.optionList.length?a("el-input",{attrs:{type:t.funcType(e.dataTypeEnum)},model:{value:e.nowValue,callback:function(a){t.$set(e,"nowValue",a)},expression:"item.nowValue"}}):t._e(),e.optionList.length>0?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.VARIABLE.PLEASE_CHOOSE},model:{value:e.nowValue,callback:function(a){t.$set(e,"nowValue",a)},expression:"item.nowValue"}},t._l(e.optionJson,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e()],1)],1)})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.saveAdd()}}},[t._v(t._s(t.BTN_TEXT.SAVE))]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.hideParamDialog()}}},[t._v(t._s(t.BTN_TEXT.CANCEL))])],1)]),t.isParamDialogShow?a("paramDialog",{ref:"paramDialog",attrs:{acquireData:t.nowAcquireData},on:{closeImportDialog:t.closeImportDialog}}):t._e(),t.isImportDialogShow?a("ImportDialog",{ref:"ImportDialog",attrs:{importDialogName:"批量导入",exportFileName:"模板.xlsx"},on:{exportTemplate:t.exportTemplate,submitImportFile:t.submitImportFile,closeImportDialog:t.closeImportDialog}}):t._e()],1)},j=[],R=(a("c740"),a("582a")),V=a("3fa5"),$=a("6464"),z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{class:[t.$store.state.dialogMarginClass,"import-dialog"],attrs:{title:t.importDialogName,width:"450px",visible:t.isShow},on:{"update:visible":function(e){t.isShow=e}}},[a("div",{staticClass:"box"},[a("el-link",{attrs:{underline:!1}},[t._v("点击下载：")]),a("el-link",{staticClass:"margin-right-10",attrs:{underline:!1,type:"primary"},on:{click:t.exportTemplate}},[t._v(t._s(t.exportFileName))])],1),a("div",{staticClass:"box"},[a("span",[t._v("选择导入的文件：")]),a("el-input",{staticClass:"margin-right-10",attrs:{size:"small",readonly:"readonly"},model:{value:t.importFileName,callback:function(e){t.importFileName=e},expression:"importFileName"}}),a("el-upload",{ref:"upload",staticClass:"display-flex file-upload",attrs:{action:"","auto-upload":!1,accept:".xlsx, .xls","http-request":t.submitFile,"file-list":t.importFiles,"show-file-list":!1,"on-change":t.selectFile,"on-success":t.handleUploadSuccess,"on-error":t.handleUploadError}},[a("el-button",{attrs:{slot:"trigger",size:"small"},slot:"trigger"},[t._v("选择")])],1)],1),a("div",{staticClass:"box"},[a("p",[t._v("请避免：")]),a("p",[t._v("1. excel 文件格式错误")]),a("p",[t._v("2. 参数名称和别名缺少或重复")])]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.isUploadProgressShow,expression:"isUploadProgressShow"}],staticClass:"display-flex margin-top-15"},[a("span",[t._v(t._s(t.VARIABLE.UPLOAD_PROGRESS)+"：")]),a("el-progress",{attrs:{"text-inside":!0,percentage:t.uploadPercent,"stroke-width":22,format:t.formatText,color:t.uploadProgressColor}})],1),t.errorList.length>0?a("div",{staticClass:"errorDiv"},[a("div",{staticClass:"errorTitle"},[t._v(t._s(t.VARIABLE.ERROR_INFO)+":"+t._s(t.errorList.length)+t._s(t.VARIABLE.ARTICLE))]),a("div",{staticClass:"errorListDiv"},t._l(t.errorList,(function(t,e){return a("el-alert",{key:e,attrs:{title:t.failData+"  "+t.failReason,type:"error","show-icon":""}})})),1)]):t._e(),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:0===t.importFiles.length},on:{click:t.uploadBtnClick}},[t._v(t._s(t.BTN_TEXT.IMPORT))]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.hidePublish()}}},[t._v(t._s(t.BTN_TEXT.CANCEL))])],1)])},q=[],B={components:{},props:{importDialogName:{type:String,default:""},exportFileName:{type:String,default:""}},data:function(){return{BTN_TEXT:R["c"],VARIABLE:R["P"],importFileName:"",importFiles:[],uploadPercent:0,isUploadProgressShow:!1,uploadProgressColor:"#0871dc",errorList:[],isShow:!1}},computed:{},created:function(){},methods:{exportTemplate:function(){this.$emit("exportTemplate")},submitFile:function(t){this.isUploadProgressShow=!1,this.uploadPercent=0,this.errorList=[],this.$emit("submitImportFile",t)},selectFile:function(t,e){this.importFileName=t.name,this.importFiles=e},handleUploadSuccess:function(t){this.isShow=!1,Object(V["b"])(R["H"].IMPORT_SUCCESS),this.$emit("closeImportDialog")},handleUploadError:function(t){var e=this;this.isUploadProgressShow=!1,this.uploadPercent=0,this.$nextTick((function(){e.importFileName=""})),this.importFiles=[],Object(V["a"])(R["H"].IMPORT_ERROR),this.errorList=t.rows},uploadBtnClick:function(){this.$refs.upload.submit(),this.uploadPercent=0},formatText:function(t){return"".concat(t,"%")},resetUploadProgressBar:function(){var t=this;this.isUploadProgressShow=!1,this.uploadPercent=0,this.$nextTick((function(){t.importFileName=""})),this.importFileName="",this.errorList=[]}}},U=B,M=(a("d968"),Object(g["a"])(U,z,q,!1,null,"545f8ef0",null)),W=M.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{class:[t.$store.state.dialogMarginClass,"import-dialog"],attrs:{title:"网关内参数",width:"80%",visible:t.isShow},on:{"update:visible":function(e){t.isShow=e}}},[a("div",{staticClass:"box"},[a("p",{staticClass:"time"},[t._v("响应时间："+t._s(t.nowTime))]),a("VXETable",{ref:"xGrid",attrs:{id:"table",resizable:!0,autoResize:!0,tableName:"user",height:"500px",tableLoading:t.tableLoading,"pager-config":t.tablePage,tableDatas:t.tableDatas,tableColumns:t.tableColumns,tablePage:t.tablePage,highlightCurrentRow:!0},on:{onTablePageChange:t.onTablePageChange}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.hidePublish()}}},[t._v(t._s(t.BTN_TEXT.CLOSE))])],1)])},H=[],G={components:{VXETable:s["a"]},props:{importDialogName:{type:String,default:""},exportFileName:{type:String,default:""}},data:function(){return{BTN_TEXT:R["c"],VARIABLE:R["P"],importFileName:"",importFiles:[],uploadPercent:0,isUploadProgressShow:!1,uploadProgressColor:"#0871dc",errorList:[],isShow:!1,tableLoading:!1,formLabelWidth:"100px",tableDatas:[],tableColumns:[],tablePage:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0,slots:{left:"pager_left"}},nowAcquireData:{},gatewayCode:"",nowTime:""}},computed:{},created:function(){},methods:{initData:function(){this.nowAcquireData={},this.gatewayCode="",this.nowTime="",this.tableDatas=[],this.tableColumns=[],this.tablePage.currentPage=1,this.tablePage.pageSize=10,this.tablePage.total=0},handleOptionTablePageChange:function(t,e){this.tablePage.currentPage=t,this.tablePage.pageSize=e,this.findTableList()},findTableList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.tableLoading=!0,a={gatewayCode:t.gatewayCode,pageNum:t.tablePage.currentPage,pageSize:t.tablePage.pageSize,acquireConfigId:t.nowAcquireData.acquireConfigId},e.next=5,Object(w["j"])(a);case 5:i=e.sent,0===i.code?(t.tableDatas=i.data,t.tablePage.total=i.size,""===t.nowTime&&(t.nowTime=t.$options.filters.formatTime((new Date).getTime()))):Object(V["c"])(i.message),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),Object($["a"])(R["N"].NOTIFY,e.t0);case 12:return e.prev=12,t.tableLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()},createColumns:function(t,e){this.gatewayCode=e,this.nowAcquireData=t,console.log(this.nowAcquireData),this.tableColumns=[],this.tableColumns.push({type:"seq",title:"序号",minWidth:"10",align:"center"});for(var a=this.nowAcquireData.pointDefinition,i=0;i<a.length;i++)this.tableColumns.push({field:a[i].name,title:a[i].explaination,align:"center"});this.findTableList()},hidePublish:function(){this.isShow=!1,this.$emit("closeImportDialog")}}},X=G,Y=(a("1e5e"),Object(g["a"])(X,J,H,!1,null,"2caf2f02",null)),Z=Y.exports,K={name:"RoleManagement",props:{param:{type:Object,default:function(){return{gatewayId:null,gatewayCode:null}}}},data:function(){var t=this,e=this.$createElement;return{EXPORT_NAME:R["y"],BTN_TEXT:R["c"],VARIABLE:R["P"],tabPosition:"wTop",publishData:{},tableLoading:!1,formLabelWidth:"120px",tableDatas:[],tableColumns:[{type:"seq",title:"序号",minWidth:"10",align:"center"},{field:"pointName",title:"参数名",align:"center"},{field:"pointAbbrName",title:"别名",align:"center"},{field:"configName",title:"连接名称",align:"center"},{field:"pointStatus",title:"生效状态",minWidth:"80",align:"center",slots:{default:function(t){var a=t.row;t.column;return"NOT_IN_USE"===a.pointStatus?[e("span",{class:"noPass"},["未同步"])]:[e("span",{class:"pass"},["已生效"])]}}},{field:"linkTime",title:"生效时间",align:"center",slots:{default:function(e){var a=e.row;e.column;return a.linkTime?t.$options.filters.formatTime(a.linkTime):""}}},{title:"操作",width:"300",align:"center",fixed:"right",slots:{default:function(a){var i=a.row,n=a.column;return[e("vxe-button",{attrs:{type:"text",status:"primary",content:"详情"},on:{click:function(){return t.toInfo(i,n)}}}),e("vxe-button",{attrs:{type:"text",status:"danger",content:"删除"},on:{click:function(){return t.toDeleteAcquire(i,n)}}})]}}}],tablePage:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0,slots:{left:"pager_left"}},protoco:null,protocoOption:[],protocolDefinition:[],protocolDefinition_x:[],dialogVisibleAdd:!1,isImportDialogShow:!1,isParamDialogShow:!1,acquierValue:null,acquierOption:[],publishInfo:{},publicTempData:[],nowAcquireData:{},gatewayId:this.param.gatewayId,gatewayCode:this.param.gatewayCode,isShowInfo:!1}},components:{VXETable:s["a"],ImportDialog:W,paramDialog:Z},methods:{reLoad:function(){this.findTableList()},initAcquireSearch:function(){this.acquierValue?(this.tablePage.currentPage=1,this.tablePage.pageSize=10,this.tablePage.total=0,this.findTableList()):Object(V["c"])("请先选择连接！")},showAllAcquier:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.acquierData=[],e.prev=1,a={gatewayId:t.gatewayId},e.next=5,Object(w["c"])(a);case 5:if(i=e.sent,0===i.code)for(console.log("请求数据",i),t.acquierOption=[],t.acquierData=i.data,n=0;n<i.data.length;n++)t.acquierOption.push({label:i.data[n].configName,value:i.data[n].acquireConfigId});else Object(V["c"])(i.message);e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),Object($["a"])(R["N"].NOTIFY,e.t0);case 12:return e.prev=12,t.tableLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})))()},onTablePageChange:function(t,e){this.tablePage.currentPage=t,this.tablePage.pageSize=e,this.findTableList()},findTableList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.tableLoading=!0,a={pageNum:t.tablePage.currentPage,pageSize:t.tablePage.pageSize,acquireConfigId:t.acquierValue},e.next=5,Object(w["b"])(a);case 5:i=e.sent,0===i.code?(t.publicTempData=i.data,console.log("请求数据",i),t.tableDatas=i.data,t.tablePage.total=i.size):Object(V["c"])(i.message),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),Object($["a"])(R["N"].NOTIFY,e.t0);case 12:return e.prev=12,t.tableLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()},funcType:function(t){return"STRING"===t?"string":"number"},exportTemplate:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:location.href="http://192.168.99.139:8090/match_cloud/v1/acquire/downloadPointDataTemplateExcel?acquireConfigId="+t.acquierValue;case 1:case"end":return e.stop()}}),e)})))()},submitImportFile:function(t){var e=this,a=t.file,i=new FormData;i.append("file",a),Object(w["g"])({acquireConfigId:4,file:a},i,{onUploadProgress:function(t){var a=Math.floor(100*t.loaded/t.total);e.$refs.ImportDialog.uploadPercent=a}}).then((function(a){0===a.code?(t.onSuccess(a),e.findTableList()):(console.log(111),t.onError(a.msg),e.$refs.ImportDialog.importFiles=[],e.$refs.ImportDialog.importFileName="")})).catch((function(t){console.log(222),e.$refs.ImportDialog.importFiles=[],e.$refs.ImportDialog.importFileName="",Object(V["c"])(t)}))},closeImportDialog:function(){this.isImportDialogShow=!1,this.isParamDialogShow=!1},shoImportDialog:function(){var t=this;if(!this.acquierValue)return Object(V["c"])("请先选择连接！"),!1;this.isImportDialogShow=!0,setTimeout((function(){t.$refs.ImportDialog.isShow=!0,t.$refs.ImportDialog.resetUploadProgressBar()}),0)},showParamDialog:function(){var t=this;if(!this.acquierValue)return Object(V["c"])("请先选择连接！"),!1;var e=this.acquierData.findIndex((function(e,a){return e.acquireConfigId===t.acquierValue}));this.nowAcquireData=this.acquierData[e],console.log(this.nowAcquireData),this.isParamDialogShow=!0,setTimeout((function(){t.$refs.paramDialog.isShow=!0,t.$refs.paramDialog.initData(),t.$refs.paramDialog.createColumns(t.nowAcquireData,t.gatewayCode)}),0)},showAddParamDialog:function(){var t=this;if(!this.acquierValue)return Object(V["c"])("请先选择连接！"),!1;this.dialogVisibleAdd=!this.dialogVisibleAdd;var e=this.acquierData.findIndex((function(e,a){return console.log(e.id),e.acquireConfigId===t.acquierValue}));this.funcPulishParam(e)},funcPulishParam:function(t){var e=this.acquierData[t].pointDefinition.map((function(t){return t.nowValue=t.defaultValue,t}));e=JSON.parse(JSON.stringify(e));for(var a=0;a<e.length;a++)if(e[a].optionList.length>0){var i=e[a].optionList;e[a].optionJson=[];for(var n=0;n<i.length;n++)e[a].optionJson.push({label:i[n],value:i[n]})}this.protocolDefinition=e},hideParamDialog:function(){this.dialogVisibleAdd=!this.dialogVisibleAdd},saveAdd:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i,n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(e.prev=0,a={acquireConfigId:t.acquierValue},i={},n=t.protocolDefinition,console.log(n),o=0;o<n.length;o++)i[n[o].name]=n[o].nowValue+"";return a.pointDefinitionContentMap=i,console.log(a),e.next=10,Object(w["h"])({},a);case 10:r=e.sent,0===r.code?(Object(V["b"])("操作成功"),t.findTableList(),t.dialogVisibleAdd=!1):Object(V["c"])(r.msg),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),Object($["a"])(R["N"].NOTIFY,e.t0);case 17:return e.prev=17,e.finish(17);case 19:case"end":return e.stop()}}),e,null,[[0,14,17,19]])})))()},toInfo:function(t){var e=this;this.isShowInfo=!0,this.publishInfo=t;var a=this.acquierData.findIndex((function(t,a){return console.log(t.id),t.acquireConfigId===e.acquierValue}));console.log(a),this.funcPulishParam_x(a)},resetUpdate:function(){this.toInfo(this.publishInfo)},funcPulishParam_x:function(t){var e=this.acquierData[t].pointDefinition.map((function(t){return t.nowValue=t.defaultValue,t}));e=JSON.parse(JSON.stringify(e));for(var a=0;a<e.length;a++)if(e[a].optionList.length>0){var i=e[a].optionList;e[a].optionJson=[];for(var n=0;n<i.length;n++)e[a].optionJson.push({label:i[n],value:i[n]})}for(var o in console.log(e,this.publishInfo),this.publishInfo.pointDefinitionContent){console.log(o);for(var r=0;r<e.length;r++)e[r].name===o&&(e[r].nowValue=this.publishInfo.pointDefinitionContent[o])}console.log(e),this.protocolDefinition_x=e},toUpdate:function(){var t=this;this.$confirm("是否确认保存修改?",R["N"].PROMPT,{confirmButtonText:R["c"].CONFIRM,cancelButtonText:R["c"].CANCEL,type:"warning"}).then((function(){t.saveUpdate()})).catch((function(){}))},saveUpdate:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i,n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(e.prev=0,a={acquireConfigId:t.acquierValue,id:t.publishInfo.id},i={},n=t.protocolDefinition_x,o=0;o<n.length;o++)i[n[o].name]=n[o].nowValue+"";return a.pointDefinitionContentMap=i,console.log(a),e.next=9,Object(w["f"])({},a);case 9:r=e.sent,0===r.code?(Object(V["b"])("操作成功"),t.findTableList()):Object(V["c"])(r.msg),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),Object($["a"])(R["N"].NOTIFY,e.t0);case 16:return e.prev=16,e.finish(16);case 18:case"end":return e.stop()}}),e,null,[[0,13,16,18]])})))()},toDeleteAcquire:function(t){var e=this;this.$confirm("是否确认删除?",R["N"].PROMPT,{confirmButtonText:R["c"].CONFIRM,cancelButtonText:R["c"].CANCEL,type:"warning"}).then((function(){e.deleteAcquire(t)})).catch((function(){}))},deleteAcquire:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.tableLoading=!0,i=[t.id],a.next=5,Object(w["a"])({},i);case 5:n=a.sent,0===n.code?(Object(V["b"])("操作成功"),e.findTableList()):Object(V["c"])(n.msg),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),Object($["a"])(R["N"].NOTIFY,a.t0);case 12:return a.prev=12,e.tableLoading=!1,a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])})))()},toCloud:function(){var t=this;if(!this.acquierValue)return Object(V["c"])("请先选择连接！"),!1;this.$confirm("是否确认网关同步到平台?",R["N"].PROMPT,{confirmButtonText:R["c"].CONFIRM,cancelButtonText:R["c"].CANCEL,type:"warning"}).then((function(){t.doToCloud()})).catch((function(){}))},doToCloud:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a={acquireConfigId:t.acquierValue,gatewayCode:t.gatewayCode,gatewayId:t.gatewayId},e.next=4,Object(w["d"])(a);case 4:i=e.sent,0===i.code?(Object(V["b"])("操作成功"),t.initAcquireSearch()):Object(V["c"])(i.msg),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),Object($["a"])(R["N"].NOTIFY,e.t0);case 11:return e.prev=11,t.tableLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()},toEdge:function(){var t=this;if(!this.acquierValue)return Object(V["c"])("请先选择连接！"),!1;this.$confirm("是否确认网关同步到平台?",R["N"].PROMPT,{confirmButtonText:R["c"].CONFIRM,cancelButtonText:R["c"].CANCEL,type:"warning"}).then((function(){t.doToEdge()})).catch((function(){}))},doToEdge:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a={acquireConfigId:t.acquierValue,gatewayCode:t.gatewayCode,gatewayId:t.gatewayId},e.next=4,Object(w["e"])(a);case 4:i=e.sent,0===i.code?(Object(V["b"])("操作成功"),t.initAcquireSearch()):Object(V["c"])(i.msg),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),Object($["a"])(R["N"].NOTIFY,e.t0);case 11:return e.prev=11,t.tableLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()}},created:function(){this.showAllAcquier()}},Q=K,tt=(a("0397"),Object(g["a"])(Q,L,j,!1,null,"4a79b786",null)),et=tt.exports,at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"leftTask"},[a("vxe-grid",{ref:"xGrid",staticClass:"vxe-table-element",attrs:{border:"full",resizable:"","keep-source":"",height:t.$options.filters.getTableHeight(200),"highlight-current-row":"",loading:t.tableLoading,columns:t.tableColumns,data:t.tableDatas}})],1),t.protocoOption_x.length>0?a("div",{staticClass:"rightTask"},[a("div",{staticClass:"rightTaskCon"},[a("el-form",{ref:"editCodeForm",staticClass:"form1"},[a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"发布名称:","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.publishName_x,callback:function(e){t.publishName_x=e},expression:"publishName_x"}})],1)],1),a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"发布类型:","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.VARIABLE.PLEASE_CHOOSE},model:{value:t.protoco_x,callback:function(e){t.protoco_x=e},expression:"protoco_x"}},t._l(t.protocoOption_x,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1)],1),a("el-form",{ref:"editCodeForm",staticClass:"form2"},[a("el-row",{attrs:{gutter:22}},t._l(t.protocolDefinition_x,(function(e,i){return a("el-col",{key:i,attrs:{span:22}},[a("el-form-item",{attrs:{label:e.explaination,"label-width":t.formLabelWidth}},[0===e.optionList.length?a("el-input",{attrs:{type:t.funcType(e.dataTypeEnum)},model:{value:e.nowValue,callback:function(a){t.$set(e,"nowValue",a)},expression:"item.nowValue"}}):t._e(),e.optionList.length>0?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.VARIABLE.PLEASE_CHOOSE},model:{value:e.nowValue,callback:function(a){t.$set(e,"nowValue",a)},expression:"item.nowValue"}},t._l(e.optionJson,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e()],1)],1)})),1)],1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.toUpdate()}}},[t._v(t._s(t.BTN_TEXT.SAVE+"修改"))]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.resetUpdate()}}},[t._v(t._s(t.BTN_TEXT.CANCEL))])],1)]):t._e(),a("el-dialog",{class:[t.$store.state.dialogMarginClass],attrs:{title:"新增发布",width:"550px",visible:t.dialogVisibleAdd},on:{"update:visible":function(e){t.dialogVisibleAdd=e}}},[a("div",{staticClass:"rightTaskCon2"},[a("el-form",{ref:"editCodeForm",staticClass:"form1"},[a("el-row",{attrs:{gutter:22}},[a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"发布名称:","label-width":t.formLabelWidth}},[a("el-input",{model:{value:t.publishName,callback:function(e){t.publishName=e},expression:"publishName"}})],1)],1),a("el-col",{attrs:{span:22}},[a("el-form-item",{attrs:{label:"发布类型:","label-width":t.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.VARIABLE.PLEASE_CHOOSE},on:{change:t.selectChangeAdd},model:{value:t.protoco,callback:function(e){t.protoco=e},expression:"protoco"}},t._l(t.protocoOption,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)],1)],1)],1),a("el-form",{ref:"editCodeForm",staticClass:"form2"},[a("el-row",{attrs:{gutter:22}},t._l(t.protocolDefinition,(function(e,i){return a("el-col",{key:i,attrs:{span:22}},[a("el-form-item",{attrs:{label:e.explaination,"label-width":t.formLabelWidth}},[0===e.optionList.length?a("el-input",{attrs:{type:t.funcType(e.dataTypeEnum)},model:{value:e.nowValue,callback:function(a){t.$set(e,"nowValue",a)},expression:"item.nowValue"}}):t._e(),e.optionList.length>0?a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:t.VARIABLE.PLEASE_CHOOSE},model:{value:e.nowValue,callback:function(a){t.$set(e,"nowValue",a)},expression:"item.nowValue"}},t._l(e.optionJson,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1):t._e()],1)],1)})),1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.saveAdd()}}},[t._v(t._s(t.BTN_TEXT.SAVE))]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.hidePublish()}}},[t._v(t._s(t.BTN_TEXT.CANCEL))])],1)])],1)},it=[],nt={name:"publishConfig",props:{param:{type:Object,default:function(){return{gatewayId:null,gatewayCode:null}}}},data:function(){var t=this,e=this.$createElement;return{BTN_TEXT:R["c"],VARIABLE:R["P"],tableLoading:!1,formLabelWidth:"100px",tableDatas:[],tableColumns:[{title:"序号",minWidth:"10",align:"center",type:"seq"},{field:"configName",title:"发布名称",align:"center"},{field:"protocolName",title:"发布类型",align:"center"},{field:"topic",title:"topic",align:"center",slots:{default:function(t){var e=t.row;t.column;return e.protocolDefinitionContent.topic}}},{field:"qos",title:"qos",align:"center",slots:{default:function(t){var e=t.row;t.column;return e.protocolDefinitionContent.qos}}},{field:"configStatusEnum",title:"生效状态",minWidth:"80",align:"center",slots:{default:function(t){var a=t.row;t.column;return"NOT_IN_USE"===a.configStatusEnum?[e("span",{class:"noPass"},["未同步"])]:[e("span",{class:"pass"},["已生效"])]}}},{field:"linkTime",title:"上次通信时间",align:"center",slots:{default:function(e){var a=e.row;e.column;return a.linkTime?t.$options.filters.formatTime(a.linkTime):""}}},{title:"操作",width:"300",align:"center",fixed:"right",slots:{default:function(a){var i=a.row,n=a.column;return"NOT_IN_USE"===i.configStatusEnum?[e("vxe-button",{attrs:{type:"text",status:"primary",content:"详情"},on:{click:function(){return t.toInfo(i,n)}}}),e("vxe-button",{attrs:{type:"text",status:"primary",content:"同步到网关"},on:{click:function(){return t.toSynchronousNetWork(i,n)}}}),e("vxe-button",{attrs:{type:"text",status:"danger",content:"删除"},on:{click:function(){return t.toDeletePublish(i,n)}}})]:[e("vxe-button",{attrs:{type:"text",status:"primary",content:"详情"},on:{click:function(){return t.toInfo(i,n)}}}),e("vxe-button",{attrs:{type:"text",status:"danger",content:"远程删除"},on:{click:function(){return t.toDeleteEdgePublish(i,n)}}})]}}}],tablePage:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0,slots:{left:"pager_left"}},gatewayId:this.param.gatewayId,gatewayCode:this.param.gatewayCode,publishName:"",publishName_x:"",protoco:null,protocoOption:[],protocolDefinition:[],protoco_x:null,protocoOption_x:[],protocolDefinition_x:[],dialogVisibleAdd:!1,publishData:[],publicTempData:[],publicTempData_x:[],publishInfo:{}}},components:{},methods:{reLoad:function(){this.findTableList()},findTableList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.tableLoading=!0,a={gatewayCode:t.gatewayCode,gatewayId:t.gatewayId},e.next=5,Object(w["G"])(a);case 5:i=e.sent,0===i.code?(console.log("请求数据",i),t.tableDatas=i.data):Object(V["c"])(i.msg),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),Object($["a"])(R["N"].NOTIFY,e.t0);case 12:return e.prev=12,t.tableLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()},showPulishTemp:function(){var t=this;Object(w["H"])().then((function(e){console.log(e.data),t.protocoOption=[],t.publicTempData=e.data;for(var a=0;a<e.data.length;a++)t.protocoOption.push({label:e.data[a].protocolName,value:e.data[a].id});t.funcPulishParam(0),t.protoco=e.data[0].id}))},showPulishTemp_x:function(){var t=this;Object(w["H"])().then((function(e){console.log(e.data),t.protocoOption_x=[],t.publicTempData_x=e.data;for(var a=0;a<e.data.length;a++)t.protocoOption_x.push({label:e.data[a].protocolName,value:e.data[a].id});t.publicTempData_x[0].id!==e.data[0].id?(t.protoco_x=t.publicTempData_x[0].id,t.selectChange_x(t.publicTempData_x[0].id)):(t.funcPulishParam_x(0),t.protoco_x=e.data[0].id)}))},funcPulishParam:function(t){var e=this.publicTempData[t].protocolDefinition.map((function(t){return t.nowValue=t.defaultValue,t}));e=JSON.parse(JSON.stringify(e));for(var a=0;a<e.length;a++)if(e[a].optionList.length>0){var i=e[a].optionList;e[a].optionJson=[];for(var n=0;n<i.length;n++)e[a].optionJson.push({label:i[n],value:i[n]})}console.log(e),this.protocolDefinition=e},funcPulishParam_x:function(t){var e=this.publicTempData_x[t].protocolDefinition.map((function(t){return t.nowValue=t.defaultValue,t}));e=JSON.parse(JSON.stringify(e));for(var a=0;a<e.length;a++)if(e[a].optionList.length>0){var i=e[a].optionList;e[a].optionJson=[];for(var n=0;n<i.length;n++)e[a].optionJson.push({label:i[n],value:i[n]})}for(var o in console.log(e),this.publishInfo.protocolDefinitionContent){console.log(o);for(var r=0;r<e.length;r++)e[r].name===o&&(e[r].nowValue=this.publishInfo.protocolDefinitionContent[o])}this.publishName_x=this.publishInfo.configName,this.protocolDefinition_x=e},selectChangeAdd:function(t){console.log(t);var e=this.publicTempData.findIndex((function(e,a){return console.log(e.id),e.id===t}));console.log(e),-1===e?this.protocolDefinition=[]:this.funcPulishParam(e)},selectChange_x:function(t){console.log(t);var e=this.publicTempData.findIndex((function(e,a){return console.log(e.id),e.id===t}));console.log(e),-1===e?this.protocolDefinition=[]:this.funcPulishParam(e)},saveAdd:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i,n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(e.prev=0,a={configName:t.publishName,gatewayId:t.gatewayId,templateId:t.protoco},i={},n=t.protocolDefinition,o=0;o<n.length;o++)i[n[o].name]=n[o].nowValue+"";return a.protocolDefinitionContent=JSON.stringify(i),console.log(a),e.next=9,Object(w["F"])(a);case 9:r=e.sent,0===r.code?(Object(V["b"])("操作成功"),t.findTableList(),t.dialogVisibleAdd=!1):Object(V["c"])(r.msg),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),Object($["a"])(R["N"].NOTIFY,e.t0);case 16:return e.prev=16,e.finish(16);case 18:case"end":return e.stop()}}),e,null,[[0,13,16,18]])})))()},funcType:function(t){return"STRING"===t?"string":"number"},addPublish:function(){this.showPulishTemp(),this.dialogVisibleAdd=!this.dialogVisibleAdd},hidePublish:function(){this.dialogVisibleAdd=!this.dialogVisibleAdd},toSynchronousNetWork:function(t){var e=this;this.$confirm("是否确认同步到网关?",R["N"].PROMPT,{confirmButtonText:R["c"].CONFIRM,cancelButtonText:R["c"].CANCEL,type:"warning"}).then((function(){e.synchronousNetWork(t)})).catch((function(){}))},synchronousNetWork:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.tableLoading=!0,i={gatewayCode:e.gatewayCode,publishConfigId:t.id},a.next=5,Object(w["i"])(i);case 5:n=a.sent,0===n.code?(Object(V["b"])("操作成功"),e.findTableList()):Object(V["c"])(n.message),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),Object($["a"])(R["N"].NOTIFY,a.t0);case 12:return a.prev=12,e.tableLoading=!1,a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])})))()},toDeletePublish:function(t){var e=this;this.$confirm("是否确认删除?",R["N"].PROMPT,{confirmButtonText:R["c"].CONFIRM,cancelButtonText:R["c"].CANCEL,type:"warning"}).then((function(){e.deletePublish(t)})).catch((function(){}))},deletePublish:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.tableLoading=!0,i={gatewayId:t.gatewayId,id:t.id},a.next=5,Object(w["D"])(i);case 5:n=a.sent,0===n.code?(Object(V["b"])("操作成功"),e.findTableList()):Object(V["c"])(n.msg),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),Object($["a"])(R["N"].NOTIFY,a.t0);case 12:return a.prev=12,a.finish(12);case 14:case"end":return a.stop()}}),a,null,[[0,9,12,14]])})))()},toDeleteEdgePublish:function(t){var e=this;this.$confirm("是否确认远程删除?",R["N"].PROMPT,{confirmButtonText:R["c"].CONFIRM,cancelButtonText:R["c"].CANCEL,type:"warning"}).then((function(){e.deleteEdgePublish(t)})).catch((function(){}))},deleteEdgePublish:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,e.tableLoading=!0,i={gatewayId:t.gatewayId,gatewayCode:e.gatewayCode,id:t.id},a.next=5,Object(w["E"])(i);case 5:n=a.sent,0===n.code?(Object(V["b"])("操作成功"),e.findTableList()):Object(V["c"])(n.msg),a.next=12;break;case 9:a.prev=9,a.t0=a["catch"](0),Object($["a"])(R["N"].NOTIFY,a.t0);case 12:return a.prev=12,e.tableLoading=!1,a.finish(12);case 15:case"end":return a.stop()}}),a,null,[[0,9,12,15]])})))()},toInfo:function(t){this.publishInfo=t,this.showPulishTemp_x(),console.log(t)},resetUpdate:function(){this.toInfo(this.publishInfo)},toUpdate:function(){var t=this;this.$confirm("是否确认保存修改?",R["N"].PROMPT,{confirmButtonText:R["c"].CONFIRM,cancelButtonText:R["c"].CANCEL,type:"warning"}).then((function(){t.saveUpdate()})).catch((function(){}))},saveUpdate:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i,n,o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(e.prev=0,a={configName:t.publishName_x,gatewayId:t.gatewayId,templateId:t.protoco_x,id:t.publishInfo.id},i={},n=t.protocolDefinition_x,o=0;o<n.length;o++)i[n[o].name]=n[o].nowValue+"";return a.protocolDefinitionContent=JSON.stringify(i),console.log(a),e.next=9,Object(w["I"])({},a);case 9:r=e.sent,0===r.code?(Object(V["b"])("操作成功"),t.findTableList()):Object(V["c"])(r.msg),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](0),Object($["a"])(R["N"].NOTIFY,e.t0);case 16:return e.prev=16,e.finish(16);case 18:case"end":return e.stop()}}),e,null,[[0,13,16,18]])})))()}},created:function(){this.findTableList()}},ot=nt,rt=(a("02b2"),Object(g["a"])(ot,at,it,!1,null,null,null)),lt=rt.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"MaskList network"},[a("div",{staticClass:"table_con"},[a("vxe-grid",{ref:"xGrid",staticClass:"vxe-table-element",attrs:{border:"full",resizable:"","keep-source":"","max-height":t.$options.filters.getTableHeight(200),"highlight-current-row":"",loading:t.tableLoading,columns:t.tableColumns,data:t.tableDatas}})],1),t.detailVisible?a("div",{staticClass:"form_con network_form card_module"},[a("form-module",{attrs:{line:!1,formData:t.detailFormData,formOptions:t.detailFormOptions},scopedSlots:t._u([{key:"formItemSlot",fn:function(){return[a("el-button",{staticClass:"w100",attrs:{type:"primary"},on:{click:t.handleAnnounced}},[t._v("待发布内容")])]},proxy:!0},{key:"footer",fn:function(){return[a("div",{staticClass:"ta-c m-t80"},[a("el-button",{staticClass:"m-r30",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handleSubmit("保存修改")}}},[t._v("保存修改")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){return t.handleSubmit("取消保存")}}},[t._v("取消")])],1)]},proxy:!0}],null,!1,428454081)})],1):t._e(),a("el-dialog",{class:[t.$store.state.dialogMarginClass],attrs:{title:"新增任务",width:"450px",visible:t.addDialogVisible},on:{"update:visible":function(e){t.addDialogVisible=e}}},[a("div",{staticClass:"dialog_con"},[a("form-module",{attrs:{line:!1,formData:t.dialogFormData,formOptions:t.dialogFormOptions},scopedSlots:t._u([{key:"footer",fn:function(){return[a("div",{staticClass:"ta-c m-t35"},[a("el-button",{staticClass:"m-r30",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handleSubmit("新增任务")}}},[t._v("确认")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取消")])],1)]},proxy:!0}])})],1)]),a("el-dialog",{class:[t.$store.state.dialogMarginClass],attrs:{title:"编辑待发布内容",width:"800px","custom-class":"issueDialog",visible:t.issueDialogVisible},on:{"update:visible":function(e){t.issueDialogVisible=e}}},[a("div",{staticClass:"issue_wra"},[a("el-button",{staticClass:"m-r30",attrs:{size:"mini",type:"primary"},on:{click:t.handleEditParam}},[t._v("编辑待发布参数")]),a("div",{staticClass:"issue_con"},[a("div",{staticClass:"card_module param_con"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v("待发布采集参数")])]),a("div",{staticClass:"param_list"},t._l(t.paramList,(function(e,i){return a("p",{key:i},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"script_con card_module"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title"},[t._v("脚本编辑器(lua)")])]),a("div",{staticClass:"script_list"},[a("el-input",{attrs:{type:"textarea",autosize:{minRows:16,maxRows:16}},model:{value:t.scriptContent,callback:function(e){t.scriptContent=e},expression:"scriptContent"}})],1)])])],1),a("div",{staticClass:"ta-c m-t35"},[a("el-button",{staticClass:"m-r30",attrs:{size:"mini",type:"primary"},on:{click:function(e){t.issueDialogVisible=!1}}},[t._v("保存修改")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.issueDialogVisible=!1}}},[t._v("取消")])],1)]),a("el-dialog",{class:[t.$store.state.dialogMarginClass],attrs:{title:"编辑待发布参数",width:"600px",visible:t.paramDialogVisible},on:{"update:visible":function(e){t.paramDialogVisible=e}}},[a("div",{staticClass:"editParam_con"},[a("div",{staticClass:"addParam"},[a("el-button",{staticClass:"addBtn",attrs:{size:"mini",type:"primary"},on:{click:t.handleAddParam}},[t._v("新增计算参数")])],1),a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.paramTableData,border:"","header-cell-style":{background:"#eff0f2",color:"#606266"},"max-height":"500"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"40"}}),a("el-table-column",{attrs:{prop:"pointName",align:"center",label:"参数名称"}}),a("el-table-column",{attrs:{prop:"pointAbbrName",align:"center",label:"参数别名"}}),a("el-table-column",{attrs:{prop:"dataType",align:"center",label:"参数类型"}})],1)],1),a("div",{staticClass:"ta-c m-t20"},[a("el-button",{staticClass:"m-r30",attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.handleSubmit("编辑待发布参数")}}},[t._v("确认")]),a("el-button",{attrs:{size:"mini"},on:{click:function(e){t.paramDialogVisible=!1}}},[t._v("取消")])],1)]),a("el-dialog",{class:[t.$store.state.dialogMarginClass],attrs:{title:"新增计算参数",width:"450px",visible:t.addParamDialogVisible},on:{"update:visible":function(e){t.addParamDialogVisible=e}}},[a("div",{staticClass:"dialog_con"})])],1)},ct=[],ut=(a("4160"),a("45fc"),a("b64b"),a("159b"),a("e762a").Base64),dt={name:"MaskList",components:{},props:{param:{type:Object,default:function(){return{gatewayId:null,gatewayCode:null}}}},data:function(){var t=this,e=this.$createElement;return{addDialogVisible:!1,issueDialogVisible:!1,paramDialogVisible:!1,addParamDialogVisible:!1,tableLoading:!1,detailVisible:!1,scriptContent:"",currentRow:{},detailFormData:{},dialogFormData:{},addParamFormData:{},paramList:[],detailFormOptions:[{key:"taskName",label:"任务名:"},{type:"select",key:"acquireConfigCode",label:"连接:",options:[]},{type:"button",key:"button",label:""},{type:"select",key:"publishConfigCode",label:"发布",options:[]}],dialogFormOptions:[{key:"taskName",label:"任务名:"},{type:"select",key:"acquireConfigCode",label:"连接:",options:[]},{type:"select",key:"publishConfigCode",label:"发布:",options:[]}],addParamFormOptions:[{key:"pointName",label:"参数名称:"},{key:"pointAbbrName",label:"参数别名:"},{type:"select",key:"dataType",label:"参数类型:",options:[{label:"INT",value:"INT"},{label:"FLOAT",value:"FLOAT"},{label:"STRING",value:"STRING"}]}],tableColumns:[{type:"seq",field:"",title:"序号",width:"80",align:"center"},{field:"taskName",title:"任务名称",align:"center"},{field:"taskStatusEnum",title:"生效状态",align:"center",slots:{default:function(t){var a=t.row;t.column;return"IN_USE"===a.taskStatusEnum?[e("span",{class:"sync takeEffect"},["已生效"])]:"NOT_IN_USE"===a.taskStatusEnum?[e("span",{class:"noSync takeEffect"},["未同步"])]:void 0}}},{field:"linkTime",title:"上次通信时间",align:"center",formatter:["formatDate","yyyy-MM-dd HH:mm:ss"]},{title:"操作",align:"center",fixed:"right",slots:{default:function(a){var i=a.row,n=a.column,o=[e("vxe-button",{attrs:{type:"text",status:"primary",content:"详情"},on:{click:function(){return t.handleDatial(i,n)}}})];return"NOT_IN_USE"===i.taskStatusEnum?(o.splice(1,0,e("vxe-button",{attrs:{type:"text",status:"primary",content:"连接"},on:{click:function(){return t.handleConcat(i,n)}}})),o.splice(2,0,e("vxe-button",{attrs:{type:"text",status:"danger",content:"删除"},on:{click:function(){return t.handleDel(i,w["m"],"删除")}}}))):o.splice(1,0,e("vxe-button",{attrs:{type:"text",status:"danger",content:"远程删除"},on:{click:function(){return t.handleDel(i,w["o"],"远程删除")}}})),o}}}],tableDatas:[],paramTableData:[{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路"}],selectedParamList:[]}},created:function(){this.loadData(),this.loadSelect()},methods:{reLoad:function(){this.loadData()},loadData:function(){var t=this;this.tableLoading=!0,Object(w["z"])({gatewayCode:this.param.gatewayCode,gatewayId:this.param.gatewayId}).then((function(e){t.tableDatas=e.data||[],t.tableLoading=!1}))},loadSelect:function(){var t=this;Object(w["w"])({gatewayId:this.param.gatewayId}).then((function(e){var a,i=null===(a=e.data)||void 0===a?void 0:a.map((function(t){return{label:t.configName,value:t.configCode}}));t.detailFormOptions[1].options=i,t.dialogFormOptions[1].options=i})),Object(w["x"])({gatewayId:this.param.gatewayId}).then((function(e){var a,i=null===(a=e.data)||void 0===a?void 0:a.map((function(t){return{label:t.configName,value:t.configCode}}));t.detailFormOptions[3].options=i,t.dialogFormOptions[2].options=i}))},handleAddMask:function(){this.addDialogVisible=!0},handleAnnounced:function(){var t=this;Object(w["A"])({gatewayId:this.param.gatewayId,pageNum:1,pageSize:1,taskId:this.currentRow.id,taskName:this.currentRow.taskName}).then((function(e){var a=e.data[0]||{},i=a.taskContent,n=i.outParams,o=void 0===n?[]:n,r=i.luaScript;t.paramList=o,t.scriptContent=ut.decode(r)})),this.issueDialogVisible=!0},handleEditParam:function(){var t=this;this.paramDialogVisible=!0,Object(w["C"])({acquireConfigCode:this.detailFormData.acquireConfigCode,gatewayId:this.param.gatewayId}).then((function(e){t.paramTableData=e.data||[];var a=t.paramTableData.filter((function(e){return t.paramList.some((function(t){return e.pointName===t.name}))}));console.log(t.$refs.multipleTable),t.$nextTick((function(){a.forEach((function(e){t.$refs.multipleTable.toggleRowSelection(e,!0)}))}))}))},handleSelectionChange:function(t){this.selectedParamList=t},handleAddParam:function(){var t=this;this.addParamDialogVisible=!0,Object.keys(this.addParamFormData).forEach((function(e){t.addParamFormData[e]=""}))},handleDatial:function(t){this.currentRow=t;var e=t.taskName,a=t.taskContent,i=a.acquireConfigCodes,n=a.publishConfigCodes;this.detailFormData={taskName:e,acquireConfigCode:null===i||void 0===i?void 0:i[0],publishConfigCode:null===n||void 0===n?void 0:n[0]},this.detailVisible=!0},handleSubmit:function(t){var e=this;switch(t){case"新增任务":Object(w["t"])(Object(T["a"])(Object(T["a"])({},this.dialogFormData),{},{gatewayId:this.param.gatewayId})).then((function(t){e.addDialogVisible=!1,e.loadData(),e.$message({message:"新增成功",type:"success"})}));break;case"保存修改":var a=this.detailFormData,i=a.taskName,n=a.acquireConfigCode,o=a.publishConfigCode;Object(w["O"])({},{gatewayId:this.param.gatewayId,id:10,taskName:i,taskContent:{acquireConfigCodes:[n],publishConfigCodes:[o],luaScript:ut.encode(this.scriptContent),outParams:this.paramList}}).then((function(t){e.loadData(),e.$message({message:"保存成功",type:"success"})}));break;case"取消保存":this.handleDatial(this.currentRow);break;case"新增计算参数":this.paramTableData.unshift(this.addParamFormData),this.addParamDialogVisible=!1;break;case"编辑待发布参数":this.paramList=this.selectedParamList.map((function(t){return{name:t.pointName,abbrName:t.pointAbbrName,typeEnum:t.dataType}})),this.paramDialogVisible=!1;break}},handleDel:function(t,e,a){var i=this,n=t.id;e({gatewayId:this.param.gatewayId,id:n,gatewayCode:"远程删除"===a?this.param.gatewayCode:void 0}).then((function(t){i.loadData(),i.$message({message:"删除成功",type:"success"})}))}}},ft=dt,mt=(a("4a05"),Object(g["a"])(ft,st,ct,!1,null,"34acac79",null)),pt=mt.exports,ht={name:"NetWorkDetail",components:{NetWorkMessage:D,ConcatConfigMessage:E,ParmConfig:et,PublishConfig:lt,MaskList:pt},props:{param:{type:Object,default:function(){return{gatewayId:null,gatewayCode:null}}}},data:function(){return{componentName:"NetWorkMessage",radioList:[{name:"网关信息",component:"NetWorkMessage"},{name:"连接配置",component:"ConcatConfigMessage"},{name:"参数配置",component:"ParmConfig"},{name:"发布配置",component:"PublishConfig"},{name:"任务列表",component:"MaskList"}],operList:[{name:"刷新",iconName:"icon-refresh",hasPower:"ALL"},{name:"新增连接",iconName:"icon-add",hasPower:["ConcatConfigMessage"]},{name:"新增参数",iconName:"icon-add",hasPower:["ParmConfig"]},{name:"批量导入",iconName:"icon-import",hasPower:["ParmConfig"]},{name:"新增发布",iconName:"icon-import",hasPower:["PublishConfig"]},{name:"新增任务",iconName:"icon-import",hasPower:["MaskList"]}]}},methods:{handleOper:function(t){var e=t.name;switch(e){case"刷新":console.log("刷新页面"),this.$refs.childRef.reLoad();break;case"新增连接":console.log("新增连接"),this.$refs.childRef.handleAddConcat();break;case"新增参数":this.$refs.childRef.showAddParamDialog();break;case"批量导入":this.$refs.childRef.shoImportDialog();break;case"新增发布":this.$refs.childRef.addPublish();break;case"新增任务":this.$refs.childRef.handleAddMask();break}},handleBack:function(){this.$emit("handleBack")}}},bt=ht,gt=(a("8e8a"),Object(g["a"])(bt,c,u,!1,null,"1dce1002",null)),vt=gt.exports,yt={data:function(){return{tableLoading:!1,dialogVisible:!1,detailParam:{},selectRow:null,showEdit:!1,islist:!0,formData:{gatewayType:"",companyName:""},companyList:[],NameList:[{label:"公司一",value:"0"},{label:"公司二",value:"1"}],formTable:{companyCode:"",gatewayCode:"",gatewayName:"",gatewayType:"",companyName:""},form2:{NewPassWord:"",RePassWord:""},formLabelWidth:"100px",tableData:[{gatewayName:"11"}],tablePage:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","Total"],perfect:!0,slots:{left:"pager_left"}}}},components:{HeaderTitle:r["a"],HeadOperationItem:l["a"],VXETable:s["a"],NetWorkDetail:vt},filters:{statusStyle:function(t){switch(t){case!0:return"primary";case!1:return"info";default:return t}},statusContent:function(t){switch(t){case!0:return"在线";case!1:return"离线";default:return t}},timeSwitch:function(t){var e=new Date(t),a=e.getFullYear(),i=e.getMonth()+1;i=i<10?"0"+i:i;var n=e.getDate();n=n<10?"0"+n:n;var o=e.getHours();o=o<10?"0"+o:o;var r=e.getMinutes();r=r<10?"0"+r:r;var l=e.getSeconds();return l=l<10?"0"+l:l,a+"-"+i+"-"+n+" "+o+":"+r+":"+l}},methods:{handelVisit:function(t){var e=t.id,a=t.gatewayCode;this.detailParam={gatewayId:e,gatewayCode:a},this.islist=!1},handleBack:function(){this.islist=!0},handleReload:function(){},handlePageChange1:function(t){var e=t.currentPage,a=t.pageSize;this.tablePage.currentPage=e,this.tablePage.pageSize=a,this.listData()},listData:function(){var t=this;this.tableLoading=!0;var e={pageNum:this.tablePage.currentPage,pageSize:this.tablePage.pageSize};Object(w["B"])(e).then((function(e){t.tableLoading=!1,t.tablePage.total=e.data.length,t.tableData=e.data.slice((t.tablePage.currentPage-1)*t.tablePage.pageSize,t.tablePage.currentPage*t.tablePage.pageSize)}))},closeit:function(){this.$refs.roleForm.resetFields()},modifyPassword:function(t){this.dialogVisible=!0,this.selectRow=t},insertEvent:function(){this.showEdit=!0},PasswordConfirm:function(t){var e=this,a={id:this.selectRow.id,pwd:this.form2.NewPassWord};Object(w["N"])(a).then((function(t){0===t.code&&(e.dialogVisible=!1,e.$message({message:"修改密码成功",type:"success"}))}))},submitEvent:function(){var t=this;this.tableLoading=!0;var e={companyCode:this.formTable.companyCode,gatewayName:this.formTable.gatewayCode,companyName:this.formTable.companyName,gatewayType:this.formTable.gatewayName,gatewayCaptcha:295865};Object(w["s"])(e).then((function(e){0===e.code&&(t.$message({message:"新增成功",type:"success"}),t.$refs.xTable.insert(t.formTable),t.tableLoading=!1)}))},handlePageChange:function(t){var e=t.currentPage,a=t.pageSize;this.tablePage.currentPage=e,this.tablePage.pageSize=a,this.listData()},findCompanyList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.tableLoading=!0,e.next=4,Object(w["p"])({size:t.tablePage.pageSize,current:t.tablePage.currentPage},{conditionJson1:[{column:"state",operator:1,ptype:"string",type:"in",value:"1,3"}]});case 4:a=e.sent,"0000"===a.code&&(t.tablePage.total=a.total,t.tableLoading=!1,t.companyList=a.rows,console.log(a.rows)),e.next=10;break;case 8:e.prev=8,e.t0=e["catch"](0);case 10:return e.prev=10,e.finish(10);case 12:case"end":return e.stop()}}),e,null,[[0,8,10,12]])})))()}},created:function(){this.listData(),this.findCompanyList()}},wt=yt,Ct=wt,xt=(a("3c42"),Object(g["a"])(Ct,i,n,!1,null,"1841e65e",null));e["default"]=xt.exports},a37b:function(t,e,a){},a7c2:function(t,e,a){"use strict";var i=a("a37b"),n=a.n(i);n.a},ab13:function(t,e,a){var i=a("b622"),n=i("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[n]=!1,"/./"[t](e)}catch(i){}}return!1}},af73:function(t,e,a){"use strict";var i=a("7a15"),n=a.n(i);n.a},b5d4:function(t,e,a){},bb3d:function(t,e,a){},bf39:function(t,e,a){"use strict";var i=a("390b"),n=a.n(i);n.a},c740:function(t,e,a){"use strict";var i=a("23e7"),n=a("b727").findIndex,o=a("44d2"),r=a("ae40"),l="findIndex",s=!0,c=r(l);l in[]&&Array(1)[l]((function(){s=!1})),i({target:"Array",proto:!0,forced:s||!c},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o(l)},caad:function(t,e,a){"use strict";var i=a("23e7"),n=a("4d64").includes,o=a("44d2"),r=a("ae40"),l=r("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!l},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},cf46:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("vxe-grid",{ref:t.tableName+"Table",staticClass:"vxe-table-element",attrs:{"row-style":t.rowStyle,"header-row-style":t.headerStyle,resizable:t.resizable,border:t.border,"show-header":t.showHeader,"auto-resize":t.autoResize,"header-align":t.headerAlign,"show-footer":t.showFooter,"show-footer-overflow":t.showFooterOverflow,"show-overflow":t.showOverflow,stripe:t.stripe,"max-height":t.maxHeight,height:t.height,size:t.size,"remote-sort":!0,"highlight-hover-row":t.highlightHoverRow,"highlight-current-row":t.highlightCurrentRow,loading:t.tableLoading,"tooltip-config":t.tooltipConfig,"keep-source":t.keepSource,"edit-config":t.editConfig,columns:t.tableColumns,data:t.tableDatas,"checkbox-config":t.checkboxConfig,"radio-config":{trigger:"row"},"seq-config":{startIndex:(t.tablePage.currentPage-1)*t.tablePage.pageSize},"pager-config":t.tablePage,"span-method":t.mergeRowMethod,"export-config":{cellRender:t.handleCellRender}},on:{"cell-click":t.cellClickEvent,"cell-dblclick":t.cellDBLClickEvent,"page-change":t.handlePageChange,"sort-change":t.sortChange,"checkbox-change":t.checkboxChangeEvent,"checkbox-all":t.checkboxChangeEvent,"current-change":t.currentChangeEvent},scopedSlots:t._u([{key:"pager_left",fn:function(){return[a("div",{staticClass:"page-left"},[a("div",[t._t("tableOperation")],2)])]},proxy:!0}],null,!0)})],1)},n=[],o=(a("4de4"),a("caad"),a("a9e3"),a("2532"),{props:{rowStyle:{type:Function},headerStyle:{type:Function},resizable:{type:Boolean,default:!0},tableName:{type:String,required:!0},showHeader:{type:Boolean,default:!0},border:{type:[Boolean,String],default:!0},autoResize:{type:Boolean,default:!0},headerAlign:{type:String,default:"center"},showFooter:{type:Boolean,default:!1},showFooterOverflow:{type:[Boolean,String],default:"tooltip"},showOverflow:{type:[Boolean,String],default:"tooltip"},stripe:{type:Boolean,default:!0},maxHeight:{type:[Number,String],default:""},height:{type:[Number,String],default:"500px"},size:{type:String,default:"small"},highlightHoverRow:{type:Boolean,default:!0},highlightCurrentRow:{type:Boolean,default:!1},tableLoading:{type:Boolean,default:!1},tooltipConfig:{type:Object,default:function(){return{theme:"light",enterable:!0}}},checkboxConfig:{type:Object,default:function(){return{}}},exportConfig:{type:Object,default:function(){return{}}},keepSource:{type:Boolean,default:!1},editConfig:{type:[Boolean,Object],default:!1},tableDatas:{type:Array,required:!0},tableColumns:{type:Array,required:!0},tablePage:{type:Object,required:!0},checkRecords:{type:Array,default:function(){return[]}}},data:function(){return{isAllChecked:!1,isIndeterminate:!1,selectRecords:[],mergeArr:[]}},watch:{checkRecords:function(t,e){0===t.length&&this.checkboxChangeEvent([])}},methods:{handleCellRender:function(t){var e=t.row,a=t.column,i=t.cellValue;return console.log(666,e,a,i),{style:"color: red;"}},handlePageChange:function(t){var e=t.currentPage,a=t.pageSize;this.isAllChecked=!1,this.selectRecords=[],this.$emit("onTablePageChange",e,a)},sortChange:function(t){t.column;var e=t.property,a=t.order;console.log(666),this.isAllChecked=!1,this.selectRecords=[],this.$emit("sortChange",e,a)},checkboxChangeEvent:function(t){var e=t.records;this.isAllChecked=this.$refs[this.tableName+"Table"].isAllCheckboxChecked(),this.isIndeterminate=this.$refs[this.tableName+"Table"].isCheckboxIndeterminate(),e?this.selectRecords=e:(this.selectRecords=[],this.isIndeterminate=!1),0===this.selectRecords.length&&(this.isAllChecked=!1),this.$emit("chooseCheck",e)},changeAllEvent:function(){this.$refs[this.tableName+"Table"].setAllCheckboxRow(this.isAllChecked),this.selectRecords=this.$refs[this.tableName+"Table"].getCheckboxRecords(),0===this.selectRecords.length&&(this.isAllChecked=!1),this.$emit("chooseCheck",this.selectRecords)},exportData:function(t,e,a){console.log(a);var i={isColgroup:!0,filename:t,useStyle:!0,type:"xlsx",columns:a.filter((function(t){return console.log(t),""!==t.field})),data:e};this.$refs[this.tableName+"Table"].exportData(i)},exportDatax:function(t,e,a){console.log(a);var i={isColgroup:!0,filename:t,useStyle:!0,type:"csv",data:e};a&&(i.columnFilterMethod=function(t){return a.includes(t.property)}),this.$refs[this.tableName+"Table"].exportData(i)},cellClickEvent:function(t){var e=t.row;this.$emit("clickRows",e)},cellDBLClickEvent:function(t){var e=t.row;this.$emit("dbclickRows",e)},currentChangeEvent:function(t){var e=t.row,a=this.$refs[this.tableName+"Table"].$getRowIndex(e);this.$emit("currentChangeEvent",e,a)},setCurrentRow:function(t){this.$refs[this.tableName+"Table"].setCurrentRow(this.tableDatas[t])},clearCurrentRow:function(){this.$refs[this.tableName+"Table"].clearCurrentRow()},toggleCheckboxRow:function(t){this.$refs[this.tableName+"Table"].toggleCheckboxRow(t)},clearCheckboxRow:function(){this.$refs[this.tableName+"Table"].clearCheckboxRow()},getCheckboxRecords:function(){return this.$refs[this.tableName+"Table"].getCheckboxRecords()},getRadioRecord:function(){return this.$refs[this.tableName+"Table"].getRadioRecord()},setCheckboxRow:function(t,e){return this.$refs[this.tableName+"Table"].setCheckboxRow(t,e)},mergeRowMethod:function(t){var e=t.row,a=t.$rowIndex,i=t.column,n=t.data,o=this.mergeArr;if(this.mergeArr.length>0){var r=e[i.property];if(r&&o.includes(i.property)){var l=e[o[0]],s=n[a-1],c=n[a+1];if(s&&s[i.property]===r&&s[o[0]]===l)return{rowspan:0,colspan:0};var u=1;while(c&&c[i.property]===r&&c[o[0]]===l)c=n[++u+a];if(u>1)return{rowspan:u,colspan:1}}}}}}),r=o,l=(a("bf39"),a("2877")),s=Object(l["a"])(r,i,n,!1,null,"00902082",null);e["a"]=s.exports},d968:function(t,e,a){"use strict";var i=a("f774"),n=a.n(i);n.a},e15e:function(t,e,a){},e762a:function(t,e,a){"use strict";a.r(e),a.d(e,"version",(function(){return i})),a.d(e,"VERSION",(function(){return n})),a.d(e,"atob",(function(){return F})),a.d(e,"atobPolyfill",(function(){return S})),a.d(e,"btoa",(function(){return y})),a.d(e,"btoaPolyfill",(function(){return v})),a.d(e,"fromBase64",(function(){return R})),a.d(e,"toBase64",(function(){return P})),a.d(e,"utob",(function(){return D})),a.d(e,"encode",(function(){return P})),a.d(e,"encodeURI",(function(){return T})),a.d(e,"encodeURL",(function(){return T})),a.d(e,"btou",(function(){return I})),a.d(e,"decode",(function(){return R})),a.d(e,"isValid",(function(){return V})),a.d(e,"fromUint8Array",(function(){return C})),a.d(e,"toUint8Array",(function(){return E})),a.d(e,"extendString",(function(){return z})),a.d(e,"extendUint8Array",(function(){return q})),a.d(e,"extendBuiltins",(function(){return B})),a.d(e,"Base64",(function(){return U}));const i="3.7.2",n=i,o="function"===typeof atob,r="function"===typeof btoa,l="function"===typeof Buffer,s="function"===typeof TextDecoder?new TextDecoder:void 0,c="function"===typeof TextEncoder?new TextEncoder:void 0,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=Array.prototype.slice.call(u),f=(t=>{let e={};return t.forEach((t,a)=>e[t]=a),e})(d),m=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,p=String.fromCharCode.bind(String),h="function"===typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(t,e=(t=>t))=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),b=t=>t.replace(/=/g,"").replace(/[+\/]/g,t=>"+"==t?"-":"_"),g=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),v=t=>{let e,a,i,n,o="";const r=t.length%3;for(let l=0;l<t.length;){if((a=t.charCodeAt(l++))>255||(i=t.charCodeAt(l++))>255||(n=t.charCodeAt(l++))>255)throw new TypeError("invalid character found");e=a<<16|i<<8|n,o+=d[e>>18&63]+d[e>>12&63]+d[e>>6&63]+d[63&e]}return r?o.slice(0,r-3)+"===".substring(r):o},y=r?t=>btoa(t):l?t=>Buffer.from(t,"binary").toString("base64"):v,w=l?t=>Buffer.from(t).toString("base64"):t=>{const e=4096;let a=[];for(let i=0,n=t.length;i<n;i+=e)a.push(p.apply(null,t.subarray(i,i+e)));return y(a.join(""))},C=(t,e=!1)=>e?b(w(t)):w(t),x=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?p(192|e>>>6)+p(128|63&e):p(224|e>>>12&15)+p(128|e>>>6&63)+p(128|63&e)}e=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return p(240|e>>>18&7)+p(128|e>>>12&63)+p(128|e>>>6&63)+p(128|63&e)},k=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,D=t=>t.replace(k,x),_=l?t=>Buffer.from(t,"utf8").toString("base64"):c?t=>w(c.encode(t)):t=>y(D(t)),P=(t,e=!1)=>e?b(_(t)):_(t),T=t=>P(t,!0),O=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,N=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),a=e-65536;return p(55296+(a>>>10))+p(56320+(1023&a));case 3:return p((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return p((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},I=t=>t.replace(O,N),S=t=>{if(t=t.replace(/\s+/g,""),!m.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(3&t.length));let e,a,i,n="";for(let o=0;o<t.length;)e=f[t.charAt(o++)]<<18|f[t.charAt(o++)]<<12|(a=f[t.charAt(o++)])<<6|(i=f[t.charAt(o++)]),n+=64===a?p(e>>16&255):64===i?p(e>>16&255,e>>8&255):p(e>>16&255,e>>8&255,255&e);return n},F=o?t=>atob(g(t)):l?t=>Buffer.from(t,"base64").toString("binary"):S,A=l?t=>h(Buffer.from(t,"base64")):t=>h(F(t),t=>t.charCodeAt(0)),E=t=>A(j(t)),L=l?t=>Buffer.from(t,"base64").toString("utf8"):s?t=>s.decode(A(t)):t=>I(F(t)),j=t=>g(t.replace(/[-_]/g,t=>"-"==t?"+":"/")),R=t=>L(j(t)),V=t=>{if("string"!==typeof t)return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},$=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),z=function(){const t=(t,e)=>Object.defineProperty(String.prototype,t,$(e));t("fromBase64",(function(){return R(this)})),t("toBase64",(function(t){return P(this,t)})),t("toBase64URI",(function(){return P(this,!0)})),t("toBase64URL",(function(){return P(this,!0)})),t("toUint8Array",(function(){return E(this)}))},q=function(){const t=(t,e)=>Object.defineProperty(Uint8Array.prototype,t,$(e));t("toBase64",(function(t){return C(this,t)})),t("toBase64URI",(function(){return C(this,!0)})),t("toBase64URL",(function(){return C(this,!0)}))},B=()=>{z(),q()},U={version:i,VERSION:n,atob:F,atobPolyfill:S,btoa:y,btoaPolyfill:v,fromBase64:R,toBase64:P,encode:P,encodeURI:T,encodeURL:T,utob:D,btou:I,decode:R,isValid:V,fromUint8Array:C,toUint8Array:E,extendString:z,extendUint8Array:q,extendBuiltins:B}},f108:function(t,e,a){},f774:function(t,e,a){}}]);
//# sourceMappingURL=chunk-53f00960.ee482167.js.map