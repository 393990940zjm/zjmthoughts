(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0fb7d381"],{"0294":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.hideMain,expression:"hideMain"}],staticClass:"main"},[a("el-header",[a("HeaderTitle",{attrs:{flag:!0},on:{searchButtonClick:e.showSearchCard}},[a("div",{staticClass:"head-operation",attrs:{slot:"head-operation"},slot:"head-operation"},[a("HeadOperationItem",{attrs:{name:"showInfo"},on:{onOprationItem:function(t){return e.exportTable()}}},[a("i",{staticClass:"icon-export",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.EXPORT))])])],1)])],1),a("el-main",[a("Div",[a("div",[a(e.currentView,{ref:e.currentView,tag:"component",attrs:{showInfo:e.showInfo,isSearchBoxShow:e.isSearchBoxShow}})],1)])],1)],1),1===e.showFlag?a("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideMain,expression:"!hideMain"}],staticClass:"main"},[a("deviceInfo",{attrs:{back:e.back,personData:e.personData}})],1):e._e(),2===e.showFlag?a("div",{directives:[{name:"show",rawName:"v-show",value:!e.hideMain,expression:"!hideMain"}],staticClass:"main"},[a("warningInfo",{attrs:{back:e.back,personData:e.personData}})],1):e._e()])},i=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[a("HeaderTitle",{directives:[{name:"show",rawName:"v-show",value:4!==e.deivceShowFlag,expression:"deivceShowFlag !==4"}],attrs:{titleName:e.title}},[a("div",{staticClass:"head-operation",attrs:{slot:"head-operation"},slot:"head-operation"},[a("HeadOperationItem",{attrs:{name:"showInfo"},on:{onOprationItem:function(t){return e.refresh()}}},[a("i",{staticClass:"icon-refresh",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.REFRESH))])]),a("HeadOperationItem",{attrs:{name:"showInfo"},on:{onOprationItem:function(t){return e.backMain()}}},[a("i",{staticClass:"icon-back",attrs:{slot:"operation-icon"},slot:"operation-icon"}),a("span",{attrs:{slot:"operation-name"},slot:"operation-name"},[e._v(e._s(e.BTN_TEXT.RETURN))])])],1)])],1),a("el-main",[a("VXETable",{ref:"xGrid",staticClass:"table",attrs:{height:e.$options.filters.getTableHeight(150),tableName:"",tableLoading:e.tableLoadings,tableDatas:e.tableDatas,tableColumns:e.tableColumns,tablePage:e.tablePages,"edit-config":e.editConfig},on:{onTablePageChange:e.onTablePageChanges}})],1)],1)},o=[],s=(a("96cf"),a("1da1")),l=a("cf46"),c=a("6303"),u=a("4f6a"),h=a("85a8"),d=a("5861"),m=a("3fa5"),g=a("6464"),p=a("c695"),f=a.n(p),b=a("582a"),w=a("a388"),v=a("b775"),T=function(e,t){return Object(v["k"])("report/getPagePeoplePerformanceReport.action?",e,t)},N=function(e,t){return Object(v["k"])("report/getPagePeoplePerformanceReportDetail.action?",e,t)},P={name:"tabs",props:{personData:w["List"],back:{type:Function,default:null}},data:function(){return{BTN_TEXT:b["c"],DEVICE_STATE:b["p"],EQUIPMENT_LIVE:b["t"],active:0,rows:{},deivceShowFlag:0,title:"",showData:{},showDataInfo:[],parameterData:[],currentView:"deviceTable",dialogVisible:!1,hackReset:!1,editConfig:{trigger:"click",mode:"row",showStatus:!1},tableLoadings:!1,outData:[],tableDatas:[],tableColumns:[{field:"time",title:"日期",formatter:["formatDate","yyyy-MM-dd"],align:"center"},{field:"taskCode",title:"任务单号",align:"center"},{field:"materialsCode",title:"物料编号",align:"center"},{field:"materialsName",title:"物料名称",align:"center"},{field:"workNum",title:"工作数量",align:"center"},{field:"startTime",title:"开工时间",formatter:["formatDate","yyyy-MM-dd HH:mm:ss"],align:"center"},{field:"endTime",title:"完工时间",formatter:["formatDate","yyyy-MM-dd HH:mm:ss"],align:"center"},{field:"workTime",title:"工作时长",formatter:"timeStampSeconds",align:"center"}],tablePages:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0},timeOptionRange:""}},watch:{},created:function(){this.title="绩效明细       "+this.personData.userName,this.findList()},methods:{backMain:function(){this.back()},findList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i,r,o,s,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new Date(e.personData.month),n=a.getMonth(),i=a.getFullYear(),r=new Date(i,n,1),o=new Date(i,n+1,0),s=new Date(r).getDate()<10?"0"+new Date(r).getDate():new Date(r).getDate(),l=new Date(o).getDate(),t.prev=7,e.tableLoadings=!0,t.next=11,N({size:e.tablePages.pageSize,current:e.tablePages.currentPage,userId:e.personData.userId,startTime:e.personData.month+"-"+s+" 00:00:00",endTime:e.personData.month+"-"+l+" 23:59:59"});case 11:c=t.sent,c.code===b["M"].OPERATION_SUCCESS?(e.tableDatas=c.rows,e.tablePages.total=c.total,e.tableLoadings=!1):Object(m["c"])(c.message),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](7),Object(g["a"])(b["N"].NOTIFY,t.t0);case 18:return t.prev=18,t.finish(18);case 20:case"end":return t.stop()}}),t,null,[[7,15,18,20]])})))()},onTablePageChanges:function(e,t){this.tablePages.currentPage=e,this.tablePages.pageSize=t,this.findList()},handleClose:function(){this.dialogVisible=!1,this.hackReset=!1},refresh:function(){this.tablePages.currentPage=1,this.tablePages.pageSize=10,this.findList()}},components:{deviceTable:c["a"],HeaderTitle:h["a"],HeadOperationItem:d["a"],parametricLiineChart:u["a"],VXETable:l["a"],XEUtils:f.a}},S=P,D=S,C=(a("4a0c"),a("2877")),E=Object(C["a"])(D,r,o,!1,null,"88feb484",null),x=E.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",[a("div",{staticClass:"searchDiv"},[a("div",[a("span",[e._v("员工名称:")]),a("el-input",{attrs:{size:"mini"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),a("div",[a("span",[e._v("工号:")]),a("el-input",{attrs:{size:"mini"},model:{value:e.operatorJorNumber,callback:function(t){e.operatorJorNumber=t},expression:"operatorJorNumber"}})],1),a("div",[a("span",[e._v("月份:")]),a("el-date-picker",{attrs:{type:"month","value-format":"yyyy-MM-dd",size:"mini",placeholder:"选择月"},model:{value:e.month,callback:function(t){e.month=t},expression:"month"}})],1),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.search}},[e._v(e._s(e.BTN_TEXT.SEARCH))]),a("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v(e._s(e.BTN_TEXT.RESET))]),a("el-button",{attrs:{size:"mini"},on:{click:e.findList}},[e._v(e._s(e.BTN_TEXT.REFRESH))])],1),a("VXETable",{ref:"xGrid",attrs:{id:"table",height:e.$options.filters.getTableHeight(200),tableName:"",tableLoading:e.tableLoadings,tableDatas:e.tableDatas,tableColumns:e.tableColumns,tablePage:e.tablePages,"edit-config":e.editConfig},on:{onTablePageChange:e.onTablePageChanges}})],1)},I=[],_=a("eec9"),y=a("bcc1"),O={components:{VXETable:l["a"],SearchBox:_["a"],CustomColumn:y["a"]},props:{groupType:String,isSearchBoxShow:{type:Boolean},showInfo:{type:Function,default:null}},data:function(){var e=this,t=this.$createElement;return{VARIABLE:b["P"],EQUIPMENT_LIVE:b["t"],BTN_TEXT:b["c"],deviceName:"",dialogVisible:!1,hackReset:!1,srearchList:[],orderByData:{},editConfig:{trigger:"click",mode:"row",showStatus:!1},searchData:[],showTable:!0,tableLoadings:!1,dialogVisibleCustomColumn:!1,outData:[],operatorJorNumber:"",month:"",userName:"",tableDatas:[],tableColumn:[],tableColumns:[{field:"month",title:"月份",width:"",align:"center",visible:!0},{field:"userName",title:"姓名",width:"",align:"center"},{field:"operatorJorNumber",title:"工号",width:"",align:"center"},{field:"roleName",title:"岗位",width:"",align:"center",sortable:!0},{field:"workNum",title:"工作数量",width:"",align:"center",sortable:!0},{field:"workTime",title:"工作时长",formatter:"timeStampSeconds",width:"",align:"center",sortable:!0},{field:"",title:b["c"].OPERATION,width:"100",align:"center",fixed:"right",slots:{default:function(a){var n=a.row;a.column,a.cellValue;return[t("div",[t("el-button",{attrs:{type:"text"},on:{click:function(){return e.goInfo(n)}}},["绩效明细"])])]}}}],typeOptions:[],groupOptions:[],typeValue:"",groupValue:"",tablePages:{total:0,currentPage:1,pageSize:10,align:"right",pageSizes:[10,20,50,100,200,500],layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"],perfect:!0}}},watch:{},created:function(){this.findList()},methods:{findList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",""!==e.month&&(a=e.$utils.toDateString(e.month,"yyyy-MM")),t.prev=2,e.tableLoadings=!0,t.next=6,T({size:e.tablePages.pageSize,current:e.tablePages.currentPage,month:a,operatorJorNumber:e.operatorJorNumber,userName:e.userName});case 6:if(n=t.sent,n.code===b["M"].OPERATION_SUCCESS){for(i in e.tableDatas=n.rows,e.tableDatas)void 0!==e.tableDatas[i].fileUrl&&(e.tableDatas[i].fileUrl=e.$store.state.publicUrl+e.tableDatas[i].fileUrl.substring(1));e.tablePages.total=n.total,e.tableLoadings=!1}else Object(m["c"])(n.message);t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),Object(g["a"])(b["N"].NOTIFY,t.t0);case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}}),t,null,[[2,10,13,15]])})))()},onTablePageChanges:function(e,t){this.tablePages.currentPage=e,this.tablePages.pageSize=t,this.findList()},search:function(){this.onTablePageChanges(1,10)},reset:function(){this.month="",this.userName="",this.operatorJorNumber="",this.onTablePageChanges(1,this.tablePages.pageSize)},goInfo:function(e){this.showInfo(1,e)},exportTable:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a="",""!==e.month&&(a=e.$utils.toDateString(e.month,"yyyy-MM")),t.prev=2,e.tableLoadings=!0,t.next=6,T({size:99999999,current:e.tablePages.currentPage,month:a,operatorJorNumber:e.operatorJorNumber,userName:e.userName});case 6:n=t.sent,n.code===b["M"].OPERATION_SUCCESS?(e.tableLoadings=!1,e.$refs.xGrid.exportData("人员绩效报表",n.rows)):Object(m["c"])(n.message),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](2),Object(g["a"])(b["N"].NOTIFY,t.t0);case 13:return t.prev=13,t.finish(13);case 15:case"end":return t.stop()}}),t,null,[[2,10,13,15]])})))()}}},M=O,L=M,R=(a("56d2"),Object(C["a"])(L,k,I,!1,null,"3d4ea955",null)),V=R.exports,z={name:"PersonnelPerformance",data:function(){return{isSearchBoxShow:!1,BTN_TEXT:b["c"],EQUIPMENT_LIVE:b["t"],active:0,showFlag:0,personData:{},hideMain:!0,currentView:"deviceTable",dialogVisible:!1}},created:function(){},methods:{showSearchCard:function(){this.isSearchBoxShow=!this.isSearchBoxShow},toggle:function(e,t){this.active=e,this.currentView=t},showInfo:function(e,t){this.showFlag=e,this.personData=t,this.hideMain=!1},back:function(){this.showFlag=0,this.hideMain=!0},exportTable:function(){0===this.active?this.$refs.deviceTable.exportTable():this.$refs.warningTable.exportTable()},refresh:function(){this.$refs.deviceTable.findList()}},components:{deviceTable:V,HeaderTitle:h["a"],deviceInfo:x,HeadOperationItem:d["a"],SearchBox:_["a"]}},B=z,F=B,H=(a("dee4"),Object(C["a"])(F,n,i,!1,null,"08f1d1c4",null));t["default"]=H.exports},"4a0c":function(e,t,a){"use strict";var n=a("eaff"),i=a.n(n);i.a},"56d2":function(e,t,a){"use strict";var n=a("9f79"),i=a.n(n);i.a},"8c0f":function(e,t,a){},"9f79":function(e,t,a){},dee4:function(e,t,a){"use strict";var n=a("8c0f"),i=a.n(n);i.a},eaff:function(e,t,a){}}]);
//# sourceMappingURL=chunk-0fb7d381.638065c5.js.map