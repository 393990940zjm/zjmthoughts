{"version":3,"sources":["webpack:///./src/utils/notify.js","webpack:///./src/views/CaptchaLoginPage.vue?7c2b","webpack:///src/views/CaptchaLoginPage.vue","webpack:///./src/views/CaptchaLoginPage.vue?3aec","webpack:///./src/views/CaptchaLoginPage.vue?33bc","webpack:///./src/views/CaptchaLoginPage.vue?6b6a"],"names":["showErrorNotify","title","msg","Notification","error","message","duration","position","showClose","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","type","indexOf","_k","keyCode","key","handleLoginEvent","staticStyle","_m","ref","attrs","model","value","callback","$$v","phoneNumber","trim","expression","code","canClick","getCode","slot","_v","_s","codeBtn","toLogin","staticRenderFns","name","data","setIn","time","methods","reg","$message","$refs","focus","toSend","json","res","toTime","setTimeout","_that","num","login","$router","push","path","mounted","component"],"mappings":"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","file":"js/chunk-6f882b40.6bac890f.js","sourcesContent":["/*\r\n * @Description: 消息通知的方法，包括提示成功信息、警告信息和错误信息\r\n * @Version: 1.0\r\n * @Author: ZJM\r\n * @LastEditors: ZJM\r\n * @LastEditTime: 2020-05-20 10:15:27\r\n */\r\nimport { Notification } from 'element-ui';\r\n\r\n/**\r\n * @description: 提示成功通知\r\n * @param {string} title 通知标题\r\n * @param {string} msg 通知内容\r\n * @return: void\r\n */\r\nexport function showSuccessNotify(title, msg) {\r\n  Notification.success({\r\n    title: title,\r\n    message: msg,\r\n    duration: 2000,\r\n    position: 'bottom-right',\r\n    showClose: true\r\n  });\r\n}\r\n\r\n/**\r\n * @description: 提示消息通知\r\n * @param {string} title 通知标题\r\n * @param {string} msg 通知内容\r\n * @return: void\r\n */\r\nexport function showInfoNotify(title, msg) {\r\n  Notification.info({\r\n    title: title,\r\n    message: msg,\r\n    duration: 2000,\r\n    position: 'bottom-right',\r\n    showClose: true\r\n  });\r\n}\r\n\r\n/**\r\n * @description: 提示警告通知\r\n * @param {string} title 通知标题\r\n * @param {string} msg 通知内容\r\n * @return: void\r\n */\r\nexport function showWarningNotify(title, msg) {\r\n  Notification.warning({\r\n    title: title,\r\n    message: msg,\r\n    duration: 2000,\r\n    position: 'bottom-right',\r\n    showClose: true\r\n  });\r\n}\r\n\r\n/**\r\n * @description: 提示错误通知\r\n * @param {string} title 通知标题\r\n * @param {string} msg 通知内容\r\n * @return: void\r\n */\r\nexport function showErrorNotify(title, msg) {\r\n  Notification.error({\r\n    title: title,\r\n    message: msg,\r\n    duration: 2000,\r\n    position: 'bottom-right',\r\n    showClose: true\r\n  });\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login_container\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLoginEvent($event)}}},[_c('div',{staticClass:\"login_box\",staticStyle:{\"height\":\"450px\"}},[_c('div',{staticClass:\"margin-top-50\"}),_vm._m(0),_c('div',{staticClass:\"margin-bottom-20\"},[_c('el-input',{ref:\"phoneNumber\",staticClass:\"width-360 login-input\",attrs:{\"suffix-icon\":\"login-account\",\"placeholder\":\"手机号\",\"clearable\":\"\"},model:{value:(_vm.phoneNumber),callback:function ($$v) {_vm.phoneNumber=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"phoneNumber\"}})],1),_c('div',{staticClass:\"margin-bottom-15\"},[_c('el-input',{ref:\"code\",staticClass:\"width-360 login-input\",attrs:{\"maxlength\":\"6\",\"suffix-icon\":\"login-password\",\"placeholder\":\"验证码\",\"clearable\":\"\"},model:{value:(_vm.code),callback:function ($$v) {_vm.code=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"code\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"type\":\"button\",\"disabled\":!_vm.canClick},on:{\"click\":_vm.getCode},slot:\"append\"},[_vm._v(_vm._s(_vm.codeBtn))])],1)],1),_c('div',{staticClass:\"btnClass\"},[_c('el-button',{staticClass:\"width-360\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleLoginEvent}},[_vm._v(\"立即登录\")]),_c('el-button',{staticClass:\"width-360\",attrs:{\"type\":\"text\"},on:{\"click\":_vm.toLogin}},[_vm._v(\"账号密码登录\")])],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"margin-bottom-30\"},[_c('h1',[_vm._v(\"短信验证码登录\")])])}]\n\nexport { render, staticRenderFns }","<!--\n * @Descripttion: 登录页面\n * @version:\n * @Author: YZZ\n * @Date: 2020-04-02 15:57:38\n * @LastEditors: ZJM\n * @LastEditTime: 2022-10-23 17:34:32\n -->\n<template>\n  <div class=\"login_container\" @keyup.enter=\"handleLoginEvent\">\n    <div class=\"login_box\" style=\"height:450px\" >\n      <div class=\"margin-top-50\">\n      </div>\n      <div class=\"margin-bottom-30\">\n        <h1>短信验证码登录</h1>\n      </div>\n      <div class=\"margin-bottom-20\">\n        <el-input\n          ref=\"phoneNumber\"\n          class=\"width-360 login-input\"\n          suffix-icon=\"login-account\"\n          placeholder=\"手机号\"\n          v-model.trim=\"phoneNumber\"\n          clearable\n        ></el-input>\n      </div>\n      <div class=\"margin-bottom-15\">\n        <el-input\n          ref=\"code\"\n          maxlength=\"6\"\n          class=\"width-360 login-input\"\n          suffix-icon=\"login-password\"\n          placeholder=\"验证码\"\n          v-model.trim=\"code\"\n          clearable\n        >\n          <el-button\n            slot=\"append\"\n            type=\"button\"\n            @click=\"getCode\"\n            :disabled=\"!canClick\"\n            >{{ codeBtn }}</el-button\n          >\n        </el-input>\n      </div>\n      <div class=\"btnClass\">\n        <el-button class=\"width-360\" type=\"primary\" @click=\"handleLoginEvent\"\n          >立即登录</el-button\n        >\n        <el-button class=\"width-360\" type=\"text\" @click=\"toLogin\"\n          >账号密码登录</el-button\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { showErrorNotify } from '@/utils/notify';\nimport { STATUS_CODE, TITLE } from '@/utils/constantsFile';\n// 导入所需接口\nimport { phoneLogin } from '@/api/public';\n// 导入所需接口\nimport { userPhoneLoginRegisterSendCodeAction } from '@/api/management';\nexport default {\n  name: 'Login',\n\n  data() {\n    return {\n      // 能否点击\n      codeBtn: '获取验证码',\n      setIn: '',\n      canClick: true,\n      time: 59,\n      // 手机号\n      phoneNumber: '',\n\n      // 密码\n      code: ''\n\n      // // 是否记住密码\n      // isPasswordKept: true\n    };\n  },\n\n  methods: {\n    getCode() {\n      var reg = /^1[0-9]{10}$/;\n      if (\n        this.phoneNumber === '' ||\n        this.phoneNumber.length <= 10 ||\n        !reg.test(this.phoneNumber)\n      ) {\n        this.$message({\n          showClose: true,\n          message: '请输入正确的手机号码!',\n          type: 'warning'\n        });\n        this.$refs.phoneNumber.focus();\n        return false;\n      }\n      this.toSend();\n    },\n    toSend() {\n      var json = {\n        phoneNumber: this.phoneNumber\n      };\n      userPhoneLoginRegisterSendCodeAction(json).then((res) => {\n        // 请求数据正常\n        if (res.code === this.GLOBAL.STATUS_CODE.OPERATION_SUCCESS) {\n          this.canClick = false;\n          this.codeBtn = this.time-- + '秒';\n          this.toTime();\n          // 操作成功提示\n          this.$message({\n            showClose: true,\n            message: res.message,\n            type: 'success'\n          });\n        } else {\n          // 操作异常提示\n          this.$message({\n            showClose: true,\n            message: res.message,\n            type: 'warning'\n          });\n        }\n      });\n    },\n    toTime() {\n      const _that = this;\n      setTimeout(() => {\n        if (_that.time === 0) {\n          _that.codeBtn = '获取验证码';\n          _that.canClick = true;\n          _that.time = 59;\n        } else {\n          var num = _that.time--;\n          if (num < 10) {\n            _that.codeBtn = '0' + num + '秒';\n          } else {\n            _that.codeBtn = num + '秒';\n          }\n          _that.toTime();\n        }\n      }, 1000);\n    },\n    /**\n     * @description: “立即登录”按钮点击事件\n     * @param 无\n     * @return: void\n     * @author: cyb\n     */\n    handleLoginEvent() {\n      var reg = /^1[0-9]{10}$/;\n      if (\n        this.phoneNumber === '' ||\n        this.phoneNumber.length <= 10 ||\n        !reg.test(this.phoneNumber)\n      ) {\n        this.$message({\n          showClose: true,\n          message: '请输入正确的手机号码!',\n          type: 'warning'\n        });\n        this.$refs.phoneNumber.focus();\n        return false;\n      }\n\n      // 提示验证码不能为空\n      if (!this.code) {\n        this.$message({\n          showClose: true,\n          message: '验证码不能为空！',\n          type: 'warning'\n        });\n        this.$refs.code.focus();\n        return false;\n      }\n      this.login();\n    },\n    async login() {\n      try {\n        this.tableLoading = true;\n        const res = await phoneLogin(\n          {},\n          {\n            phoneNumber: this.phoneNumber,\n            code: this.code\n          }\n        );\n        if (res.code === STATUS_CODE.OPERATION_SUCCESS) {\n          localStorage.setItem('token', JSON.stringify(res.rows.token));\n          localStorage.setItem('realName', JSON.stringify(res.rows.realName));\n          localStorage.setItem('userId', JSON.stringify(res.rows.userId));\n          this.$router.push('/');\n        } else {\n          // 提示异常信息\n          this.$message({\n            showClose: true,\n            message: res.message,\n            type: 'warning'\n          });\n        }\n      } catch (error) {\n        showErrorNotify(TITLE.NOTIFY, error);\n      } finally {\n      }\n    },\n    toLogin() {\n      this.$router.push({\n        path: '/loginPage'\n      });\n    }\n  },\n\n  mounted() {\n    // 用户名输入框自动获取焦点\n    this.$refs.phoneNumber.focus();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.login_container {\n  background-color: #0871dc;\n  height: 100%;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.login_box {\n  width: 450px;\n  height: 550px;\n  background-color: #fff;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n.margin-top-50 {\n  margin-top: 50px;\n}\n\n.width-360 {\n  width: 360px;\n}\n\n.margin-bottom-40 {\n  margin-bottom: 40px;\n}\n\n.margin-bottom-30 {\n  margin-bottom: 30px;\n}\n\n.margin-bottom-20 {\n  margin-bottom: 20px;\n}\n\n.margin-bottom-15 {\n  margin-bottom: 15px;\n}\n\n.display-grid {\n  display: grid;\n  grid-template-columns: 180px 180px;\n}\n\n// “记住密码”checkbox靠左对齐\n.justify-self-start {\n  justify-self: start;\n}\n\n// “忘记密码”链接靠右对齐\n.justify-self-end {\n  justify-self: end;\n}\n\n// 调整输入框中的icon的位置\n.login-input /deep/ .el-input__icon {\n  margin-top: 4px;\n}\n\n.btnClass {\n  text-align: center;\n  margin-top: 62px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaptchaLoginPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaptchaLoginPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CaptchaLoginPage.vue?vue&type=template&id=becfdabc&scoped=true&\"\nimport script from \"./CaptchaLoginPage.vue?vue&type=script&lang=js&\"\nexport * from \"./CaptchaLoginPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CaptchaLoginPage.vue?vue&type=style&index=0&id=becfdabc&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"becfdabc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaptchaLoginPage.vue?vue&type=style&index=0&id=becfdabc&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CaptchaLoginPage.vue?vue&type=style&index=0&id=becfdabc&lang=less&scoped=true&\""],"sourceRoot":""}