(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24fbdf9d"],{"071a":function(e,t,a){"use strict";var i=a("479c"),n=a.n(i);n.a},"07ac":function(e,t,a){var i=a("23e7"),n=a("6f53").values;i({target:"Object",stat:!0},{values:function(e){return n(e)}})},"08ec":function(e,t,a){"use strict";var i=a("bade"),n=a.n(i);n.a},"1bd6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",[a("HeaderTitle",{staticClass:"header-title"})],1),a("el-main",{staticClass:"view mm"},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-tabs",{staticClass:"mm-tabs",attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:e.CONSTANTS_CHECK.CHECK_ITEMCONFIG,name:"first"}},[a("el-row",{staticClass:"tab-details"},[1==e.table&&0==e.CHECK_IMG?a("checkItem"):e._e(),1==e.table&&1==e.CHECK_IMG?a("checkItemRz"):e._e()],1)],1),a("el-tab-pane",{attrs:{label:e.CONSTANTS_CHECK.CHECK_SCENES,name:"second"}},[a("el-row",{staticClass:"tab-details"},[2==e.table?a("checkScenes"):e._e()],1)],1),a("el-tab-pane",{attrs:{label:e.CONSTANTS_CHECK.CHECK_TEMPLATECONFIG,name:"third"}},[a("el-row",{staticClass:"tab-details"},[3==e.table?a("checkTemplate"):e._e()],1)],1),a("el-tab-pane",{attrs:{label:e.CONSTANTS_CHECK.CHECK_RELATION,name:"fourth"}},[a("el-row",{staticClass:"tab-details"},[4==e.table?a("checkTemplateRelation"):e._e()],1)],1)],1)],1)],1)],1)],1)},n=[],o=a("85a8"),s=a("99f6"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.showPage,expression:"showPage === 0"}]},[a("el-col",{staticClass:"leftparts",attrs:{span:24}},[a("header-buttons",{attrs:{cssType:"1",showTitle:"true",toRight:"true",titleName:e.CONSTANTS_CHECK.CHECK_LIST},on:{buttonClickEvent:e.buttonClickEvent}}),a("div",{staticStyle:{padding:"10px 0"}},[a("span",[e._v("点检项:")]),a("el-input",{staticStyle:{width:"160px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.input_djx,callback:function(t){e.input_djx=t},expression:"input_djx"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.getCheckOptionData}},[e._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v("重置")])],1),a("VXETable",{ref:"itemConfig",attrs:{tableName:e.CONSTANTS_CHECK.CHECK_ITEMCONFIG,height:e.$options.filters.getTableHeight(300),tableLoading:e.tableLoading,"pager-config":e.optionData.page,tableDatas:e.optionData.data,tableColumns:e.optionData.columns,tablePage:e.optionData.page,highlightCurrentRow:!0},on:{onTablePageChange:e.handleOptionTablePageChange,chooseCheck:e.checkboxChangeEvent}})],1),a("create-check-option-modal",{attrs:{showDialog:e.showCreateCheck,isAdd:e.isAddItem,data:e.selectOptions,title:e.modalTitle,handleCancel:e.clickCreateCheckCancel,handleConfirm:e.addOrUpdateCheckOption,handleClose:e.clickCreateCheckCancel}}),e.isImportDialogShow?a("ImportDialog",{ref:"ImportDialog",attrs:{importDialogName:e.EXPORT_NAME.CHECK_TITLE,exportFileName:e.EXPORT_NAME.CHECK_TEMPLATE},on:{exportTemplate:e.exportTemplate,submitImportFile:e.submitImportFile,findTableList:e.findTableList,closeImportDialog:e.closeImportDialog}}):e._e()],1),1===e.showPage?a("div",[a("addItem",{on:{goBack:e.goBack}})],1):e._e()])},c=[],l=(a("4160"),a("159b"),a("96cf"),a("1da1")),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{class:["create-maintaince-option",e.$store.state.dialogMarginClass],attrs:{width:"30%",title:e.title,visible:e.showDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.showDialog=t},closed:e.closeAction}},[a("div",{staticClass:"content"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.formUpdate,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticClass:"content-label",attrs:{label:e.CONSTANTS_CHECK.ITEM,prop:"itemName"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.formUpdate.itemName,callback:function(t){e.$set(e.formUpdate,"itemName",t)},expression:"formUpdate.itemName"}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAction}},[e._v(e._s(e.confirmLabel))]),a("el-button",{attrs:{type:"tertiary"},on:{click:e.cancelAction}},[e._v(e._s(e.cancelLabel))])],1)])},u=[],h=a("582a"),m={name:"CreateCheckOptionModal",props:{title:{type:String,default:""},cancelLabel:{type:String,default:h["c"].CANCEL},confirmLabel:{type:String,default:h["c"].SAVE},showDialog:{type:Boolean,default:!1},isAdd:{type:Boolean,default:!0},data:{type:Object,default:function(){}},handleCancel:Function,handleConfirm:Function,handleClose:Function},data:function(){return{CONSTANTS_CHECK:h["g"],formUpdate:{itemName:""},itemName:"",rules:{itemName:[{required:!0,message:h["H"].PLEASE_ENTER_CONTENT,trigger:"blur"},{max:100,message:"长度不得大于100个字符"}]}}},watch:{data:function(e,t){this.data?(this.formUpdate.itemName=this.data.itemName,this.itemName=this.data.itemName):(this.formUpdate.itemName="",this.itemName="")}},methods:{cancelAction:function(){this.$refs.ruleForm.clearValidate(),this.handleCancel&&this.handleCancel()},confirmAction:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(t){var a={isAdd:e.isAdd,data:e.formUpdate.itemName};e.isAdd||(a.id=e.data.itemId),e.handleConfirm(a)}}))},closeAction:function(){this.$refs.ruleForm.clearValidate(),this.handleClose&&this.handleClose()}}},d=m,p=(a("bfc5"),a("2877")),C=Object(p["a"])(d,f,u,!1,null,null,null),g=C.exports,T=a("cf46"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"content"},[a("el-header",[a("header-buttons",{attrs:{cssType:"99",showBack:"true",showTitle:"true",titleName:e.titleName},on:{buttonClickEvent:e.buttonClickEvent}})],1),a("el-main",[a("div",{staticClass:"area-main"},[a("vxe-grid",{ref:"xGrid",staticClass:"vxe-table-element",attrs:{border:"full",resizable:"","keep-source":"",height:e.$options.filters.getTableHeight(250),"edit-rules":e.validRules,columns:e.tableColumns,data:e.tableDatas,"edit-config":{trigger:"click",mode:"row",showStatus:!0,icon:"fa fa-file-text-o"}}})],1)])],1)},E=[],O=(a("99af"),a("d81d"),a("07ac"),a("5530")),v=a("5861"),N=a("b58d"),k=a("3fa5"),S=a("6464"),I={components:{HeaderTitle:o["a"],HeadOperationItem:v["a"]},props:{},data:function(){var e=this,t=this.$createElement;return{BTN_TEXT:h["c"],imageUrl:"",titleName:h["g"].ADD_CHECK_POINT,validRules:{itemName:[{required:!0,message:h["H"].PLEASE_ENTER_CONTENT},{max:100,message:"长度不得大于100个字符"}]},editConfig:{trigger:"click",mode:"row",showStatus:!0},tableDatas:[],tableColumns:[{field:"itemName",title:h["g"].ITEM,align:"center",editRender:{name:"textarea"}},{field:"",title:h["c"].OPERATION,width:"100",align:"center",slots:{default:function(a){var i=a.row,n=a.column;return[t("i",{on:{click:function(){return e.copyRow(i,n)}},class:"icon-table-addRow"}),t("i",{on:{click:function(){return e.deleteRow(i,n)}},class:"icon-table-delete"})]}}}]}},computed:{},created:function(){},mounted:function(){this.insertEvent()},methods:{buttonClickEvent:function(e){"exit"!==e?this["".concat(e)]():this.goBack()},deleteRow:function(e,t){var a=this;this.$XModal.confirm(h["H"].CONFIRM_DELETE).then((function(t){"confirm"===t&&a.$refs.xGrid.remove(e)}))},insertEvent:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={itemName:"",extend18:0},t.next=3,e.$refs.xGrid.insertAt(a,-1);case 3:case"end":return t.stop()}}),t)})))()},copyRow:function(e,t){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.$refs.xGrid.clearActived(),i=Object(O["a"])({},e),delete i._XID,t.next=5,a.$refs.xGrid.insertAt(i,e);case 5:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.$refs.xGrid.getRecordset(),i=a.insertRecords,n=JSON.parse(JSON.stringify(i)),t.next=5,Object(N["o"])({},n);case 5:o=t.sent,o.code===h["M"].OPERATION_SUCCESS?(e.goBack(),Object(k["b"])(o.message)):Object(k["c"])(o.message),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),Object(S["a"])(h["N"].NOTIFY,t.t0);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[0,9,12,14]])})))()},fullValidEvent:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$createElement,t.next=3,e.$refs.xGrid.fullValidate().catch((function(e){return e}));case 3:i=t.sent,i?(n=[],Object.values(i).forEach((function(e){e.forEach((function(e,t){var a=e.column,i=e.rules;i.forEach((function(e){n.push("".concat(h["P"].THE," ").concat(t+1," ").concat(h["P"].ROW," ").concat(a.title," ").concat(h["H"].VALIDATION_FAILED,"：").concat(e.message))}))}))})),e.$XModal.alert({status:"error",message:function(){return[a("div",{class:"red",style:"max-height: 400px;overflow: auto;"},[n.map((function(e){return a("div",[e])}))])]}})):e.submit();case 5:case"end":return t.stop()}}),t)})))()},goBack:function(){this.$emit("goBack",h["P"].ZERO_NUMBER)}}},_=I,w=_,x=(a("8200"),Object(p["a"])(w,b,E,!1,null,"630f8a29",null)),L=x.exports,A=a("b314"),D=a("3f2a"),R=a("4eee"),j={components:{CreateCheckOptionModal:g,VXETable:T["a"],HeaderTitle:o["a"],HeadOperationItem:v["a"],ImportDialog:A["a"],addItem:L},props:{},data:function(){return{EXPORT_NAME:h["y"],BTN_TEXT:h["c"],CONSTANTS_CHECK:h["g"],modalTitle:"",tableLoading:!1,showCreateCheck:!1,showPage:0,isAddItem:!0,selectOptions:null,optionData:{page:{total:10,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],perfect:!0,slots:{left:"pager_left"},layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"]},columns:[{type:"radio",align:"center",visible:!0,width:"50"},{field:"itemName",title:h["g"].ITEM,align:"center"}],data:[]},selectRecords:[],checkOptionDetail:{itemId:null,itemName:null},isImportDialogShow:!1,input_djx:""}},methods:{buttonClickEvent:function(e){this["".concat(e)]()},handleCommand:function(e,t){switch(e){case"info":this.showCreateCheckModal(t);break;case"delete":this.deleteCheckOption([t]);break;default:break}},addItem:function(){this.modalTitle=h["g"].ADD_CHECK_POINT,this.showPage=1},goBack:function(){this.showPage=0,this.getCheckOptionData()},showCreateCheckModal:function(){console.log(777);var e={};if(!this.$refs.itemConfig.getRadioRecord())return Object(k["c"])("请选择要操作的数据！"),!1;e=this.$refs.itemConfig.getRadioRecord(),e&&(this.isAddItem=!1,this.selectOptions=e,this.modalTitle=h["g"].UPDATE_CHECK_POINT),this.showCreateCheck=!0},addOrUpdateCheckOption:function(e){var t=this;e.isAdd?Object(N["n"])({itemName:e.data,extend18:e.extend18}).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.showCreateCheck=!1,t.getCheckOptionData(),Object(k["b"])(e.message)):(t.showCreateCheck=!1,Object(k["c"])(e.message))})).catch((function(e){t.showCreateCheck=!1,Object(S["a"])(e)})):Object(N["p"])({itemId:e.id,itemName:e.data}).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.showCreateCheck=!1,t.getCheckOptionData(),Object(k["b"])(e.message)):(t.showCreateCheck=!1,Object(k["c"])(e.message))})).catch((function(e){t.showCreateCheck=!1,Object(S["a"])(e)}))},clickCreateCheckCancel:function(){this.showCreateCheck=!1,this.isAddItem=!0,this.selectOptions=null},checkboxChangeEvent:function(e){this.selectRecords=e},reset:function(){this.input_djx="",this.getCheckOptionData()},getCheckOptionData:function(){var e=this;this.tableLoading=!0;var t={};this.optionData&&this.optionData.page&&(t={current:this.optionData.page.currentPage,size:this.optionData.page.pageSize});var a={conditionJson1:[]};this.input_djx&&a.conditionJson1.push({column:"itemName",operator:1,ptype:"string",type:"like",value:this.input_djx}),Object(N["m"])(t,a).then((function(t){e.tableLoading=!1,t.code===h["M"].OPERATION_SUCCESS?(e.optionData.data=t.rows,e.optionData.page.total=t.total):Object(k["c"])(t.message)})).catch((function(t){e.tableLoading=!1,Object(S["a"])(t)}))},handleOptionTablePageChange:function(e,t){this.optionData.page.currentPage=e,this.optionData.page.pageSize=t,this.getCheckOptionData()},toDelete:function(){var e={};if(!this.$refs.itemConfig.getRadioRecord())return Object(k["c"])("请选择要操作的数据！"),!1;e=this.$refs.itemConfig.getRadioRecord(),this.deleteCheckOption([e])},deleteCheckOption:function(e){var t=this;this.$confirm(h["H"].CONFIRM_DELETE,h["N"].PROMPT,{confirmButtonText:h["c"].CONFIRM,cancelButtonText:h["c"].CANCEL,type:"warning"}).then((function(){var a=[];e.forEach((function(e){a.push(e.itemId)})),t.setDeleteCheckOption(a)})).catch((function(){}))},setDeleteCheckOption:function(e){var t=this;Object(N["k"])({ids:e}).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.getCheckOptionData(),Object(k["b"])(e.message)):(t.showCreateCheck=!1,Object(k["c"])(e.message))})).catch((function(e){t.showCreateCheck=!1,Object(S["a"])(e)}))},importTable:function(){var e=this;this.isImportDialogShow=!0,setTimeout((function(){e.$refs.ImportDialog.isShow=!0,e.$refs.ImportDialog.resetUploadProgressBar()}),0)},exportTemplate:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(D["g"])();case 3:a=t.sent,void 0!==a.data.code?Object(k["c"])(a.message):e.$options.filters.setExportFunc(a,h["y"].CHECK_TEMPLATE),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(S["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},submitImportFile:function(e){var t=this,a=e.file,i=new FormData;i.append("file",a),console.log(i),Object(R["a"])({},i,{onUploadProgress:function(e){var a=Math.floor(100*e.loaded/e.total);t.$refs.ImportDialog.uploadPercent=a}}).then((function(t){t.code===h["M"].OPERATION_SUCCESS?e.onSuccess(t):e.onError(t)})).catch((function(t){Object(k["c"])(t),e.onError(t)}))},closeImportDialog:function(){this.getCheckOptionData(),this.isImportDialogShow=!1},refreshTable:function(){this.getCheckOptionData()}},created:function(){this.getCheckOptionData()}},P=j,y=P,H=(a("654b"),a("4538"),Object(p["a"])(y,r,c,!1,null,"43fb5b6e",null)),M=H.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:0===e.showPage,expression:"showPage === 0"}]},[a("el-col",{staticClass:"leftparts",attrs:{span:24}},[a("header-buttons",{attrs:{cssType:"1",showTitle:"true",toRight:"true",titleName:e.CONSTANTS_CHECK.CHECK_LIST},on:{buttonClickEvent:e.buttonClickEvent}}),a("div",{staticStyle:{padding:"10px 0"}},[a("span",[e._v("点检项:")]),a("el-input",{staticStyle:{width:"160px"},attrs:{size:"mini",placeholder:"请输入内容"},model:{value:e.input_djx,callback:function(t){e.input_djx=t},expression:"input_djx"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"mini",type:"primary"},on:{click:e.getCheckOptionData}},[e._v("查询")]),a("el-button",{attrs:{size:"mini"},on:{click:e.reset}},[e._v("重置")])],1),a("VXETable",{ref:"itemConfig",attrs:{tableName:e.CONSTANTS_CHECK.CHECK_ITEMCONFIG,height:e.$options.filters.getTableHeight(240),tableLoading:e.tableLoading,"pager-config":e.optionData.page,tableDatas:e.optionData.data,tableColumns:e.optionData.columns,tablePage:e.optionData.page,highlightCurrentRow:!0},on:{onTablePageChange:e.handleOptionTablePageChange,chooseCheck:e.checkboxChangeEvent}})],1),a("create-check-option-modal",{attrs:{showDialog:e.showCreateCheck,isAdd:e.isAddItem,data:e.selectOptions,title:e.modalTitle,handleCancel:e.clickCreateCheckCancel,handleConfirm:e.addOrUpdateCheckOption,handleClose:e.clickCreateCheckCancel}}),e.isImportDialogShow?a("ImportDialog",{ref:"ImportDialog",attrs:{importDialogName:e.EXPORT_NAME.CHECK_TITLE,exportFileName:e.EXPORT_NAME.CHECK_TEMPLATE},on:{exportTemplate:e.exportTemplate,submitImportFile:e.submitImportFile,findTableList:e.findTableList,closeImportDialog:e.closeImportDialog}}):e._e()],1),1===e.showPage?a("div",[a("addItem",{on:{goBack:e.goBack}})],1):e._e()])},F=[],$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{class:["create-maintaince-option",e.$store.state.dialogMarginClass],attrs:{width:"30%",title:e.title,visible:e.showDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.showDialog=t},closed:e.closeAction}},[a("div",{staticClass:"content"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.formUpdate,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{staticClass:"content-label",attrs:{label:e.CONSTANTS_CHECK.ITEM,prop:"itemName"}},[a("el-input",{attrs:{type:"textarea",rows:4},model:{value:e.formUpdate.itemName,callback:function(t){e.$set(e.formUpdate,"itemName",t)},expression:"formUpdate.itemName"}})],1),a("el-form-item",{staticClass:"content-label",attrs:{label:"是否必传图片"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.formUpdate.extend18,callback:function(t){e.$set(e.formUpdate,"extend18",t)},expression:"formUpdate.extend18"}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAction}},[e._v(e._s(e.confirmLabel))]),a("el-button",{attrs:{type:"tertiary"},on:{click:e.cancelAction}},[e._v(e._s(e.cancelLabel))])],1)])},K=[],B={name:"CreateCheckOptionModal",props:{title:{type:String,default:""},cancelLabel:{type:String,default:h["c"].CANCEL},confirmLabel:{type:String,default:h["c"].SAVE},showDialog:{type:Boolean,default:!1},isAdd:{type:Boolean,default:!0},data:{type:Object,default:function(){}},handleCancel:Function,handleConfirm:Function,handleClose:Function},data:function(){return{CONSTANTS_CHECK:h["g"],formUpdate:{itemName:"",extend18:0},itemName:"",rules:{itemName:[{required:!0,message:h["H"].PLEASE_ENTER_CONTENT,trigger:"blur"},{max:100,message:"长度不得大于100个字符"}]}}},watch:{data:function(e,t){console.log(666),this.data?(this.formUpdate.itemName=this.data.itemName,this.itemName=this.data.itemName):(this.formUpdate.itemName="",this.itemName=""),console.log(this.data.extend18),this.data.extend18?this.formUpdate.extend18=1:this.formUpdate.extend18=0,console.log(this.formUpdate)}},methods:{cancelAction:function(){this.$refs.ruleForm.clearValidate(),this.handleCancel&&this.handleCancel()},confirmAction:function(){var e=this;this.$refs.ruleForm.validate((function(t){if(t){var a={isAdd:e.isAdd,data:e.formUpdate.itemName,extend18:e.formUpdate.extend18};e.isAdd||(a.id=e.data.itemId),e.handleConfirm(a)}}))},closeAction:function(){this.$refs.ruleForm.clearValidate(),this.handleClose&&this.handleClose()}}},z=B,G=(a("dd8e"),Object(p["a"])(z,$,K,!1,null,null,null)),J=G.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"content"},[a("el-header",[a("header-buttons",{attrs:{cssType:"99",showBack:"true",showTitle:"true",titleName:e.titleName},on:{buttonClickEvent:e.buttonClickEvent}})],1),a("el-main",[a("div",{staticClass:"area-main"},[a("vxe-grid",{ref:"xGrid",staticClass:"vxe-table-element",attrs:{border:"full",resizable:"","keep-source":"",height:"550","edit-rules":e.validRules,columns:e.tableColumns,data:e.tableDatas,"edit-config":{trigger:"click",mode:"row",showStatus:!0,icon:"fa fa-file-text-o"}}})],1)])],1)},X=[],W={components:{HeaderTitle:o["a"],HeadOperationItem:v["a"]},props:{},data:function(){var e=this,t=this.$createElement;return{BTN_TEXT:h["c"],imageUrl:"",titleName:h["g"].ADD_CHECK_POINT,validRules:{itemName:[{required:!0,message:h["H"].PLEASE_ENTER_CONTENT}]},editConfig:{trigger:"click",mode:"row",showStatus:!0},tableDatas:[],tableColumns:[{field:"itemName",title:h["g"].ITEM,align:"center",editRender:{name:"textarea"}},{field:"extend18",title:"是否必传图片",align:"center",cellRender:{name:"ElSwitch",props:{inactiveValue:0,activeValue:1}}},{field:"",title:h["c"].OPERATION,width:"100",align:"center",slots:{default:function(a){var i=a.row,n=a.column;return[t("i",{on:{click:function(){return e.copyRow(i,n)}},class:"icon-table-addRow"}),t("i",{on:{click:function(){return e.deleteRow(i,n)}},class:"icon-table-delete"})]}}}]}},computed:{},created:function(){},mounted:function(){this.insertEvent()},methods:{buttonClickEvent:function(e){"exit"!==e?this["".concat(e)]():this.goBack()},deleteRow:function(e,t){var a=this;this.$XModal.confirm(h["H"].CONFIRM_DELETE).then((function(t){"confirm"===t&&a.$refs.xGrid.remove(e)}))},insertEvent:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={itemName:"",extend18:0},t.next=3,e.$refs.xGrid.insertAt(a,-1);case 3:case"end":return t.stop()}}),t)})))()},copyRow:function(e,t){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.$refs.xGrid.clearActived(),i=Object(O["a"])({},e),delete i._XID,t.next=5,a.$refs.xGrid.insertAt(i,e);case 5:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=e.$refs.xGrid.getRecordset(),i=a.insertRecords,n=JSON.parse(JSON.stringify(i)),t.next=5,Object(N["o"])({},n);case 5:o=t.sent,o.code===h["M"].OPERATION_SUCCESS?(e.goBack(),Object(k["b"])(o.message)):Object(k["c"])(o.message),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),Object(S["a"])(h["N"].NOTIFY,t.t0);case 12:return t.prev=12,t.finish(12);case 14:case"end":return t.stop()}}),t,null,[[0,9,12,14]])})))()},fullValidEvent:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.$createElement,t.next=3,e.$refs.xGrid.fullValidate().catch((function(e){return e}));case 3:i=t.sent,i?(n=[],Object.values(i).forEach((function(e){e.forEach((function(e,t){var a=e.column,i=e.rules;i.forEach((function(e){n.push("".concat(h["P"].THE," ").concat(t+1," ").concat(h["P"].ROW," ").concat(a.title," ").concat(h["H"].VALIDATION_FAILED,"：").concat(e.message))}))}))})),e.$XModal.alert({status:"error",message:function(){return[a("div",{class:"red",style:"max-height: 400px;overflow: auto;"},[n.map((function(e){return a("div",[e])}))])]}})):e.submit();case 5:case"end":return t.stop()}}),t)})))()},goBack:function(){this.$emit("goBack",h["P"].ZERO_NUMBER)}}},q=W,Y=q,Z=(a("401a"),Object(p["a"])(Y,V,X,!1,null,"528660ba",null)),Q=Z.exports,ee={components:{CreateCheckOptionModal:J,VXETable:T["a"],HeaderTitle:o["a"],HeadOperationItem:v["a"],ImportDialog:A["a"],addItem:Q},props:{},data:function(){var e=this.$createElement;return{EXPORT_NAME:h["y"],BTN_TEXT:h["c"],CONSTANTS_CHECK:h["g"],modalTitle:"",tableLoading:!1,showCreateCheck:!1,showPage:0,isAddItem:!0,selectOptions:null,optionData:{page:{total:10,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],perfect:!0,slots:{left:"pager_left"},layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"]},columns:[{type:"radio",align:"center",visible:!0,width:"50"},{field:"itemId",title:"ID",align:"center",width:"80"},{field:"itemName",title:h["g"].ITEM,align:"center"},{field:"extend18",title:"是否必传图片",align:"center",slots:{default:function(t){var a=t.row;t.column;return 1===a.extend18?[e("span",{style:"color:#409eff;"},["是"])]:["否"]}}}],data:[]},selectRecords:[],checkOptionDetail:{itemId:null,itemName:null},isImportDialogShow:!1,input_djx:""}},methods:{buttonClickEvent:function(e){this["".concat(e)]()},handleCommand:function(e,t){switch(e){case"info":this.showCreateCheckModal(t);break;case"delete":this.deleteCheckOption([t]);break;default:break}},addItem:function(){this.modalTitle=h["g"].ADD_CHECK_POINT,this.showPage=1},goBack:function(){this.showPage=0,this.getCheckOptionData()},showCreateCheckModal:function(){console.log(777);var e={};if(!this.$refs.itemConfig.getRadioRecord())return Object(k["c"])("请选择要操作的数据！"),!1;e=this.$refs.itemConfig.getRadioRecord(),e&&(this.isAddItem=!1,this.selectOptions=e,this.modalTitle=h["g"].UPDATE_CHECK_POINT),this.showCreateCheck=!0},addOrUpdateCheckOption:function(e){var t=this;e.isAdd?Object(N["n"])({itemName:e.data,extend18:e.extend18}).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.showCreateCheck=!1,t.getCheckOptionData(),Object(k["b"])(e.message)):(t.showCreateCheck=!1,Object(k["c"])(e.message))})).catch((function(e){t.showCreateCheck=!1,Object(S["a"])(e)})):Object(N["p"])({itemId:e.id,itemName:e.data,extend18:e.extend18}).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.showCreateCheck=!1,t.getCheckOptionData(),Object(k["b"])(e.message)):(t.showCreateCheck=!1,Object(k["c"])(e.message))})).catch((function(e){t.showCreateCheck=!1,Object(S["a"])(e)}))},clickCreateCheckCancel:function(){this.showCreateCheck=!1,this.isAddItem=!0,this.selectOptions=null},checkboxChangeEvent:function(e){this.selectRecords=e},reset:function(){this.input_djx="",this.getCheckOptionData()},getCheckOptionData:function(){var e=this;this.tableLoading=!0;var t={};this.optionData&&this.optionData.page&&(t={current:this.optionData.page.currentPage,size:this.optionData.page.pageSize});var a={conditionJson1:[]};this.input_djx&&a.conditionJson1.push({column:"itemName",operator:1,ptype:"string",type:"like",value:this.input_djx}),Object(N["m"])(t,a).then((function(t){e.tableLoading=!1,t.code===h["M"].OPERATION_SUCCESS?(e.optionData.data=t.rows,e.optionData.page.total=t.total):Object(k["c"])(t.message)})).catch((function(t){e.tableLoading=!1,Object(S["a"])(t)}))},handleOptionTablePageChange:function(e,t){this.optionData.page.currentPage=e,this.optionData.page.pageSize=t,this.getCheckOptionData()},toDelete:function(){var e={};if(!this.$refs.itemConfig.getRadioRecord())return Object(k["c"])("请选择要操作的数据！"),!1;e=this.$refs.itemConfig.getRadioRecord(),this.deleteCheckOption([e])},deleteCheckOption:function(e){var t=this;this.$confirm(h["H"].CONFIRM_DELETE,h["N"].PROMPT,{confirmButtonText:h["c"].CONFIRM,cancelButtonText:h["c"].CANCEL,type:"warning"}).then((function(){var a=[];e.forEach((function(e){a.push(e.itemId)})),t.setDeleteCheckOption(a)})).catch((function(){}))},setDeleteCheckOption:function(e){var t=this;Object(N["k"])({ids:e}).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.getCheckOptionData(),Object(k["b"])(e.message)):(t.showCreateCheck=!1,Object(k["c"])(e.message))})).catch((function(e){t.showCreateCheck=!1,Object(S["a"])(e)}))},importTable:function(){var e=this;this.isImportDialogShow=!0,setTimeout((function(){e.$refs.ImportDialog.isShow=!0,e.$refs.ImportDialog.resetUploadProgressBar()}),0)},exportTemplate:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(D["g"])();case 3:a=t.sent,void 0!==a.data.code?Object(k["c"])(a.message):e.$options.filters.setExportFunc(a,h["y"].CHECK_TEMPLATE),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),Object(S["a"])(e.GLOBAL.TITLE.NOTIFY,t.t0);case 10:return t.prev=10,t.finish(10);case 12:case"end":return t.stop()}}),t,null,[[0,7,10,12]])})))()},submitImportFile:function(e){var t=this,a=e.file,i=new FormData;i.append("file",a),console.log(i),Object(R["a"])({},i,{onUploadProgress:function(e){var a=Math.floor(100*e.loaded/e.total);t.$refs.ImportDialog.uploadPercent=a}}).then((function(t){t.code===h["M"].OPERATION_SUCCESS?e.onSuccess(t):e.onError(t)})).catch((function(t){Object(k["c"])(t),e.onError(t)}))},closeImportDialog:function(){this.getCheckOptionData(),this.isImportDialogShow=!1},refreshTable:function(){this.getCheckOptionData()}},created:function(){this.getCheckOptionData()}},te=ee,ae=te,ie=(a("e67b"),a("e91a"),Object(p["a"])(ae,U,F,!1,null,"101ec3a2",null)),ne=ie.exports,oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"maintance-case-config"},[a("el-col",{staticClass:"leftparts",attrs:{span:24}},[a("header-buttons",{attrs:{cssType:"2",showTitle:"true",toRight:"true",titleName:e.CONSTANTS_CHECK.CHECK_SCENES_LIST},on:{buttonClickEvent:e.buttonClickEvent}}),a("VXETable",{ref:"itemConfig",attrs:{tableName:e.CONSTANTS_CHECK.CHECK_SCENES,height:e.$options.filters.getTableHeight(240),tableLoading:e.tableloading,"pager-config":e.scenesTable.page,tableDatas:e.scenesTable.data,tableColumns:e.scenesTable.columns,tablePage:e.scenesTable.page},on:{onTablePageChange:e.handlescenesTablePageChange,chooseCheck:e.checkboxChangeEvent}})],1),a("create-Scenes-modal",{attrs:{showDialog:e.showScenes.show,title:e.modalTitle,isAdd:e.isAddItem,formUpdate:e.selectCase,handleCancel:e.clickCreateScenesCancel,handleConfirm:e.addScenes,handleClose:e.clickCreateScenesCancel}}),a("create-Scenes-modals",{attrs:{showDialog:e.showScenes.show2,title:e.modalTitle,isAdd:e.isAddItem,formUpdate:e.selectCase,handleCancel:e.clickCreateScenesCancel,handleConfirm:e.addScenes,handleClose:e.clickCreateScenesCancel}})],1)},se=[],re=(a("a9e3"),a("ac1f"),a("1276"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{class:["create-time-option",e.$store.state.dialogMarginClass],attrs:{width:"65%",title:e.title,visible:e.showDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.showDialog=t},closed:e.closeAction}},[a("div",{staticClass:"content"},[a("el-form",{ref:"updateForm",staticClass:"dialogForm updateForm",attrs:{"label-width":"100px",model:e.formUpdate,rules:e.rulesUpdate}},[a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.SCENES_NAME+":",prop:"scenesName"}},[a("el-input",{model:{value:e.formUpdate.scenesName,callback:function(t){e.$set(e.formUpdate,"scenesName",t)},expression:"formUpdate.scenesName"}})],1),a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.EXTEND_TIME+":",prop:"extensionTime"}},[a("el-input",{model:{value:e.formUpdate.extensionTime,callback:function(t){e.$set(e.formUpdate,"extensionTime",t)},expression:"formUpdate.extensionTime"}})],1),a("div",{staticClass:"timescope"},[a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.CHECK_TIME+":"}},[a("el-select",{staticClass:"selectplace",model:{value:e.formUpdate.shiftLength,callback:function(t){e.$set(e.formUpdate,"shiftLength",t)},expression:"formUpdate.shiftLength"}},e._l(e.shiftOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",[e._l(e.formUpdate.shiftLength,(function(t,i){return a("el-row",{key:i,staticClass:"shiftDiv",attrs:{gutter:24}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.SHIFT_NAME+":",prop:"shiftInformationList."+i+".shiftName",rules:e.rulesUpdate.shiftName}},[a("el-input",{model:{value:e.formUpdate.shiftInformationList[i].shiftName,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i],"shiftName",t)},expression:"formUpdate.shiftInformationList[index].shiftName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.UP_SHIFT+":",prop:"shiftInformationList."+i+".shiftStartTime",rules:e.rulesUpdate.shiftStartTime}},[a("el-time-picker",{attrs:{format:"HH:mm","value-format":"HH:mm"},model:{value:e.formUpdate.shiftInformationList[i].shiftStartTime,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i],"shiftStartTime",t)},expression:"formUpdate.shiftInformationList[index].shiftStartTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.DOWN_NAME+":",prop:"shiftInformationList."+i+".shiftEndTime",rules:e.rulesUpdate.shiftEndTime}},[a("el-time-picker",{attrs:{format:"HH:mm","value-format":"HH:mm"},model:{value:e.formUpdate.shiftInformationList[i].shiftEndTime,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i],"shiftEndTime",t)},expression:"formUpdate.shiftInformationList[index].shiftEndTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{on:{click:function(t){return e.toggleColorTask(i)}}},[e._v("编辑时间段颜色")])],1),e.formUpdate.shiftInformationList[i].shiftShowColor?a("el-col",{attrs:{span:24}},[a("el-col",{staticClass:"dateTimeDetail",attrs:{span:24}},e._l(e.formUpdate.shiftInformationList[i].shifColorArr,(function(t,n){return a("div",{key:n,staticClass:"dateColorLine"},[a("el-color-picker",{attrs:{size:"small"},model:{value:e.formUpdate.shiftInformationList[i].shifColorArr[n].color,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i].shifColorArr[n],"color",t)},expression:"formUpdate.shiftInformationList[index].shifColorArr[indexb].color"}}),a("el-time-picker",{staticStyle:{"margin-left":"40px"},attrs:{size:"mini",format:"HH:mm","value-format":"HH:mm"},model:{value:e.formUpdate.shiftInformationList[i].shifColorArr[n].sTime,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i].shifColorArr[n],"sTime",t)},expression:"formUpdate.shiftInformationList[index].shifColorArr[indexb].sTime"}}),a("span",{staticStyle:{margin:"0 10px"}},[e._v("至")]),a("el-time-picker",{attrs:{size:"mini",format:"HH:mm","value-format":"HH:mm"},model:{value:e.formUpdate.shiftInformationList[i].shifColorArr[n].eTime,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i].shifColorArr[n],"eTime",t)},expression:"formUpdate.shiftInformationList[index].shifColorArr[indexb].eTime"}}),a("el-button",{staticStyle:{margin:"0 10px"},attrs:{size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(t){return e.addColorTime(e.formUpdate.shiftInformationList[i].shifColorArr)}}}),a("el-button",{attrs:{size:"mini",icon:"el-icon-minus",circle:""},on:{click:function(t){return e.minusColorTime(e.formUpdate.shiftInformationList[i].shifColorArr,n)}}})],1)})),0)],1):e._e()],1)})),a("span",{staticClass:"message"},[e._v("*所有班次时间不得超过24小时，单班次时间不得超过"+e._s(24/e.formUpdate.shiftLength)+"小时")])],2)],1),a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.REMARK+":",prop:"scenesRemark"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.formUpdate.scenesRemark,callback:function(t){e.$set(e.formUpdate,"scenesRemark",t)},expression:"formUpdate.scenesRemark"}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAction}},[e._v(e._s(e.confirmLabel))]),a("el-button",{attrs:{type:"tertiary"},on:{click:e.cancelAction}},[e._v(e._s(e.cancelLabel))])],1)])}),ce=[],le=(a("a434"),{name:"CreateMaintainceOptionModal",props:{title:{type:String,default:""},cancelLabel:{type:String,default:h["c"].CANCEL},confirmLabel:{type:String,default:h["c"].SAVE},showDialog:{type:Boolean,default:!1},isAdd:{type:Boolean,default:!0},formUpdate:{type:Object,default:function(){}},handleCancel:Function,handleConfirm:Function,handleClose:Function},data:function(){return{CONSTANTS_CHECK:h["g"],rulesUpdate:{scenesName:[{required:!0,message:h["H"].PLEASE_ENTER_CONTENT},{max:10,message:"长度不得大于10个字符"}],extensionTime:[{required:!0,message:h["H"].PLEASE_ENTER_CONTENT}],shiftName:[{required:!0,message:h["H"].PLEASE_ENTER_CONTENT},{max:10,message:"长度不得大于10个字符"}],shiftStartTime:[{required:!0,message:h["H"].PLEASE_CHOOSE_CONTENT}],shiftEndTime:[{required:!0,message:h["H"].PLEASE_CHOOSE_CONTENT}],scenesRemark:[{max:100,message:"长度不得大于100个字符"}]},shiftOptions:[{label:h["g"].ONE_SHIFT,value:1},{label:h["g"].TWO_SHIFT,value:2},{label:h["g"].THREE_SHIFT,value:3},{label:h["g"].FOUR_SHIFT,value:4}],color1:"#409EFF"}},methods:{addColorTime:function(e){e.push({sTime:"",eTime:"",color:"#1b0d74"})},minusColorTime:function(e,t){1!==e.length&&e.splice(t,1)},toggleColorTask:function(e){this.formUpdate.shiftInformationList[e].shiftShowColor=!this.formUpdate.shiftInformationList[e].shiftShowColor},cancelAction:function(){this.handleCancel&&this.handleCancel()},confirmAction:function(){var e=this;this.$refs.updateForm.validate((function(t){t&&e.handleConfirm(e.formUpdate)}))},closeAction:function(){this.handleClose&&this.handleClose()}},watch:{showDialog:function(e){var t=this;e?setTimeout((function(){t.$refs.updateForm.clearValidate()}),0):this.$refs.updateForm.resetFields()}},mounted:function(){}}),fe=le,ue=(a("5ce4"),Object(p["a"])(fe,re,ce,!1,null,"7b086e66",null)),he=ue.exports,me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{class:["create-time-option",e.$store.state.dialogMarginClass],attrs:{width:"65%",title:e.title,visible:e.showDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.showDialog=t},closed:e.closeAction}},[a("div",{staticClass:"content"},[a("el-form",{ref:"updateForm",staticClass:"dialogForm updateForm",attrs:{"label-width":"100px",model:e.formUpdate,rules:e.rulesUpdate}},[a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.SCENES_NAME+":",prop:"scenesName"}},[a("el-input",{model:{value:e.formUpdate.scenesName,callback:function(t){e.$set(e.formUpdate,"scenesName",t)},expression:"formUpdate.scenesName"}})],1),a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.EXTEND_TIME+":",prop:"extensionTime"}},[a("el-input",{model:{value:e.formUpdate.extensionTime,callback:function(t){e.$set(e.formUpdate,"extensionTime",t)},expression:"formUpdate.extensionTime"}})],1),a("div",{staticClass:"timescope"},[a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.CHECK_TIME+":"}},[a("el-select",{staticClass:"selectplace",model:{value:e.formUpdate.shiftLength,callback:function(t){e.$set(e.formUpdate,"shiftLength",t)},expression:"formUpdate.shiftLength"}},e._l(e.shiftOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("div",[e._l(e.formUpdate.shiftLength,(function(t,i){return a("el-row",{key:i,staticClass:"shiftDiv",attrs:{gutter:24}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.SHIFT_NAME+":",prop:"shiftInformationList."+i+".shiftName",rules:e.rulesUpdate.shiftName}},[a("el-input",{model:{value:e.formUpdate.shiftInformationList[i].shiftName,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i],"shiftName",t)},expression:"formUpdate.shiftInformationList[index].shiftName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.UP_SHIFT+":",prop:"shiftInformationList."+i+".shiftStartTime",rules:e.rulesUpdate.shiftStartTime}},[a("el-time-picker",{attrs:{format:"HH:mm","value-format":"HH:mm"},model:{value:e.formUpdate.shiftInformationList[i].shiftStartTime,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i],"shiftStartTime",t)},expression:"formUpdate.shiftInformationList[index].shiftStartTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.DOWN_NAME+":",prop:"shiftInformationList."+i+".shiftEndTime",rules:e.rulesUpdate.shiftEndTime}},[a("el-time-picker",{attrs:{format:"HH:mm","value-format":"HH:mm"},model:{value:e.formUpdate.shiftInformationList[i].shiftEndTime,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i],"shiftEndTime",t)},expression:"formUpdate.shiftInformationList[index].shiftEndTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-button",{on:{click:function(t){return e.toggleColorTask(i)}}},[e._v("编辑时间段颜色")])],1),e.formUpdate.shiftInformationList[i].shiftShowColor?a("el-col",{attrs:{span:24}},[a("el-col",{staticClass:"dateTimeDetail",attrs:{span:24}},e._l(e.formUpdate.shiftInformationList[i].shifColorArr,(function(t,n){return a("div",{key:n,staticClass:"dateColorLine"},[a("el-color-picker",{attrs:{size:"small"},model:{value:e.formUpdate.shiftInformationList[i].shifColorArr[n].color,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i].shifColorArr[n],"color",t)},expression:"formUpdate.shiftInformationList[index].shifColorArr[indexb].color"}}),a("el-time-picker",{staticStyle:{"margin-left":"40px"},attrs:{size:"mini",format:"HH:mm","value-format":"HH:mm"},model:{value:e.formUpdate.shiftInformationList[i].shifColorArr[n].sTime,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i].shifColorArr[n],"sTime",t)},expression:"formUpdate.shiftInformationList[index].shifColorArr[indexb].sTime"}}),a("span",{staticStyle:{margin:"0 10px"}},[e._v("至")]),a("el-time-picker",{attrs:{size:"mini",format:"HH:mm","value-format":"HH:mm"},model:{value:e.formUpdate.shiftInformationList[i].shifColorArr[n].eTime,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i].shifColorArr[n],"eTime",t)},expression:"formUpdate.shiftInformationList[index].shifColorArr[indexb].eTime"}}),a("span",{staticStyle:{margin:"0 10px"}},[e._v("是否超时推送：")]),a("el-switch",{model:{value:e.formUpdate.shiftInformationList[i].shifColorArr[n].checkOverTimePush,callback:function(t){e.$set(e.formUpdate.shiftInformationList[i].shifColorArr[n],"checkOverTimePush",t)},expression:"formUpdate.shiftInformationList[index].shifColorArr[indexb].checkOverTimePush"}}),a("el-button",{staticStyle:{margin:"0 10px"},attrs:{size:"mini",icon:"el-icon-plus",circle:""},on:{click:function(t){return e.addColorTime(e.formUpdate.shiftInformationList[i].shifColorArr)}}}),a("el-button",{attrs:{size:"mini",icon:"el-icon-minus",circle:""},on:{click:function(t){return e.minusColorTime(e.formUpdate.shiftInformationList[i].shifColorArr,n)}}})],1)})),0)],1):e._e()],1)})),a("span",{staticClass:"message"},[e._v("*所有班次时间不得超过24小时，单班次时间不得超过"+e._s(24/e.formUpdate.shiftLength)+"小时")])],2)],1),a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.REMARK+":",prop:"scenesRemark"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.formUpdate.scenesRemark,callback:function(t){e.$set(e.formUpdate,"scenesRemark",t)},expression:"formUpdate.scenesRemark"}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAction}},[e._v(e._s(e.confirmLabel))]),a("el-button",{attrs:{type:"tertiary"},on:{click:e.cancelAction}},[e._v(e._s(e.cancelLabel))])],1)])},de=[],pe={name:"CreateMaintainceOptionModal",props:{title:{type:String,default:""},cancelLabel:{type:String,default:h["c"].CANCEL},confirmLabel:{type:String,default:h["c"].SAVE},showDialog:{type:Boolean,default:!1},isAdd:{type:Boolean,default:!0},formUpdate:{type:Object,default:function(){}},handleCancel:Function,handleConfirm:Function,handleClose:Function},data:function(){return{CONSTANTS_CHECK:h["g"],rulesUpdate:{scenesName:[{required:!0,message:h["H"].PLEASE_ENTER_CONTENT},{max:10,message:"长度不得大于10个字符"}],extensionTime:[{required:!0,message:h["H"].PLEASE_ENTER_CONTENT}],shiftName:[{required:!0,message:h["H"].PLEASE_ENTER_CONTENT},{max:10,message:"长度不得大于10个字符"}],shiftStartTime:[{required:!0,message:h["H"].PLEASE_CHOOSE_CONTENT}],shiftEndTime:[{required:!0,message:h["H"].PLEASE_CHOOSE_CONTENT}],scenesRemark:[{max:100,message:"长度不得大于100个字符"}]},shiftOptions:[{label:h["g"].ONE_SHIFT,value:1},{label:h["g"].TWO_SHIFT,value:2},{label:h["g"].THREE_SHIFT,value:3},{label:h["g"].FOUR_SHIFT,value:4}],color1:"#409EFF"}},methods:{addColorTime:function(e){e.push({sTime:"",eTime:"",color:"#4caf50",checkOverTimePush:!1})},minusColorTime:function(e,t){1!==e.length&&e.splice(t,1)},toggleColorTask:function(e){this.formUpdate.shiftInformationList[e].shiftShowColor=!this.formUpdate.shiftInformationList[e].shiftShowColor},cancelAction:function(){this.handleCancel&&this.handleCancel()},confirmAction:function(){var e=this;this.$refs.updateForm.validate((function(t){t&&e.handleConfirm(e.formUpdate)}))},closeAction:function(){this.handleClose&&this.handleClose()}},watch:{showDialog:function(e){var t=this;e?setTimeout((function(){t.$refs.updateForm.clearValidate()}),0):this.$refs.updateForm.resetFields()}},mounted:function(){}},Ce=pe,ge=(a("b905"),Object(p["a"])(Ce,me,de,!1,null,"04ac4102",null)),Te=ge.exports,be={components:{HeaderTitle:o["a"],HeadOperationItem:v["a"],VXETable:T["a"],CreateScenesModal:he,createScenesModals:Te},props:{},data:function(){return{BTN_TEXT:h["c"],PAGE_TITLE:h["I"],CONSTANTS_CHECK:h["g"],modalTitle:"",showScenes:{show:!1,show2:!1,data:null},isAddItem:!0,oldRow:{},selectCase:{scenesName:"",extensionTime:0,shiftLength:1,shiftInformationList:[{shiftName:"",shiftStartTime:"",shiftEndTime:"",shiftSort:0}]},selectRecords:[],tableloading:!1,scenesTable:{data:[],page:{total:10,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],perfect:!0,slots:{left:"pager_left"},layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"]},columns:[{type:"radio",align:"center",visible:!0,width:"50"},{field:"scenesName",title:h["g"].SCENES_NAME,align:"center"},{field:"extensionTime",title:h["g"].EXTEND_TIME,align:"center"},{field:"shiftInformationList",title:h["g"].CHECK_TIME,align:"center",formatter:this.$options.filters.formatShiftTime},{field:"scenesRemark",title:h["g"].REMARK,align:"center"}]},CHECK_IMG:!1}},methods:{buttonClickEvent:function(e){this["".concat(e)]()},handleCommand:function(e,t){switch(e){case"info":this.showScenesModal(t);break;case"delete":this.deleteScenes(t);break;default:break}},getScenesData:function(){var e=this;this.tableloading=!0,Object(N["H"])({current:this.scenesTable.page.currentPage,size:this.scenesTable.page.pageSize}).then((function(t){t.code===h["M"].OPERATION_SUCCESS?(e.tableloading=!1,e.scenesTable.page.total=t.total,e.scenesTable.data=t.rows):Object(k["c"])(t.message)})).catch((function(e){Object(S["a"])(h["N"].NOTIFY,e)}))},showAddModal:function(){this.isAddItem=!0,this.modalTitle=h["g"].ADD_CASE,delete this.selectCase.scenesId,this.selectCase.scenesName="",this.selectCase.extensionTime=0,this.selectCase.shiftLength=1;for(var e=[],t=0;t<4;t++)e.push({shiftName:"",shiftStartTime:"",shiftEndTime:"",shiftSort:t+1,shiftShowColor:!1,shifColorArr:[{sTime:"",eTime:"",color:"",checkOverTimePush:!1}]});this.selectCase.shiftInformationList=e,this.CHECK_IMG?this.showScenes.show2=!0:this.showScenes.show=!0},showScenesModal:function(){var e=this,t={};if(!this.$refs.itemConfig.getRadioRecord())return Object(k["c"])("请选择要操作的数据！"),!1;if(t=this.$refs.itemConfig.getRadioRecord(),t){this.isAddItem=!1;var a=JSON.parse(JSON.stringify(t));this.oldRow=JSON.parse(JSON.stringify(t)),a.shiftLength=a.shiftInformationList.length;for(var i=0;i<a.shiftInformationList.length;i++)if(a.shiftInformationList[i].shiftShowColor=!1,a.shiftInformationList[i].extend01){var n=JSON.parse(a.shiftInformationList[i].extend01);for(var o in a.shiftInformationList[i].shifColorArr=[],n){var s=o.split("-"),r=o.substring(12,13);console.log(r);var c=!1;1===Number(r)&&(c=!0),a.shiftInformationList[i].shifColorArr.push({sTime:s[0],eTime:s[1],color:n[o],checkOverTimePush:c})}}else a.shiftInformationList[i].shifColorArr=[{sTime:"",eTime:"",color:"",checkOverTimePush:!1}];if(a.shiftInformationList.length<4)for(var l=4-a.shiftInformationList.length,f=0;f<l;f++)a.shiftInformationList.push({shiftName:"",shiftStartTime:"",shiftEndTime:"",shiftSort:a.shiftInformationList.length+1,shiftShowColor:!1,shifColorArr:[{sTime:"",eTime:"",color:"",checkOverTimePush:!1}]});setTimeout((function(){e.selectCase=a}),0),this.modalTitle=h["g"].UPDATE_CASE}this.CHECK_IMG?this.showScenes.show2=!0:this.showScenes.show=!0},clickCreateScenesCancel:function(){this.isAddItem=!0,this.CHECK_IMG?this.showScenes.show2=!1:this.showScenes.show=!1},addScenes:function(e){for(var t=this,a=1440,i=[],n=[],o=[],s=[],r=!1,c=0;c<e.shiftLength;c++)if(e.shiftInformationList[c].shiftStartTime){var l=60*e.shiftInformationList[c].shiftStartTime.split(":")[0]+(e.shiftInformationList[c].shiftStartTime.split(":")[1]-0),f=60*e.shiftInformationList[c].shiftEndTime.split(":")[0]+(e.shiftInformationList[c].shiftEndTime.split(":")[1]-0);if(l<f&&f-l>24/e.shiftLength*60){r=!0,Object(k["c"])(e.shiftInformationList[c].shiftName+":"+h["g"].ERROR_THREE);break}if(l===f){if(1!==e.shiftLength){r=!0,Object(k["c"])(e.shiftInformationList[c].shiftName+":"+h["g"].ERROR_THREE);break}}else if(l>f&&a-l+f>24/e.shiftLength*60){r=!0,Object(k["c"])(e.shiftInformationList[c].shiftName+":"+h["g"].ERROR_THREE);break}i.push(l),i.push(f),n.push(e.shiftInformationList[c].shiftName),n.push(e.shiftInformationList[c].shiftName),o.push(h["g"].UP_SHIFT),o.push(h["g"].DOWN_NAME),s.push(c),s.push(c)}if(r)return!1;var u={prevNum:0,firstNum:0,allTime:0};if(i.length>2)for(var m in i)if(m<1)u.firstNum=i[m],u.prevNum=i[m],u.allTime=0;else{if(i[m]>u.prevNum?u.allTime+=i[m]-u.prevNum:i[m]===u.prevNum?u.allTime+=0:i[m]<u.prevNum&&(u.allTime+=a-u.prevNum+i[m]),u.allTime>1440){this.shiftWarnMessageTwo(n,o,m),r=!0;break}u.prevNum=i[m]}if(r)return!1;var d={},p=[];if(d.scenesName=e.scenesName,d.scenesRemark=e.scenesRemark,d.extensionTime=e.extensionTime,e.scenesId){if(d.scenesId=e.scenesId,e.shiftLength===this.oldRow.shiftInformationList.length){var C=e.shiftInformationList;console.log(C);for(var g=0;g<C.length;g++){for(var T={},b=C[g].shifColorArr,E=0;E<b.length;E++)T[this.funcColorKey(C[g],b[E])]=this.funcColorValue(b[E].color);e.shiftInformationList[g].extend01=JSON.stringify(T)}for(var O=0;O<e.shiftLength;O++)p.push(e.shiftInformationList[O])}else if(e.shiftLength>=this.oldRow.shiftInformationList.length)for(var v=0;v<e.shiftLength;v++){for(var I={shiftName:e.shiftInformationList[v].shiftName,shiftStartTime:e.shiftInformationList[v].shiftStartTime,shiftEndTime:e.shiftInformationList[v].shiftEndTime,shiftSort:e.shiftInformationList[v].shiftSort},_={},w=e.shiftInformationList[v].shifColorArr,x=0;x<w.length;x++)_[this.funcColorKey(I,w[x])]=this.funcColorValue(w[x].color);I.extend01=JSON.stringify(_),v<=this.oldRow.shiftInformationList.length-1&&(I.shiftId=e.shiftInformationList[v].shiftId),p.push(I)}else if(e.shiftLength<=this.oldRow.shiftInformationList.length)for(var L=this.oldRow.shiftInformationList,A=0;A<L.length;A++){var D={};if(A<=e.shiftLength-1){if(D.shiftId=e.shiftInformationList[A].shiftId,D.shiftName=e.shiftInformationList[A].shiftName,D.shiftStartTime=e.shiftInformationList[A].shiftStartTime,D.shiftEndTime=e.shiftInformationList[A].shiftEndTime,D.shiftSort=e.shiftInformationList[A].shiftSort,e.shiftInformationList[A].shifColorArr){for(var R={},j=e.shiftInformationList[A].shifColorArr,P=0;P<j.length;P++)R[this.funcColorKey(D,j[P])]=this.funcColorValue(j[P].color);D.extend01=JSON.stringify(R)}}else D.shiftId=this.oldRow.shiftInformationList[A].shiftId,D.state=0;p.push(D)}}else{var y=e.shiftInformationList;console.log(y);for(var H=0;H<y.length;H++){for(var M={},U=y[H].shifColorArr,F=0;F<U.length;F++)M[this.funcColorKey(y[H],U[F])]=this.funcColorValue(U[F].color);e.shiftInformationList[H].extend01=JSON.stringify(M)}for(var $=0;$<e.shiftLength;$++)p.push(e.shiftInformationList[$])}console.log(d,p),Object(N["I"])(d,p).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.showScenes.show=!1,t.getScenesData(),Object(k["b"])(e.message)):(t.showScenes.show=!1,Object(k["c"])(e.message))})).catch((function(e){t.showScenes.show=!1,Object(S["a"])(e)}))},funcColorKey:function(e,t){console.log("lalala",e,t);var a="",i="";return a=t.sTime?t.sTime:e.shiftStartTime,i=t.eTime?t.eTime:e.shiftEndTime,!0===t.checkOverTimePush?a+"-"+i+"-1":a+"-"+i+"-0"},funcColorValue:function(e){return e||"#4caf50"},shiftWarnMessageOne:function(e,t,a){var i=e[a-1]+h["g"].OF+t[a-1]+h["g"].AND+e[a]+h["g"].OF+t[a]+h["g"].ERROR_ONE;Object(k["c"])(i)},shiftWarnMessageTwo:function(e,t,a){var i=e[0]+h["g"].OF+t[0]+h["g"].AND+e[a]+h["g"].OF+t[a]+h["g"].ERROR_TWO;Object(k["c"])(i)},handlescenesTablePageChange:function(e,t){this.scenesTable.page.currentPage=e,this.scenesTable.page.pageSize=t,this.getScenesData()},checkboxChangeEvent:function(e){this.selectRecords=e},toDelete:function(){var e={};if(!this.$refs.itemConfig.getRadioRecord())return Object(k["c"])("请选择要操作的数据！"),!1;e=this.$refs.itemConfig.getRadioRecord(),this.deleteScenes([e.scenesId])},deleteScenes:function(e){var t=this;console.log(e),this.$confirm(h["H"].CONFIRM_DELETE,h["N"].PROMPT,{confirmButtonText:h["c"].CONFIRM,cancelButtonText:h["c"].CANCEL,type:"warning"}).then((function(){Object(N["G"])({ids:e}).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.getScenesData(),Object(k["b"])(e.message)):Object(k["c"])(e.message)})).catch((function(e){Object(S["a"])(e)}))})).catch((function(){}))},deleteMaintainTime:function(e){var t=this;this.$confirm(h["H"].CONFIRM_DELETE,h["N"].PROMPT,{confirmButtonText:h["c"].CONFIRM,cancelButtonText:h["c"].CANCEL,type:"warning"}).then((function(){var a=[];e.forEach((function(e){a.push(e.scenesId)})),Object(N["G"])({ids:a}).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.getScenesData(),Object(k["b"])(e.message)):Object(k["c"])(e.message)})).catch((function(e){Object(S["a"])(e)}))})).catch((function(){}))},refreshTable:function(){this.getScenesData()}},created:function(){s["C"][localStorage.getItem("companyId")]&&(this.CHECK_IMG=s["C"][localStorage.getItem("companyId")].CHECK_IMG),this.getScenesData()}},Ee=be,Oe=Ee,ve=(a("439b"),a("22bf"),Object(p["a"])(Oe,oe,se,!1,null,"16f56df0",null)),Ne=ve.exports,ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"template-panel",staticStyle:{width:"50%",float:"left"}},[a("header-buttons",{attrs:{cssType:"3",showTitle:"true",toRight:"true",titleName:e.CONSTANTS_CHECK.CHECK_TEMPLATE_LIST},on:{buttonClickEvent:e.buttonClickEvent}}),a("VXETable",{ref:"templateTable",attrs:{tableName:e.CONSTANTS_CHECK.CHECK_TEMPLATE_LIST,height:e.$options.filters.getTableHeight(240),tableLoading:e.tableloading,"pager-config":e.templateTableData.page,tableDatas:e.templateTableData.data,tableColumns:e.templateTableData.columns,tablePage:e.templateTableData.page,highlightCurrentRow:!0},on:{onTablePageChange:e.handleTemplateTablePageChange,chooseCheck:e.checkboxChangeEvent,clickRows:e.handleSelectTemplate}})],1),e.activeTemplate?a("div",{staticClass:"template-panel",staticStyle:{float:"right",width:"48%"}},[a("header-buttons",{attrs:{cssType:"4",showTitle:"true",toRight:"true",titleName:e.CONSTANTS_CHECK.ITEM_LINK+" "+e.activeTemplate.templateName},on:{buttonClickEvent:e.buttonClickEvent}}),a("vxe-table",{ref:"sortTable",staticClass:"sortTable",attrs:{border:"","show-header-overflow":"","show-overflow":"","row-key":"",height:e.$options.filters.getTableHeight(240),align:"center","highlight-hover-row":"",stripe:"","highlight-current-row":"","radio-config":{trigger:"row"},loading:e.relationShipTableDataLoading,data:e.relationShipTableData},on:{"cell-click":e.cellClickEvent1}},[a("vxe-table-column",{attrs:{type:"radio",width:"40"}}),a("vxe-table-column",{attrs:{width:"60"},scopedSlots:e._u([{key:"header",fn:function(){return[a("vxe-tooltip",{attrs:{content:e.CONSTANTS_CHECK.DRAG_AND_DROP,enterable:""}},[a("i",{staticClass:"vxe-icon--question"})])]},proxy:!0}],null,!1,805942406)},[[a("span",{staticClass:"drag-btn"},[a("i",{staticClass:"vxe-icon--menu"})])]],2),a("vxe-table-column",{attrs:{field:"itemId",title:"ID",width:"80"}}),a("vxe-table-column",{attrs:{field:"itemName",title:e.CONSTANTS_CHECK.ITEM}})],1)],1):e._e(),a("create-template-modal",{attrs:{showDialog:e.showCreateTemp,title:e.templateEditTitle,isAdd:e.isAddItem,data:e.selectTemplate,handleCancel:e.clickModalCancel,handleConfirm:e.addOrUpdateMaintainTemplate,handleClose:e.clickModalCancel}}),a("create-template-relation-modal",{ref:"templateRelationModal",attrs:{showDialog:e.showCreateTempRelation,title:e.itemRealtionTitle,itemsList:e.tempListData,disableList:e.tempDisableList,handleCancel:e.clickModalCancel,handleConfirm:e.insertMaintainceItems,handleClose:e.clickModalCancel}})],1)},Se=[],Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{class:["create-maintaince-template",e.$store.state.dialogMarginClass],attrs:{width:"30%",title:e.title,visible:e.showDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.showDialog=t},closed:e.closeAction}},[a("div",{staticClass:"content"},[a("el-form",{ref:"updateForm",staticClass:"dialogForm updateForm",attrs:{"label-width":"100px",model:e.modalData,rules:e.rulesUpdate}},[a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.TEMPLATE_NAME+":",prop:"templateName"}},[a("el-input",{model:{value:e.modalData.templateName,callback:function(t){e.$set(e.modalData,"templateName",t)},expression:"modalData.templateName"}})],1),a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.SCENES_NAME+":",prop:"scenesId"}},[a("el-select",{staticClass:"checkpoint-data",attrs:{loading:e.dropdownLoading,placeholder:e.MSG.PLEASE_CHOOSE},model:{value:e.modalData.scenesId,callback:function(t){e.$set(e.modalData,"scenesId",t)},expression:"modalData.scenesId"}},e._l(e.scenes,(function(e,t){return a("el-option",{key:t,attrs:{label:e.scenesName,value:e.scenesId}})})),1)],1),a("el-form-item",{attrs:{label:e.CONSTANTS_CHECK.REMARK+":",prop:"templateRemark"}},[a("el-input",{staticClass:"checkpoint-data",attrs:{type:"textarea",rows:4},model:{value:e.modalData.templateRemark,callback:function(t){e.$set(e.modalData,"templateRemark",t)},expression:"modalData.templateRemark"}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAction}},[e._v(e._s(e.confirmLabel))]),a("el-button",{attrs:{type:"tertiary"},on:{click:e.cancelAction}},[e._v(e._s(e.cancelLabel))])],1)])},_e=[],we={name:"createMaintainceTemplateModal",props:{title:{type:String,default:""},cancelLabel:{type:String,default:h["c"].CANCEL},confirmLabel:{type:String,default:h["c"].SAVE},showDialog:{type:Boolean,default:!1},isAdd:{type:Boolean,default:!0},data:{type:Object,default:function(){}},handleCancel:Function,handleConfirm:Function,handleClose:Function},data:function(){return{BTN_TEXT:h["c"],MSG:h["H"],CONSTANTS_CHECK:h["g"],dropdownLoading:!1,scenes:[],modalData:{templateRemark:"",templateName:"",templateId:null,scenesId:null},rulesUpdate:{templateName:[{required:!0,message:h["H"].PLEASE_ENTER_CONTENT},{max:100,message:"长度不得大于100个字符"}],templateRemark:[{max:255,message:"长度不得大于255个字符"}],scenesId:[{required:!0,message:h["H"].PLEASE_CHOOSE_CONTENT}]}}},watch:{data:function(e,t){this.initData()},showDialog:function(e){var t=this;e?setTimeout((function(){t.$refs.updateForm.clearValidate()}),0):this.$refs.updateForm.resetFields()}},methods:{initData:function(){var e=this;this.scenes=[],this.isAdd||(this.modalData.templateRemark=this.data.templateRemark,this.modalData.templateName=this.data.templateName,this.modalData.templateId=this.data.templateId,this.modalData.scenesId=this.data.scenesId),this.dropdownLoading=!0,Object(N["H"])().then((function(t){t.code===h["M"].OPERATION_SUCCESS&&(e.dropdownLoading=!1,e.scenes=t.rows)}))},cancelAction:function(){this.handleCancel&&this.handleCancel()},confirmAction:function(){var e=this;this.$refs.updateForm.validate((function(t){if(t){var a={isAdd:e.isAdd,data:e.modalData};e.handleConfirm(a),e.clearData()}}))},closeAction:function(){this.handleClose&&(this.clearData(),this.handleClose())},handleCycleChange:function(e){this.modalData.cycleName=e.cycleName,this.modalData.cycleId=e.cycleId},clearData:function(){this.modalData={templateRemark:"",templateName:"",templateId:null,scenesId:null}}},created:function(){this.initData()}},xe=we,Le=(a("27e2"),Object(p["a"])(xe,Ie,_e,!1,null,null,null)),Ae=Le.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{class:["create-maintaince-option",e.$store.state.dialogMarginClass],attrs:{width:"80%",title:e.title,visible:e.showDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.showDialog=t},closed:e.closeAction}},[a("div",{staticClass:"content"},[a("vxe-toolbar",{scopedSlots:e._u([{key:"buttons",fn:function(){return[a("vxe-input",{attrs:{type:"search",placeholder:"全表搜索"},on:{input:e.searchAllTable},model:{value:e.filterName,callback:function(t){e.filterName=t},expression:"filterName"}})]},proxy:!0}])}),a("vxe-table",{ref:"relationTable",attrs:{border:"","show-header-overflow":"","show-overflow":"","row-key":"",height:"500px",align:"center","highlight-hover-row":"",stripe:"","highlight-current-row":"",data:e.showList,"checkbox-config":{labelField:"name",checkMethod:e.checCheckboxkAble}},on:{"checkbox-all":e.selectAllEvent,"checkbox-change":e.selectChangeEvent}},[a("vxe-table-column",{attrs:{type:"checkbox",width:"60"}}),a("vxe-table-column",{attrs:{field:"itemId",title:"ID",width:"80"}}),a("vxe-table-column",{attrs:{field:"itemName",title:e.CONSTANTS_CHECK.CHOOSE_CHECK_POINT}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAction}},[e._v(e._s(e.confirmLabel))]),a("el-button",{attrs:{type:"tertiary"},on:{click:e.cancelAction}},[e._v(e._s(e.cancelLabel))])],1)])},Re=[],je=(a("4de4"),a("c975"),a("45fc"),a("d3b7"),a("25f0"),a("498a"),a("c695")),Pe=a.n(je),ye={name:"CreateMaintainceOptionModal",props:{title:{type:String,default:""},cancelLabel:{type:String,default:h["c"].CANCEL},confirmLabel:{type:String,default:h["c"].SAVE},showDialog:{type:Boolean,default:!1},itemsList:{type:Array,default:function(){return[]}},disableList:{type:Array,default:function(){return[]}},handleCancel:Function,handleConfirm:Function,handleClose:Function},data:function(){return{VARIABLE:h["P"],CONSTANTS_CHECK:h["g"],BTN_TEXT:h["c"],filterName:"",showList:[],tableDatas:[]}},created:function(){this.tableDatas=JSON.parse(JSON.stringify(this.itemsList)),this.showList=JSON.parse(JSON.stringify(this.itemsList))},methods:{searchAllTable:function(){var e=Pe.a.toString(this.filterName).trim().toLowerCase();if(e){var t=["itemName"],a=this.tableDatas.filter((function(a){return t.some((function(t){return Pe.a.toString(a[t]).toLowerCase().indexOf(e)>-1}))})),i=a.map((function(e){var a=Object.assign({},e);return t.forEach((function(e){})),a}));this.showList=i}else this.showList=JSON.parse(JSON.stringify(this.itemsList));for(var n in this.showList)for(var o in this.tableDatas)this.showList[n].itemId===this.tableDatas[o].itemId&&1===this.tableDatas[o].checked&&this.$refs.relationTable.toggleCheckboxRow(this.showList[n])},selectAllEvent:function(e){var t=e.checked;e.records;if(t)for(var a=0;a<this.tableDatas.length;a++)this.tableDatas[a].checked=1;else for(var i=0;i<this.tableDatas.length;i++)this.tableDatas[i].checked=0},selectChangeEvent:function(e){var t=e.checked,a=(e.records,e.rowIndex,e.row);if(t)for(var i=0;i<this.tableDatas.length;i++)this.tableDatas[i].itemId===a.itemId&&(this.tableDatas[i].checked=1);else for(var n=0;n<this.tableDatas.length;n++)this.tableDatas[n].itemId===a.itemId&&(this.tableDatas[n].checked=0)},cancelAction:function(){this.handleCancel&&this.handleCancel()},checCheckboxkAble:function(e){var t=e.row;return!(this.disableList.indexOf(t.itemId)>-1)},confirmAction:function(){var e=this.$refs.relationTable.getCheckboxRecords();console.log(e),this.handleConfirm&&e.length>0&&this.handleConfirm(e)},closeAction:function(){this.handleClose&&this.handleClose()}}},He=ye,Me=(a("08ec"),Object(p["a"])(He,De,Re,!1,null,null,null)),Ue=Me.exports,Fe=a("aa47"),$e={components:{createTemplateModal:Ae,createTemplateRelationModal:Ue,VXETable:T["a"],HeaderTitle:o["a"],HeadOperationItem:v["a"]},props:{},data:function(){return{CONSTANTS_CHECK:h["g"],BTN_TEXT:h["c"],templateEditTitle:"",itemRealtionTitle:h["g"].CHOOSE_CHECK_POINT,showCreateTemp:!1,tableloading:!1,isAddItem:!0,selectTemplate:null,selectRecords:[],templateTableData:{data:[],page:{total:10,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500],perfect:!0,slots:{left:"pager_left"},layouts:["Sizes","PrevJump","PrevPage","Number","NextPage","NextJump","FullJump","Total"]},columns:[{type:"checkbox",width:"50",align:"center"},{field:"templateName",title:h["g"].TEMPLATE_NAME,align:"center"},{field:"scenesName",title:h["g"].SCENES_NAME,align:"center"}]},tempListData:[],tempDisableList:[],activeTemplate:null,relationShipTableDataLoading:!1,relationShipTableData:[],showCreateTempRelation:!1}},methods:{buttonClickEvent:function(e){this["".concat(e)]()},handleCommand:function(e,t){switch(e){case"info":this.showCreateTempModal(t);break;case"delete":this.deleteTemplate(t);break;default:break}},getTemplateData:function(){var e=this;this.tableloading=!0,Object(N["s"])({current:this.templateTableData.page.currentPage,size:this.templateTableData.page.pageSize}).then((function(t){t.code===h["M"].OPERATION_SUCCESS?(e.tableloading=!1,e.templateTableData.page.total=t.total,e.templateTableData.data=t.rows):Object(k["c"])(t.message)})).catch((function(e){Object(S["a"])(h["N"].NOTIFY,e)}))},showCreateTempModal:function(e){this.templateEditTitle=h["g"].ADD_CHECK_TEMPLATECONFIG,this.showCreateTemp=!0},showUpdateTempModal:function(){var e={};if(!this.$refs.templateTable.getRadioRecord())return Object(k["c"])("请选择要操作的数据！"),!1;e=this.$refs.templateTable.getRadioRecord(),e?(this.isAddItem=!1,this.selectTemplate=e,this.templateEditTitle=h["g"].UPDATE_CHECK_TEMPLATECONFIG):this.templateEditTitle=h["g"].ADD_CHECK_TEMPLATECONFIG,this.showCreateTemp=!0},clickModalCancel:function(){this.showCreateTempRelation=!1,this.showCreateTemp=!1,this.isAddItem=!0,this.selectTemplate=null},cellClickEvent:function(e){e.column},cellClickEvent1:function(e){e.column},addOrUpdateMaintainTemplate:function(e){var t=this;this.clickModalCancel(),e.isAdd?Object(N["t"])(e.data).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.getTemplateData(),Object(k["b"])(e.message)):Object(k["c"])(e.message)})).catch((function(e){Object(S["a"])(h["N"].NOTIFY,e)})):Object(N["u"])(e.data).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.getTemplateData(),Object(k["b"])(e.message)):Object(k["c"])(e.message)})).catch((function(e){Object(S["a"])(h["N"].NOTIFY,e)}))},toDelete:function(){var e={};if(!this.$refs.templateTable.getRadioRecord())return Object(k["c"])("请选择要操作的数据！"),!1;e=this.$refs.templateTable.getRadioRecord(),this.deleteTemplate([e])},deleteTemplate:function(e){var t=this;this.$confirm(h["H"].CONFIRM_DELETE,h["N"].PROMPT,{confirmButtonText:h["c"].CONFIRM,cancelButtonText:h["c"].CANCEL,type:"warning"}).then((function(){t.setDeleteTemplate(e)})).catch((function(){}))},setDeleteTemplate:function(e){var t=this,a=[];e.forEach((function(e){a.push(e.templateId)})),Object(N["r"])({ids:a}).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(t.getTemplateData(),t.activeTemplate=null):Object(k["c"])(e.message)})).catch((function(e){Object(S["a"])(h["N"].NOTIFY,e)}))},handleSelectTemplate:function(e){this.activeTemplate=e,this.getRelationshipItemByID(e.templateId)},getRelationshipItemByID:function(e){this.relationShipTableDataLoading=!0;var t=this;Object(N["i"])({templateId:e}).then((function(e){t.relationShipTableDataLoading=!1,e.code===h["M"].OPERATION_SUCCESS?(t.relationShipTableData=e.rows,t.tempDisableList=[],e.rows.forEach((function(e){t.tempDisableList.push(e.itemId)})),t.rowDrop()):Object(k["c"])(e.message)})).catch((function(e){t.relationShipTableDataLoading=!1,Object(S["a"])(h["N"].NOTIFY,e)}))},showCreateTempRelationModal:function(){var e=this;Object(N["l"])().then((function(t){t.code===h["M"].OPERATION_SUCCESS?(e.tempListData=t.rows,e.showCreateTempRelation=!0,e.$refs.templateRelationModal.tableDatas=JSON.parse(JSON.stringify(t.rows)),e.$refs.templateRelationModal.showList=JSON.parse(JSON.stringify(t.rows))):Object(k["c"])(t.message)})).catch((function(e){Object(S["a"])(h["N"].NOTIFY,e)}))},insertMaintainceItems:function(e){console.log(e);var t=this;e.forEach((function(e){e.templateId=t.activeTemplate.templateId,t.relationShipTableData.push(e)})),this.tempDisableList=Object(O["a"])({},this.relationShipTableData),this.clickModalCancel()},submitTempRelation:function(){for(var e=this,t=[],a=0;a<this.relationShipTableData.length;a++){var i={relationshipId:this.relationShipTableData[a].relationshipId,templateId:this.relationShipTableData[a].templateId,itemId:this.relationShipTableData[a].itemId,sort:a+1};t.push(i)}Object(N["j"])(null,t).then((function(t){t.code===h["M"].OPERATION_SUCCESS?(Object(k["b"])(t.message),e.getRelationshipItemByID(e.activeTemplate.templateId)):Object(k["c"])(t.message)})).catch((function(e){Object(S["a"])(h["N"].NOTIFY,e)}))},deleteTemplateRelationItem:function(){var e=this,t={};if(!this.$refs.sortTable.getRadioRecord())return Object(k["c"])("请选择要操作的数据！"),!1;if(t=this.$refs.sortTable.getRadioRecord(),t.relationshipId)Object(N["h"])({id:t.relationshipId}).then((function(t){t.code===h["M"].OPERATION_SUCCESS?(Object(k["b"])(t.message),e.getRelationshipItemByID(e.activeTemplate.templateId)):Object(k["c"])(t.message)})).catch((function(e){Object(S["a"])(h["N"].NOTIFY,e)}));else{for(var a=0,i=0;i<this.relationShipTableData.length;i++)if(this.relationShipTableData[i].templateId===t.templateId){a=i;break}this.relationShipTableData.splice(a,1)}},rowDrop:function(){var e=this,t=this;this.$nextTick((function(){var a=e.$refs.sortTable;e.sortable=Fe["default"].create(a.$el.querySelector(".body--wrapper>.vxe-table--body tbody"),{handle:".drag-btn",onEnd:function(e){var a=e.newIndex,i=e.oldIndex,n=t.relationShipTableData.splice(i,1)[0];t.relationShipTableData.splice(a,0,n)}})}))},handleTemplateTablePageChange:function(e,t){this.templateTableData.page.currentPage=e,this.templateTableData.page.pageSize=t,this.getTemplateData()},checkboxChangeEvent:function(e){this.selectRecords=e},refreshTable:function(){this.getTemplateData()}},watch:{relationShipTableData:function(e,t){}},created:function(){this.getTemplateData()},beforeDestroy:function(){this.sortable&&this.sortable.destroy()}},Ke=$e,Be=Ke,ze=(a("3dda"),a("cb05"),Object(p["a"])(Be,ke,Se,!1,null,"a326e0d2",null)),Ge=ze.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-col",{staticClass:"leftparts"},[a("header-buttons",{attrs:{cssType:"5",toRight:"true"},on:{buttonClickEvent:e.buttonClickEvent}}),a("vxe-table",{ref:"mmmTable",staticClass:"restable",attrs:{height:e.$options.filters.getTableHeight(280),border:"","show-header-overflow":"","show-overflow":"",align:"center",stripe:"","highlight-current-row":"","radio-config":{trigger:"row"},data:e.linkToolTable,loading:e.tableLoading},on:{"cell-click":e.cellClickEvent}},[a("vxe-table-column",{attrs:{type:"radio",width:"40"}}),a("vxe-table-column",{attrs:{field:"typeName",title:e.CONSTANTS_CHECK.EQUIMENT_TYPE_NAME}}),a("vxe-table-column",{attrs:{field:"templateNameList",title:e.CONSTANTS_CHECK.MAINTANCE_TEMPLATE}})],1),a("vxe-pager",{staticClass:"eq-pagination",attrs:{perfect:"","current-page":e.linkToolTablePage.currentPage,"page-size":e.linkToolTablePage.pageSize,"page-sizes":e.linkToolTablePage.pageSizes,total:e.linkToolTablePage.total,layouts:["PrevJump","PrevPage","Number","NextPage","NextJump","Sizes","FullJump","Total"]},on:{"page-change":e.handleTemplateTablePageChange,"update:currentPage":function(t){return e.$set(e.linkToolTablePage,"currentPage",t)},"update:current-page":function(t){return e.$set(e.linkToolTablePage,"currentPage",t)},"update:pageSize":function(t){return e.$set(e.linkToolTablePage,"pageSize",t)},"update:page-size":function(t){return e.$set(e.linkToolTablePage,"pageSize",t)},"update:pageSizes":function(t){return e.$set(e.linkToolTablePage,"pageSizes",t)},"update:page-sizes":function(t){return e.$set(e.linkToolTablePage,"pageSizes",t)}}})],1),a("bind-Template-modal",{ref:"bindTemplate",attrs:{showDialog:e.showbindMaintainceTemplate,title:e.CONSTANTS_CHECK.LINK_TO_SELECT_TEMPLATE,itemsList:e.templateData,handleCancel:e.clickBindMaintainceTempCancel,handleConfirm:e.submitMaintanceLinkTem,handleClose:e.clickBindMaintainceTempCancel}})],1)},Ve=[],Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"bind-maintaince-template",attrs:{width:"400px",title:e.title,visible:e.showDialog,"close-on-click-modal":!1},on:{"update:visible":function(t){e.showDialog=t},closed:e.closeAction}},[a("div",{staticClass:"content"},[a("el-label",[e._v("点检模板：")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.itemsList,(function(e){return a("el-option",{key:e.templateId,attrs:{label:e.templateName,value:e.templateId}})})),1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.confirmAction}},[e._v(e._s(e.confirmLabel))]),a("el-button",{attrs:{type:"tertiary"},on:{click:e.cancelAction}},[e._v(e._s(e.cancelLabel))])],1)])},We=[],qe={name:"bindMaintainceTemplateModal",props:{title:{type:String,default:""},cancelLabel:{type:String,default:h["c"].CANCEL},confirmLabel:{type:String,default:h["c"].SAVE},showDialog:{type:Boolean,default:!1},itemsList:{type:Array,default:function(){return[]}},handleCancel:Function,handleConfirm:Function,handleClose:Function},data:function(){return{CONSTANTS_CHECK:h["g"],BTN_TEXT:h["c"],value:null}},created:function(){this.itemsList.forEach((function(e){e.selected&&(this.value=e.templateId)}))},methods:{cancelAction:function(){this.handleCancel&&this.handleCancel()},confirmAction:function(){this.handleConfirm(this.value)},closeAction:function(){this.handleClose&&this.handleClose()}}},Ye=qe,Ze=(a("071a"),Object(p["a"])(Ye,Xe,We,!1,null,null,null)),Qe=Ze.exports,et={components:{bindTemplateModal:Qe,HeaderTitle:o["a"],HeadOperationItem:v["a"]},props:{},data:function(){return{CONSTANTS_CHECK:h["g"],BTN_TEXT:h["c"],showbindMaintainceTemplate:!1,tableLoading:!1,linkToolTable:[],linkToolTablePage:{total:0,currentPage:1,pageSize:10,pageSizes:[5,10,20,50,100,200,500]},templateData:[],activeLinkToolItem:null}},methods:{buttonClickEvent:function(e){this["".concat(e)]()},getWorkshopTypeRelationshipTemplateData:function(){var e=this;this.tableLoading=!0;var t={};this.linkToolTablePage&&(t={current:this.linkToolTablePage.currentPage,size:this.linkToolTablePage.pageSize}),Object(N["v"])(t).then((function(t){e.tableLoading=!1,t.code===h["M"].OPERATION_SUCCESS?(e.linkToolTable=t.rows,e.linkToolTablePage.total=t.total):Object(k["c"])(t.message)})).catch((function(t){e.tableLoading=!1,Object(S["a"])(t)}))},showBindMaintainceTemp:function(){var e=this,t={};if(!this.$refs.mmmTable.getRadioRecord())return Object(k["c"])("请选择要操作的数据！"),!1;t=this.$refs.mmmTable.getRadioRecord(),this.activeLinkToolItem=t,Object(N["s"])().then((function(a){a.code===h["M"].OPERATION_SUCCESS?(e.templateData=a.rows,e.templateData.unshift({templateId:0,templateName:"不绑定"}),t.templateIdList?e.$refs.bindTemplate.value=t.templateIdList[0]:e.$refs.bindTemplate.value=null,e.showbindMaintainceTemplate=!0):Object(k["c"])(a.message)})).catch((function(e){Object(S["a"])(h["N"].NOTIFY,e)}))},clickBindMaintainceTempCancel:function(){this.showbindMaintainceTemplate=!1},cellClickEvent:function(e){e.column},submitMaintanceLinkTem:function(e){var t=this,a={typeId:this.activeLinkToolItem.typeId};e&&(a.templateIdList=[e]),Object(N["w"])(a).then((function(e){e.code===h["M"].OPERATION_SUCCESS?(Object(k["b"])(e.message),t.clickBindMaintainceTempCancel(),t.getWorkshopTypeRelationshipTemplateData()):Object(k["c"])(e.message)})).catch((function(e){Object(S["a"])(h["N"].NOTIFY,e)}))},handleTemplateTablePageChange:function(e){var t=e.currentPage,a=e.pageSize;this.linkToolTablePage.currentPage=t,this.linkToolTablePage.pageSize=a,this.getWorkshopTypeRelationshipTemplateData()},refreshTable:function(){this.getWorkshopTypeRelationshipTemplateData()}},mounted:function(){this.getWorkshopTypeRelationshipTemplateData()}},tt=et,at=tt,it=(a("665f"),Object(p["a"])(at,Je,Ve,!1,null,"ec5f19ca",null)),nt=it.exports,ot={name:"CheckConfiguration",components:{HeaderTitle:o["a"],checkItem:M,checkItemRz:ne,checkScenes:Ne,checkTemplate:Ge,checkTemplateRelation:nt},data:function(){return{CONSTANTS_CHECK:h["g"],title:h["g"].CHECK_MANAGEMENT,activeName:"first",activeItem:null,table:1,CHECK_IMG:!1}},methods:{handleClick:function(e,t){e.label===h["g"].CHECK_ITEMCONFIG?this.table=1:e.label===h["g"].CHECK_SCENES?this.table=2:e.label===h["g"].CHECK_TEMPLATECONFIG?this.table=3:e.label===h["g"].CHECK_RELATION&&(this.table=4)},initPage:function(){}},mounted:function(){s["C"][localStorage.getItem("companyId")]&&s["C"][localStorage.getItem("companyId")].CHECK_IMG&&(this.CHECK_IMG=s["C"][localStorage.getItem("companyId")].CHECK_IMG),this.initPage()}},st=ot,rt=st,ct=(a("99d4"),Object(p["a"])(rt,i,n,!1,null,"f4e216d4",null));t["default"]=ct.exports},"1e20":function(e,t,a){},"22bf":function(e,t,a){"use strict";var i=a("dd5d"),n=a.n(i);n.a},"27e2":function(e,t,a){"use strict";var i=a("80a4"),n=a.n(i);n.a},"29ca":function(e,t,a){},"2a88":function(e,t,a){"use strict";var i=a("f8d5"),n=a.n(i);n.a},"2b6e":function(e,t,a){},"35e8":function(e,t,a){},3682:function(e,t,a){},"3dda":function(e,t,a){"use strict";var i=a("f699"),n=a.n(i);n.a},"3f2a":function(e,t,a){"use strict";a.d(t,"q",(function(){return n})),a.d(t,"u",(function(){return o})),a.d(t,"t",(function(){return s})),a.d(t,"A",(function(){return r})),a.d(t,"y",(function(){return c})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return f})),a.d(t,"g",(function(){return u})),a.d(t,"h",(function(){return h})),a.d(t,"b",(function(){return m})),a.d(t,"w",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"r",(function(){return C})),a.d(t,"v",(function(){return g})),a.d(t,"z",(function(){return T})),a.d(t,"c",(function(){return b})),a.d(t,"x",(function(){return E})),a.d(t,"i",(function(){return O})),a.d(t,"o",(function(){return v})),a.d(t,"j",(function(){return N})),a.d(t,"n",(function(){return k})),a.d(t,"k",(function(){return S})),a.d(t,"l",(function(){return I})),a.d(t,"m",(function(){return _})),a.d(t,"p",(function(){return w})),a.d(t,"s",(function(){return x})),a.d(t,"a",(function(){return L}));var i=a("b775"),n=function(e,t){return Object(i["a"])("export/exportUserTemplate.action?",e,t)},o=function(e,t){return Object(i["a"])("export/exportParameterWarningUnProcess.action?",e,t)},s=function(e,t){return Object(i["a"])("export/exportParameterWarningProcess.action?",e,t)},r=function(e,t){return Object(i["a"])("export/exportWarningUnprocessed.action?",e,t)},c=function(e,t){return Object(i["a"])("export/exportWarningProcessed.action?",e,t)},l=function(e,t){return Object(i["a"])("export/exportEnergyMonitor.action?",e,t)},f=function(e,t){return Object(i["a"])("export/exportEnergyMonitorHistory.action?",e,t)},u=function(e,t){return Object(i["a"])("export/exportCheckItemTemplate.action?",e,t)},h=function(e,t){return Object(i["a"])("export/exportDeviceTemplate.action?",e,t)},m=function(e,t){return Object(i["a"])("deviceAdmin/exportDeviceCollectTypeTemplate.action?",e,t)},d=function(e,t){return Object(i["a"])("export/exportStatisticsOfCropMovementRate.action?",e,t)},p=function(e,t){return Object(i["a"])("export/exportDevicesEfficiencyStatistics.action?",e,t)},C=function(e){return Object(i["c"])("template/MaintainDataTemplates.xlsx",e)},g=function(e,t){return Object(i["a"])("export/exportRepairTaskTemplate.action?",e,t)},T=function(e,t){return Object(i["a"])("export/exportWarningStatistics.action?",e,t)},b=function(e,t){return Object(i["a"])("export/exportDeviceOEE.action?",e,t)},E=function(e,t){return Object(i["a"])("export/exportWarningConfigTemplate.action?",e,t)},O=function(e,t){return Object(i["a"])("export/exportMaterialsTemplate.action?",e,t)},v=function(e,t){return Object(i["a"])("export/exportProductionTaskTemplate.action?",e,t)},N=function(e,t){return Object(i["a"])("export/exportProductionTask.action?",e,t)},k=function(e,t){return Object(i["a"])("export/exportProductionTaskStart.action?",e,t)},S=function(e,t){return Object(i["a"])("export/exportProductionTaskEnd.action?",e,t)},I=function(e,t){return Object(i["a"])("export/exportProductionTaskInspection.action?",e,t)},_=function(e,t){return Object(i["a"])("export/exportProductionTaskReportByCondition.action?",e,t)},w=function(e,t){return Object(i["a"])("export/exportToolTemplate.action?",e,t)},x=function(e,t){return Object(i["a"])("maintainPlan/exportMaintainPlanTemplate.action?",e,t)},L=function(e,t){return Object(i["a"])("export/exportDevice.action?",e,t)}},"401a":function(e,t,a){"use strict";var i=a("90b5"),n=a.n(i);n.a},"439b":function(e,t,a){"use strict";var i=a("a2c8"),n=a.n(i);n.a},4538:function(e,t,a){"use strict";var i=a("6dde"),n=a.n(i);n.a},"479c":function(e,t,a){},"4eee":function(e,t,a){"use strict";a.d(t,"h",(function(){return n})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"j",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return l})),a.d(t,"i",(function(){return f})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return h})),a.d(t,"g",(function(){return m})),a.d(t,"k",(function(){return d})),a.d(t,"l",(function(){return p}));var i=a("b775"),n=function(e,t,a){return Object(i["k"])("export/importUser.action?",e,t,a)},o=function(e,t,a){return Object(i["k"])("export/importCheckItem.action?",e,t,a)},s=function(e,t,a){return Object(i["k"])("export/importDevice.action?",e,t,a)},r=function(e,t,a){return Object(i["k"])("/deviceAdmin/importDeviceCollectTypeTemplate.action?",e,t,a)},c=function(e,t,a){return Object(i["k"])("export/importMaintainBaseData.action?",e,t,a)},l=function(e,t,a){return Object(i["k"])("export/importRepairTask.action?",e,t,a)},f=function(e,t,a){return Object(i["k"])("export/importWarningConfig.action?",e,t,a)},u=function(e,t,a){return Object(i["k"])("export/importMaterials.action?",e,t,a)},h=function(e,t,a){return Object(i["k"])("export/importProductionTask.action?",e,t,a)},m=function(e,t,a){return Object(i["k"])("export/importTool.action?",e,t,a)},d=function(e,t,a){return Object(i["k"])("maintainPlan/importMaintainPlan.action?",e,t,a)},p=function(e,t,a){return Object(i["k"])("export/importUpdateDevice.action?",e,t,a)}},"5ce4":function(e,t,a){"use strict";var i=a("29ca"),n=a.n(i);n.a},6464:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("5c96");function n(e,t){i["Notification"].error({title:e,message:t,duration:2e3,position:"bottom-right",showClose:!0})}},"654b":function(e,t,a){"use strict";var i=a("35e8"),n=a.n(i);n.a},"665f":function(e,t,a){"use strict";var i=a("7880"),n=a.n(i);n.a},"6dde":function(e,t,a){},"6f53":function(e,t,a){var i=a("83ab"),n=a("df75"),o=a("fc6a"),s=a("d1e7").f,r=function(e){return function(t){var a,r=o(t),c=n(r),l=c.length,f=0,u=[];while(l>f)a=c[f++],i&&!s.call(r,a)||u.push(e?[a,r[a]]:r[a]);return u}};e.exports={entries:r(!0),values:r(!1)}},7880:function(e,t,a){},"7a15":function(e,t,a){},"80a4":function(e,t,a){},8200:function(e,t,a){"use strict";var i=a("f263"),n=a.n(i);n.a},"85a8":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header"},[a("div",{staticClass:"header-left-border"},[a("div",[a("span",{staticClass:"head-title-span"},[e._v(e._s(e.title))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.flag,expression:"flag"}],staticClass:"head-search",on:{click:e.onSearch}},[a("i",{staticClass:"icon-search"}),a("span",{staticClass:"search-span"},[e._v("搜索")])]),a("div",[e._t("head-search")],2)]),a("div",[e._t("head-operation")],2)])},n=[],o=(a("b0c0"),{name:"HeaderTitle",props:{titleName:{type:String,default:""},flag:{type:Boolean,default:!1}},data:function(){return{title:""}},methods:{getTitle:function(){""===this.titleName?this.title=this.$route.name:this.title=this.titleName},onSearch:function(){this.$emit("searchButtonClick")}},watch:{titleName:function(e,t){this.getTitle()}},created:function(){this.getTitle()},components:{}}),s=o,r=(a("af73"),a("2877")),c=Object(r["a"])(s,i,n,!1,null,"d1fc4504",null);t["a"]=c.exports},"90b5":function(e,t,a){},"99d4":function(e,t,a){"use strict";var i=a("f19b"),n=a.n(i);n.a},"9cd1":function(e,t,a){},a2c8:function(e,t,a){},af73:function(e,t,a){"use strict";var i=a("7a15"),n=a.n(i);n.a},b2a3:function(e,t,a){},b314:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{class:[e.$store.state.dialogMarginClass,"import-dialog"],attrs:{title:e.importDialogName,visible:e.isShow},on:{"update:visible":function(t){e.isShow=t}}},[a("span",{staticClass:"display-flex"},[a("el-link",{staticClass:"width-120 margin-right-10",attrs:{underline:!1},on:{click:e.exportTemplate}},[e._v(e._s(e.exportFileName))]),a("el-input",{staticClass:"margin-right-10",attrs:{size:"small",disabled:""},model:{value:e.importFileName,callback:function(t){e.importFileName=t},expression:"importFileName"}}),a("el-upload",{ref:"upload",staticClass:"display-flex file-upload",attrs:{action:"","auto-upload":!1,accept:".xlsx, .xls","http-request":e.submitFile,"file-list":e.importFiles,"show-file-list":!1,"on-change":e.selectFile,"on-success":e.handleUploadSuccess,"on-error":e.handleUploadError}},[a("el-button",{staticClass:"margin-right-10",attrs:{slot:"trigger",size:"small"},slot:"trigger"},[e._v(e._s(e.BTN_TEXT.CHOOSE_FILE))]),a("el-button",{staticClass:"custom-button",attrs:{size:"small",type:"primary",disabled:0===e.importFiles.length},on:{click:e.uploadBtnClick}},[e._v(e._s(e.BTN_TEXT.IMPORT))]),a("el-button",{staticClass:"custom-button",attrs:{size:"small",type:"danger"},on:{click:e.cleanFile}},[e._v("清空")])],1)],1),a("span",{directives:[{name:"show",rawName:"v-show",value:e.isUploadProgressShow,expression:"isUploadProgressShow"}],staticClass:"display-flex margin-top-15"},[a("span",[e._v(e._s(e.VARIABLE.UPLOAD_PROGRESS)+":")]),a("el-progress",{attrs:{"text-inside":!0,percentage:e.uploadPercent,"stroke-width":22,format:e.formatText,color:e.uploadProgressColor}})],1),e.errorList.length>0?a("div",{staticClass:"errorDiv"},[a("div",{staticClass:"errorTitle"},[e._v(e._s(e.VARIABLE.ERROR_INFO)+":"+e._s(e.errorList.length)+e._s(e.VARIABLE.ARTICLE))]),a("div",{staticClass:"errorListDiv"},e._l(e.errorList,(function(e,t){return a("el-alert",{key:t,attrs:{title:e.failData+"  "+e.failReason,type:"error","show-icon":""}})})),1)]):e._e()])},n=[],o=(a("b0c0"),a("582a")),s=a("3fa5"),r={components:{},props:{importDialogName:{type:String,default:""},exportFileName:{type:String,default:""}},data:function(){return{BTN_TEXT:o["c"],VARIABLE:o["P"],importFileName:"",importFiles:[],uploadPercent:0,isUploadProgressShow:!1,uploadProgressColor:"#0871dc",errorList:[],isShow:!1,limit:1}},computed:{},created:function(){},methods:{exportTemplate:function(){this.$emit("exportTemplate")},submitFile:function(e){this.isUploadProgressShow=!1,this.uploadPercent=0,this.errorList=[],this.$emit("submitImportFile",e)},selectFile:function(e,t){this.importFileName=e.name,this.importFiles=t},handleUploadSuccess:function(e){e.rows&&e.rows.length>0?(this.isUploadProgressShow=!1,this.uploadPercent=0,Object(s["a"])(o["H"].IMPORT_ERROR),e.rows&&(this.errorList=e.rows)):(this.isShow=!1,console.log("成功",e),Object(s["b"])(o["H"].IMPORT_SUCCESS),this.$emit("closeImportDialog"))},handleUploadError:function(e){console.log("失败",e),this.isUploadProgressShow=!1,this.uploadPercent=0,Object(s["a"])(e),e.rows&&(this.errorList=e.rows,console.log(this.errorList))},uploadBtnClick:function(){this.$refs.upload.submit(),this.uploadPercent=0},formatText:function(e){return"".concat(e,"%")},resetUploadProgressBar:function(){var e=this;this.isUploadProgressShow=!1,this.uploadPercent=0,this.$nextTick((function(){e.importFileName=""})),this.importFileName="",this.errorList=[]},cleanFile:function(){var e=this;this.$nextTick((function(){e.importFileName="",e.importFiles=[],e.$refs.upload.clearFiles(),e.errorList=[],e.isUploadProgressShow=!1,e.uploadPercent=0}))},cleanFile2:function(){var e=this;this.$nextTick((function(){e.importFileName="",e.importFiles=[],e.$refs.upload.clearFiles()}))}}},c=r,l=(a("2a88"),a("2877")),f=Object(l["a"])(c,i,n,!1,null,"a8356c7a",null);t["a"]=f.exports},b58d:function(e,t,a){"use strict";a.d(t,"l",(function(){return o})),a.d(t,"m",(function(){return s})),a.d(t,"n",(function(){return r})),a.d(t,"o",(function(){return c})),a.d(t,"p",(function(){return l})),a.d(t,"k",(function(){return f})),a.d(t,"H",(function(){return u})),a.d(t,"G",(function(){return h})),a.d(t,"I",(function(){return m})),a.d(t,"s",(function(){return d})),a.d(t,"t",(function(){return p})),a.d(t,"u",(function(){return C})),a.d(t,"r",(function(){return g})),a.d(t,"i",(function(){return T})),a.d(t,"j",(function(){return b})),a.d(t,"h",(function(){return E})),a.d(t,"v",(function(){return O})),a.d(t,"w",(function(){return v})),a.d(t,"e",(function(){return N})),a.d(t,"d",(function(){return k})),a.d(t,"b",(function(){return S})),a.d(t,"f",(function(){return I})),a.d(t,"y",(function(){return _})),a.d(t,"c",(function(){return w})),a.d(t,"g",(function(){return x})),a.d(t,"a",(function(){return L})),a.d(t,"z",(function(){return A})),a.d(t,"A",(function(){return D})),a.d(t,"B",(function(){return R})),a.d(t,"F",(function(){return j})),a.d(t,"q",(function(){return P})),a.d(t,"x",(function(){return y})),a.d(t,"E",(function(){return H})),a.d(t,"C",(function(){return M})),a.d(t,"D",(function(){return U}));var i=a("b775"),n=a("99f6"),o=function(e,t){return Object(i["k"])("checkItems/getAll.action?",e,t)},s=function(e,t){return Object(i["k"])("checkItems/getList.action?",e,t)},r=function(e,t){return Object(i["k"])("checkItems/insert.action?",e,t)},c=function(e,t){return Object(i["k"])("checkItems/insertBatch.action?",e,t)},l=function(e,t){return Object(i["k"])("checkItems/updateById.action?",e,t)},f=function(e,t){return Object(i["k"])("checkItems/deleteByIds.action?",e,t)},u=function(e,t){return Object(i["k"])("scenes/getPageScenes.action?",e,t)},h=function(e,t){return Object(i["k"])("scenes/deleteByIds.action?",e,t)},m=function(e,t){return Object(i["k"])("scenes/insertOrUpdateScenesAndShift.action?",e,t)},d=function(e,t){return Object(i["k"])("checkTemplate/getPageCheckTemplate.action?",e,t)},p=function(e,t){return Object(i["k"])("checkTemplate/insert.action?",e,t)},C=function(e,t){return Object(i["k"])("checkTemplate/updateById.action?",e,t)},g=function(e,t){return Object(i["k"])("checkTemplate/deleteByIds.action?",e,t)},T=function(e,t){return Object(i["k"])("checkItemTemplateRelationship/getListCheckTemplateRelationshipItem.action?",e,t)},b=function(e,t){return Object(i["k"])("checkItemTemplateRelationship/insertOrUpdateBatch.action?",e,t)},E=function(e,t){return Object(i["k"])("checkItemTemplateRelationship/deleteById.action?",e,t)},O=function(e,t){return Object(i["k"])("checkTemplateWorkshopTypeRelationship/getPageWorkshopTypeRelationshipTemplate.action?",e,t)},v=function(e,t){return Object(i["k"])("checkTemplateWorkshopTypeRelationship/updateWorkshopTypeRelationshipTemplate.action?",e,t)},N=function(e,t){return Object(i["k"])("check/getListGroupTreeDeviceCheckByCurrentUser.action?",e,t)},k=function(e,t){return Object(i["k"])("check/getListGroupTreeDeviceCheck.action?",e,t)},S=function(e,t){return Object(i["k"])("check/getListCheckListByDeviceCode.action?",e,t)},I=function(e,t){return Object(i["k"])("check/getListLastCheckListByDeviceCode.action?",e,t)},_=function(e,t){return Object(i["k"])("check/updateCheckList.action?",e,t)},w=function(e,t){return Object(i["k"])("check/getListDeviceCheckHistory.action?",e,t)},x=function(e,t){return Object(i["k"])("check/getListShiftByDeviceCode.action?",e,t)},L=function(e,t){return Object(i["k"])("check/getAppCheckListByDateAndDeviceCode.action?",e,t)},A=function(e,t){return Object(i["k"])("check/updateHolidayInspectionFree.action?",e,t)},D=function(e,t){return Object(i["k"])("fileResource/deleteByIds.action?",e,t)},R=function(e,t){return Object(i["k"])("check/getCheckRepairTaskSwitch.action?",e,t)},j=function(e,t){return Object(i["k"])("check/insertCheckRepairTask.action?",e,t)},P=function(e,t){return Object(i["k"])("check/checkReview.action?",e,t)},y=function(e,t){return Object(i["k"])("check/checkUnReview.action?",e,t)},H=function(e,t){return Object(i["k"])("check/getUnReviewCheckRecord.action?",e,t)},M=function(e,t){return Object(i["e"])(n["d"]+"check/getListCheckListByDeviceCode.action?",e,t)},U=function(e,t){return Object(i["e"])(n["d"]+"check/getListLastCheckListByDeviceCode.action?",e,t)}},b905:function(e,t,a){"use strict";var i=a("3682"),n=a.n(i);n.a},bade:function(e,t,a){},bfc5:function(e,t,a){"use strict";var i=a("b2a3"),n=a.n(i);n.a},cb05:function(e,t,a){"use strict";var i=a("9cd1"),n=a.n(i);n.a},dd5d:function(e,t,a){},dd8e:function(e,t,a){"use strict";var i=a("e8d4"),n=a.n(i);n.a},e67b:function(e,t,a){"use strict";var i=a("1e20"),n=a.n(i);n.a},e8d4:function(e,t,a){},e91a:function(e,t,a){"use strict";var i=a("2b6e"),n=a.n(i);n.a},f19b:function(e,t,a){},f263:function(e,t,a){},f699:function(e,t,a){},f8d5:function(e,t,a){}}]);
//# sourceMappingURL=chunk-24fbdf9d.d9fa62af.js.map